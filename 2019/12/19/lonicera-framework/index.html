<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Lonicera Framework | ZYF.IM BLOG</title>
<meta name=keywords content="php,composer"><meta name=description content="【PHP 核心技术与最佳实践】第二版 第 6 章 读书笔记"><meta name=author content="Me"><link rel=canonical href=https://zyf.im/2019/12/19/lonicera-framework/><link crossorigin=anonymous href=/assets/css/stylesheet.4997c86cdc3165a43745858554a5b14aaf4d3769db9f06a36b0c69ef98eb2927.css integrity="sha256-SZfIbNwxZaQ3RYWFVKWxSq9NN2nbnwajawxp75jrKSc=" rel="preload stylesheet" as=style><link rel=icon href=https://zyf.im/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://zyf.im/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://zyf.im/favicon-32x32.png><link rel=apple-touch-icon href=https://zyf.im/apple-touch-icon.png><link rel=mask-icon href=https://zyf.im/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://zyf.im/2019/12/19/lonicera-framework/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-6DVZ6E58DG"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-6DVZ6E58DG")}</script><meta property="og:url" content="https://zyf.im/2019/12/19/lonicera-framework/"><meta property="og:site_name" content="ZYF.IM BLOG"><meta property="og:title" content="Lonicera Framework"><meta property="og:description" content="【PHP 核心技术与最佳实践】第二版 第 6 章 读书笔记"><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-12-19T16:46:06+00:00"><meta property="article:modified_time" content="2019-12-19T16:46:06+00:00"><meta property="article:tag" content="Php"><meta property="article:tag" content="Composer"><meta property="og:image" content="https://images.unsplash.com/photo-1500293333195-9d3fe158b9e4?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=960&amp;q=80"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://images.unsplash.com/photo-1500293333195-9d3fe158b9e4?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=960&amp;q=80"><meta name=twitter:title content="Lonicera Framework"><meta name=twitter:description content="【PHP 核心技术与最佳实践】第二版 第 6 章 读书笔记"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://zyf.im/posts/"},{"@type":"ListItem","position":2,"name":"Lonicera Framework","item":"https://zyf.im/2019/12/19/lonicera-framework/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Lonicera Framework","name":"Lonicera Framework","description":"【PHP 核心技术与最佳实践】第二版 第 6 章 读书笔记","keywords":["php","composer"],"articleBody":"项目代码：imzyf/lonicera | GitHub\n【PHP 核心技术与最佳实践】第二版 第 6 章 读书笔记\nLonicera Framework - Every French soldier carries a marshal’s baton in his knapsack.\nMVC MVC 模式的目的是实现一种动态的程序设计，使后续对程序的修改和扩展简化，并且使程序某一部分的重复利用成为可能。\nLonicera 0.1 bootstrap index.php 单一入口模式。\n启动 PHP 内置 Web 服务器：\nphp -S localhost:7070 路由器层 更偏向于使用 PATH_INFO 方式来访问。\n从传统 URL 参数模式的访问地址进行解析，提取里面的 group、controller、action、param 4 个参数，随后交给 bootstrap 进行 dispatch 处理。\n数据模型 用 PDO 来实现连接数据库。\nORM Object Relational Mapping 对象与数据库的映射叫作对象关系映射 PO Persistent Object 把一个数据库中的表的一行记录对应的对象称为持久对象 BO Business Object 业务对象 把业务逻辑封装为一个对象 VO Value Object 值对象 界面显示的数据对象 DTO Data Transfer Object 用在热呵呵需要数据传输的地方 DAO Data Access Object 指代 Active Record 模式中的数据对象 传统的 ORM 模式提倡数据对象和负责持久化的代码的分开，但是这并没有坚持数据操作的工作量。还有一种 ORM 模式叫作 Active Record。在 Active Record 中，模型层集成了 ORM 的功能，他们及代表实体，包含因为业务逻辑，又是数据对象，并负责把自己存储到数据库中。\nActive Record 模式中的数据对象不再是 PO 对象，而是 DAO。\n一系列的数据库操作组合起来，称之为 Service。Service 向下负责与数据库打交道，向上负责接收页面传递的参数以及数据的传输。理论上应该对 DAO 进项抽象到一个 Service 中。\n视图层 PHP MVC 中的显示层开始朝着轻量化、API 化发展了。\n增强一个类通常途径：\n使用 __call __set __get 等魔术方法 使用反射 使用 trait 使用继承和组合 初步改进 spl_autoload_register 统一加载文件。\nLonicera 0.2 引入异常机制 同时设置 set_error_handler 和 set_exception_handler。PHP 同时存在错误和异常两个互不包含的概念。\n拦截器与插件 dispatch 中处理。使用正则匹配、call_user_func。\nRequest 增强与安全防御 包装 $_REQUEST。\nLonicera 0.3 Composer 类加载机制 PSR-4。\nModel 增强 illuminata/database。\n控制反转与依赖注入 Inversion of Control IoC，Dependency Injection DI。\n谁控制谁？IoC 容器控制了对象。 控制什么？主要控制了外部资源获取（不只是对象创建，还包括比如文件等）。 传统应用程序是：由我们自己在对象中主动控制去直接获取依赖对象，而反转则是：由容器来帮忙创建及注入依赖对象。由于是容器帮我们查找及注入依赖对象，对象只是被动接受依赖对象，所以是反转。\n哪些方面反转了？依赖对象的获取被反转了。 在我们使用 UserOrder 对象的时候，不再需要手动去创建 User 对象和 Order 对象了，而是直接问 IoC 容器去要 UserOrder 对象，IoC 容器会负责查找 UserOrder 的依赖并替我们创建 User 对象和 Order 对象，并管理它们。也就是说和我们打交道的是 IoC 容器。\n依赖注入，是组件之间依赖关系由容器在运行期决定形象来说，即由容器动态地将某个依赖关系注入到组件之中。依赖注入的目的并非是为软件系统带来更多功能，而是为了提高组件重用的效率，并为系统搭建一个灵活、可扩展的平台。\n通过依赖注入机制，我们只需要通过简单的配置，而无需任何代码就可指定目标需要的资源，完成自身的业务逻辑，而不需要关心具体的资源来自何处，由谁实现。\n谁依赖于谁？当然是应用程序依赖于 IoC 容器。 为什么需要依赖？应用程序需要 IoC 容器来提供对象需要的外部资源。 谁注入谁？IoC 容器注入应用程序某个对象，应用程序依赖的对象。 注入了什么？注入某个对象所需要的外部资源(包括对象、资源、常量数据)。 IoC 和 DI 是两个相辅相成的概念，IoC 的实现是使用了 DI，而 DI 的目的是为了实现 IoC。实际上，它们是同一个概念的不同角度描述。\n为什么要这么做，这么做有什么意义呢？依赖注入帮我们降低了创建对象的成本，使得对象之间松耦合。\ncomposer 通过 composer.json 来管理第三方依赖，从这个角度讲，composer 就是一个 IoC 容器。\nPSR-11 Psr\\Contanier\\ContainerInterface。\nDB SQL SET NAMES utf8mb4; SET FOREIGN_KEY_CHECKS = 0; -- ---------------------------- -- Table structure for user -- ---------------------------- DROP TABLE IF EXISTS `user`; CREATE TABLE `user` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT '名字', `age` int(10) unsigned NOT NULL DEFAULT '0', PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci; SET FOREIGN_KEY_CHECKS = 1; – EOF –\n","wordCount":"281","inLanguage":"en","image":"https://images.unsplash.com/photo-1500293333195-9d3fe158b9e4?ixlib=rb-1.2.1\u0026ixid=eyJhcHBfaWQiOjEyMDd9\u0026auto=format\u0026fit=crop\u0026w=960\u0026q=80","datePublished":"2019-12-19T16:46:06Z","dateModified":"2019-12-19T16:46:06Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zyf.im/2019/12/19/lonicera-framework/"},"publisher":{"@type":"Organization","name":"ZYF.IM BLOG","logo":{"@type":"ImageObject","url":"https://zyf.im/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://zyf.im/ accesskey=h title="ZYF.IM (Alt + H)"><img src=https://zyf.im/apple-touch-icon.png alt aria-label=logo height=35>ZYF.IM</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://zyf.im/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://zyf.im/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://zyf.im/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://zyf.im/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://zyf.im/>Home</a>&nbsp;»&nbsp;<a href=https://zyf.im/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Lonicera Framework</h1><div class=post-description>【PHP 核心技术与最佳实践】第二版 第 6 章 读书笔记</div><div class=post-meta><span title='2019-12-19 16:46:06 +0000 UTC'>December 19, 2019</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;281 words&nbsp;·&nbsp;Me</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#mvc>MVC</a></li><li><a href=#lonicera-01>Lonicera 0.1</a><ul><li><a href=#bootstrap>bootstrap</a></li><li><a href=#路由器层>路由器层</a></li><li><a href=#数据模型>数据模型</a></li><li><a href=#视图层>视图层</a></li><li><a href=#初步改进>初步改进</a></li></ul></li><li><a href=#lonicera-02>Lonicera 0.2</a><ul><li><a href=#引入异常机制>引入异常机制</a></li><li><a href=#拦截器与插件>拦截器与插件</a></li><li><a href=#request-增强与安全防御>Request 增强与安全防御</a></li></ul></li><li><a href=#lonicera-03>Lonicera 0.3</a><ul><li><a href=#composer-类加载机制>Composer 类加载机制</a></li><li><a href=#model-增强>Model 增强</a></li><li><a href=#控制反转与依赖注入>控制反转与依赖注入</a></li></ul></li><li><a href=#db-sql>DB SQL</a></li></ul></nav></div></details></div><div class=post-content><p>项目代码：<a href=https://github.com/imzyf/lonicera>imzyf/lonicera | GitHub</a></p><blockquote><p>【PHP 核心技术与最佳实践】第二版 第 6 章 读书笔记</p></blockquote><p>Lonicera Framework - Every French soldier carries a marshal’s baton in his knapsack.</p><h2 id=mvc>MVC<a hidden class=anchor aria-hidden=true href=#mvc>#</a></h2><p>MVC 模式的目的是实现一种动态的程序设计，使后续对程序的修改和扩展简化，并且使程序某一部分的重复利用成为可能。</p><h2 id=lonicera-01>Lonicera 0.1<a hidden class=anchor aria-hidden=true href=#lonicera-01>#</a></h2><h3 id=bootstrap>bootstrap<a hidden class=anchor aria-hidden=true href=#bootstrap>#</a></h3><p>index.php 单一入口模式。</p><p>启动 PHP 内置 Web 服务器：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>php -S localhost:7070
</span></span></code></pre></div><h3 id=路由器层>路由器层<a hidden class=anchor aria-hidden=true href=#路由器层>#</a></h3><p>更偏向于使用 PATH_INFO 方式来访问。</p><p>从传统 URL 参数模式的访问地址进行解析，提取里面的 group、controller、action、param 4 个参数，随后交给 bootstrap 进行 dispatch 处理。</p><h3 id=数据模型>数据模型<a hidden class=anchor aria-hidden=true href=#数据模型>#</a></h3><p>用 PDO 来实现连接数据库。</p><ul><li>ORM Object Relational Mapping 对象与数据库的映射叫作对象关系映射</li><li>PO Persistent Object 把一个数据库中的表的一行记录对应的对象称为持久对象</li><li>BO Business Object 业务对象 把业务逻辑封装为一个对象</li><li>VO Value Object 值对象 界面显示的数据对象</li><li>DTO Data Transfer Object 用在热呵呵需要数据传输的地方</li><li>DAO Data Access Object 指代 Active Record 模式中的数据对象</li></ul><p>传统的 ORM 模式提倡数据对象和负责持久化的代码的分开，但是这并没有坚持数据操作的工作量。还有一种 ORM 模式叫作 Active Record。在 Active Record 中，模型层集成了 ORM 的功能，他们及代表实体，包含因为业务逻辑，又是数据对象，并负责把自己存储到数据库中。</p><p>Active Record 模式中的数据对象不再是 PO 对象，而是 DAO。</p><p>一系列的数据库操作组合起来，称之为 Service。Service 向下负责与数据库打交道，向上负责接收页面传递的参数以及数据的传输。理论上应该对 DAO 进项抽象到一个 Service 中。</p><h3 id=视图层>视图层<a hidden class=anchor aria-hidden=true href=#视图层>#</a></h3><p>PHP MVC 中的显示层开始朝着轻量化、API 化发展了。</p><p>增强一个类通常途径：</p><ol><li>使用 <code>__call</code> <code>__set</code> <code>__get</code> 等魔术方法</li><li>使用反射</li><li>使用 <code>trait</code></li><li>使用继承和组合</li></ol><h3 id=初步改进>初步改进<a hidden class=anchor aria-hidden=true href=#初步改进>#</a></h3><p><code>spl_autoload_register</code> 统一加载文件。</p><h2 id=lonicera-02>Lonicera 0.2<a hidden class=anchor aria-hidden=true href=#lonicera-02>#</a></h2><h3 id=引入异常机制>引入异常机制<a hidden class=anchor aria-hidden=true href=#引入异常机制>#</a></h3><p>同时设置 <code>set_error_handler</code> 和 <code>set_exception_handler</code>。PHP 同时存在错误和异常两个互不包含的概念。</p><h3 id=拦截器与插件>拦截器与插件<a hidden class=anchor aria-hidden=true href=#拦截器与插件>#</a></h3><p><code>dispatch</code> 中处理。使用正则匹配、<code>call_user_func</code>。</p><h3 id=request-增强与安全防御>Request 增强与安全防御<a hidden class=anchor aria-hidden=true href=#request-增强与安全防御>#</a></h3><p>包装 <code>$_REQUEST</code>。</p><h2 id=lonicera-03>Lonicera 0.3<a hidden class=anchor aria-hidden=true href=#lonicera-03>#</a></h2><h3 id=composer-类加载机制>Composer 类加载机制<a hidden class=anchor aria-hidden=true href=#composer-类加载机制>#</a></h3><p><code>PSR-4</code>。</p><h3 id=model-增强>Model 增强<a hidden class=anchor aria-hidden=true href=#model-增强>#</a></h3><p><code>illuminata/database</code>。</p><h3 id=控制反转与依赖注入>控制反转与依赖注入<a hidden class=anchor aria-hidden=true href=#控制反转与依赖注入>#</a></h3><p><code>Inversion of Control</code> <code>IoC</code>，<code>Dependency Injection</code> <code>DI</code>。</p><ul><li>谁控制谁？IoC 容器控制了对象。</li><li>控制什么？主要控制了外部资源获取（不只是对象创建，还包括比如文件等）。</li></ul><p>传统应用程序是：由我们自己在对象中主动控制去直接获取依赖对象，而反转则是：由容器来帮忙创建及注入依赖对象。由于是容器帮我们查找及注入依赖对象，对象只是被动接受依赖对象，所以是反转。</p><ul><li>哪些方面反转了？依赖对象的获取被反转了。</li></ul><p>在我们使用 UserOrder 对象的时候，不再需要手动去创建 User 对象和 Order 对象了，而是直接问 IoC 容器去要 UserOrder 对象，IoC 容器会负责查找 UserOrder 的依赖并替我们创建 User 对象和 Order 对象，并管理它们。也就是说和我们打交道的是 IoC 容器。</p><p>依赖注入，是组件之间依赖关系由容器在运行期决定形象来说，即由容器动态地将某个依赖关系注入到组件之中。依赖注入的目的并非是为软件系统带来更多功能，而是为了提高组件重用的效率，并为系统搭建一个灵活、可扩展的平台。</p><p>通过依赖注入机制，我们只需要通过简单的配置，而无需任何代码就可指定目标需要的资源，完成自身的业务逻辑，而不需要关心具体的资源来自何处，由谁实现。</p><ul><li>谁依赖于谁？当然是应用程序依赖于 IoC 容器。</li><li>为什么需要依赖？应用程序需要 IoC 容器来提供对象需要的外部资源。</li><li>谁注入谁？IoC 容器注入应用程序某个对象，应用程序依赖的对象。</li><li>注入了什么？注入某个对象所需要的外部资源(包括对象、资源、常量数据)。</li></ul><p>IoC 和 DI 是两个相辅相成的概念，IoC 的实现是使用了 DI，而 DI 的目的是为了实现 IoC。实际上，它们是同一个概念的不同角度描述。</p><p>为什么要这么做，这么做有什么意义呢？依赖注入帮我们降低了创建对象的成本，使得对象之间松耦合。</p><p><code>composer</code> 通过 <code>composer.json</code> 来管理第三方依赖，从这个角度讲，<code>composer</code> 就是一个 IoC 容器。</p><p><code>PSR-11</code> <code>Psr\Contanier\ContainerInterface</code>。</p><h2 id=db-sql>DB SQL<a hidden class=anchor aria-hidden=true href=#db-sql>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SET</span><span class=w> </span><span class=k>NAMES</span><span class=w> </span><span class=n>utf8mb4</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SET</span><span class=w> </span><span class=n>FOREIGN_KEY_CHECKS</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- ----------------------------
</span></span></span><span class=line><span class=cl><span class=c1>-- Table structure for user
</span></span></span><span class=line><span class=cl><span class=c1>-- ----------------------------
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>DROP</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=k>IF</span><span class=w> </span><span class=k>EXISTS</span><span class=w> </span><span class=o>`</span><span class=k>user</span><span class=o>`</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=o>`</span><span class=k>user</span><span class=o>`</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=o>`</span><span class=n>id</span><span class=o>`</span><span class=w> </span><span class=nb>int</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span><span class=w> </span><span class=n>unsigned</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=n>AUTO_INCREMENT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=o>`</span><span class=n>name</span><span class=o>`</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>255</span><span class=p>)</span><span class=w> </span><span class=k>COLLATE</span><span class=w> </span><span class=n>utf8mb4_unicode_ci</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=s1>&#39;&#39;</span><span class=w> </span><span class=k>COMMENT</span><span class=w> </span><span class=s1>&#39;名字&#39;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=o>`</span><span class=n>age</span><span class=o>`</span><span class=w> </span><span class=nb>int</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span><span class=w> </span><span class=n>unsigned</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=s1>&#39;0&#39;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=o>`</span><span class=n>id</span><span class=o>`</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w> </span><span class=n>ENGINE</span><span class=o>=</span><span class=n>InnoDB</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=n>CHARSET</span><span class=o>=</span><span class=n>utf8mb4</span><span class=w> </span><span class=k>COLLATE</span><span class=o>=</span><span class=n>utf8mb4_unicode_ci</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SET</span><span class=w> </span><span class=n>FOREIGN_KEY_CHECKS</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><p>&ndash; EOF &ndash;</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://zyf.im/tags/php/>Php</a></li><li><a href=https://zyf.im/tags/composer/>Composer</a></li></ul><nav class=paginav><a class=prev href=https://zyf.im/2019/12/31/review-2019/><span class=title>« Prev</span><br><span>回顾 2019</span>
</a><a class=next href=https://zyf.im/2019/12/09/windows-text-file-to-mac-chinese-messy-code/><span class=title>Next »</span><br><span>Windows 文本文件到 Mac 中文乱码</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://zyf.im/>ZYF.IM BLOG</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>