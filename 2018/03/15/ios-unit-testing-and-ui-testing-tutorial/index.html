<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link rel="preconnect" href="//www.googletagmanager.com"><link rel="preconnect" href="//zz.bdstatic.com"><link rel="preconnect" href="//sp0.baidu.com"><link rel="preconnect" href="//www.google-analytics.com"><link rel="preconnect" href="//cdn1.lncld.net"><link rel="preconnect" href="//unpkg.com"><link rel="preconnect" href="//app-router.leancloud.cn"><link rel="preconnect" href="//9qpuwspm.api.lncld.net"><link rel="preconnect" href="//gravatar.loli.net"><title>【译】iOS 单元测试和 UI 测试入门教程 | 全力以赴</title><meta name="HandheldFriendly" content="True"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="generator" content="hexo"><meta name="author" content="Yifans_Z"><meta name="description" content=""><meta name="keywords" content=""><link rel="shortcut icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/favicon.ico"><meta name="theme-color" content="#3c484e"><meta name="msapplication-TileColor" content="#3c484e"><link rel="alternate" href="/atom.xml" title="全力以赴" type="application/atom+xml"><meta property="og:site_name" content="全力以赴"><meta property="og:type" content="article"><meta property="og:title" content="【译】iOS 单元测试和 UI 测试入门教程 | 全力以赴"><meta property="og:description" content=""><meta property="og:url" content="https://zyf.im/2018/03/15/ios-unit-testing-and-ui-testing-tutorial/"><meta property="article:published_time" content="2018-03-15T19:03:00+08:00"><meta property="article:author" content="Yifans_Z"><meta property="article:published_first" content="全力以赴, /2018/03/15/ios-unit-testing-and-ui-testing-tutorial/"><link rel="stylesheet" href="/css/allinonecss.min.css"><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-84666938-1"></script><script>window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());
		gtag('config', 'UA-84666938-1');</script></head><body class="post-template"><div class="site-wrapper"><header class="site-header post-site-header outer"><div class="inner"><nav class="site-nav"><div class="site-nav-left"><ul class="nav"><li><a href="/" title="Home">HOME</a></li><li><a href="/about" title="ABOUT">ABOUT</a></li><li><a href="/archives" title="ARCHIVES">ARCHIVES</a></li><li><a href="/links" title="LINKS">LINKS</a></li></ul></div><div class="search-button-area"><a href="#search" class="search-button">Search ...</a></div><div class="site-nav-right"><a href="#search" class="search-button">Search ...</a><div class="social-links"><a class="social-link" title="github" href="https://github.com/imzyf" target="_blank" rel="noopener"><svg viewBox="0 0 1049 1024" xmlns="http://www.w3.org/2000/svg"><path d="M524.979332 0C234.676191 0 0 234.676191 0 524.979332c0 232.068678 150.366597 428.501342 358.967656 498.035028 26.075132 5.215026 35.636014-11.299224 35.636014-25.205961 0-12.168395-0.869171-53.888607-0.869171-97.347161-146.020741 31.290159-176.441729-62.580318-176.441729-62.580318-23.467619-60.841976-58.234462-76.487055-58.234463-76.487055-47.804409-32.15933 3.476684-32.15933 3.476685-32.15933 53.019436 3.476684 80.83291 53.888607 80.83291 53.888607 46.935238 79.963739 122.553122 57.365291 152.97411 43.458554 4.345855-33.897672 18.252593-57.365291 33.028501-70.402857-116.468925-12.168395-239.022047-57.365291-239.022047-259.012982 0-57.365291 20.860106-104.300529 53.888607-140.805715-5.215026-13.037566-23.467619-66.926173 5.215027-139.067372 0 0 44.327725-13.906737 144.282399 53.888607 41.720212-11.299224 86.917108-17.383422 131.244833-17.383422s89.524621 6.084198 131.244833 17.383422C756.178839 203.386032 800.506564 217.29277 800.506564 217.29277c28.682646 72.1412 10.430053 126.029806 5.215026 139.067372 33.897672 36.505185 53.888607 83.440424 53.888607 140.805715 0 201.64769-122.553122 245.975415-239.891218 259.012982 19.121764 16.514251 35.636014 47.804409 35.636015 97.347161 0 70.402857-0.869171 126.898978-0.869172 144.282399 0 13.906737 9.560882 30.420988 35.636015 25.205961 208.601059-69.533686 358.967656-265.96635 358.967655-498.035028C1049.958663 234.676191 814.413301 0 524.979332 0z"></path></svg> </a><a class="social-link" title="bilibili" href="https://space.bilibili.com/29991589" target="_blank" rel="noopener"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M360.896 183.968l-90.912-88.096s-14.208-17.472 9.824-37.248c24.16-19.648 25.376-10.912 33.504-5.472s135.2 130.816 135.2 130.816zm301.952 3.264l90.912-88.096s14.208-17.472-9.824-37.248c-24.032-19.648-25.376-10.912-33.504-5.472s-135.2 130.816-135.2 130.816zM1004 350.336c-3.264-137.984-123.168-164.192-123.168-164.192s-614.336-4.96-742.496 0C10.176 222.304 20 350.336 20 350.336s1.696 274.272-.128 413.12c13.824 138.848 120.864 160.928 120.864 160.928s42.72.864 73.92.864c3.264 8.992 5.696 52.544 54.24 52.544 48.416 0 54.24-52.544 54.24-52.544s354.88-1.696 384.352-1.696c1.696 14.816 8.992 54.976 57.536 54.24 48.416-.864 51.712-57.536 51.712-57.536s16.384-1.696 65.664 0C997.344 898.88 1004 764.192 1004 764.192s-1.568-275.872 0-413.856zm-98.912 439.232c0 21.728-17.248 39.456-38.464 39.456H167.2c-21.248 0-38.464-17.6-38.464-39.456V326.336c0-21.728 17.248-39.456 38.464-39.456h699.424c21.248 0 38.464 17.6 38.464 39.456zM202.4 457.152l205.344-39.456 15.52 77.184-203.648 39.456zm638.976 0l-205.344-39.456-15.648 77.184 203.776 39.456zm-418.08 191.392s45.152 81.312 95.264-26.336c48.416 105.088 101.824 27.904 101.824 27.904l30.336 19.776s-56.672 91.136-131.424 22.208c-63.232 68.928-129.728-21.952-129.728-21.952z"></path></svg></a></div></div></nav></div></header><div id="site-main" class="site-main outer" role="main"><div class="inner"><header class="post-full-header"><div class="post-full-meta"><time class="post-full-meta-date" datetime="2018-03-15T11:00:00.000Z">2018-03-15 </time><span class="date-divider">/</span></div><h1 class="post-full-title">【译】iOS 单元测试和 UI 测试入门教程</h1></header><div class="post-full no-image"><div class="post-full-content"><article id="photoswipe" class="markdown-body"><blockquote><p>原文链接：<a target="_blank" rel="noopener" href="https://www.raywenderlich.com/150073/ios-unit-testing-and-ui-testing-tutorial">iOS Unit Testing and UI Testing Tutorial - Ray Wenderlich</a></p></blockquote><p>编写测试并不迷人 (glamorous)，但是既然测试能让你闪闪发光 (sparkling) 的应用程序变成 (from turning into) 一堆乱七八糟的垃圾，那么说明测试是必要的。如果你正在阅读 iOS 单元测试和 UI 测试入门教程，那么你已经知道 <em>应该</em> 为代码和 UI 编写测试，但是你不知道如何在 Xcode 中进行测试。</p><span id="more"></span><p>也行你已经有一个 “可以运行” 的 app 但是没有为它编写任何测试，并且当你想拓展 app 时，你能够测试任何的改变。也许你已经编写了一些测试，但是不确定他们是否是 <em>正确</em> 的测试。或者你现在正在开发你的 app，想在你离开的时候进行测试。</p><p>这篇入门教程将告诉你如何使用 Xcode 的测试导航栏去测试一个 app 模块和异步方法 (asynchronous methods)，如何模拟交互 fake interactions 或者系统对象通过 subs and mocks，如何测试 UI 和性能 performance，和如何使用代码覆盖率工具 code coverage tool。在此过程中 Along the way，您将会学到一些用于测试忍者 testing ninjas 的词汇 vocabulary，在本教程的最后，你将使用依赖注入对您的系统进行测试 you’ll be injecting dependencies into your System Under Test (SUT) with aplomb!。</p><h2 id="测试，测试"><a href="#测试，测试" class="headerlink" title="测试，测试"></a>测试，测试</h2><h3 id="测试什么"><a href="#测试什么" class="headerlink" title="测试什么"></a>测试什么</h3><p>在编写任何测试之前，一个开始时非常重要的基础是：你需要测试什么？如果你的目标是拓展一个已经存在的 app，你首先应该为 <strong>任何你计划改变的组件</strong> 编写测试。</p><p>更普遍的讲，测试应该覆盖：</p><ul><li>核心功能 Core functionality：模型、类和方法，和与他们相互作用的控制器</li><li>最常见的 UI 工作流</li><li>边界条件 Boundary conditions</li><li>Bug 修复</li></ul><h3 id="第一件事-FIRST：测试的最佳实践"><a href="#第一件事-FIRST：测试的最佳实践" class="headerlink" title="第一件事 FIRST：测试的最佳实践"></a>第一件事 FIRST：测试的最佳实践</h3><p>FIRST 首字母缩写词描述了有效单元测试的一套简明标准。这些条件是：</p><ul><li>Fast：运行测试应该快速，这样人们就不会介意运行它们了。</li><li>Independent/Isolated：测试不应该对彼此进行设置或拆解 setup or teardown。</li><li>Repeatable：每次运行测试时，都应该得到相同的结果。外部数据提供者和并发问题可能导致间歇性故障。</li><li>Self-validating：测试应完全自动化；输出应该是“通过”或“失败”，而不是程序员对日志文件的解释。</li><li>Timely：理想情况下，测试应该在编写生产代码之前编写。</li></ul><p>遵循 FIRST 原则，你的测试将保持清晰和有帮助，而不是为你的 app 设置障碍。</p><h2 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h2><p>下载，解压，打开，检查 <a target="_blank" rel="noopener" href="https://koenig-media.raywenderlich.com/uploads/2016/12/Starters.zip">初始项目</a> BullsEye 和 HalfTunes。</p><p>BullsEye 是一个基于 <a target="_blank" rel="noopener" href="https://www.raywenderlich.com/store/ios-apprentice">iOS Apprentice</a> 的示例 app。已经将游戏逻辑提取到一个 BullsEyeGame 类中，并添加了另一种游戏风格。</p><p>在右下角，有一个分段控制，让用户选择游戏风格：Slide，移动滑块尽可能接近目标值，或者 Type，来猜测滑块的位置。控件的操作还将用户的游戏样式选择存储为用户默认值。</p><p>HalfTunes 是 <a target="_blank" rel="noopener" href="https://www.raywenderlich.com/110458/nsurlsession-tutorial-getting-started">NSURLSession Tutorial</a> 中的示例 app，更新至 Swift 3。 用户可以通过 iTunes API 查询歌曲，然后下载并播放歌曲片段。</p><p>让我们开始测试！</p><h2 id="Xcode-中的单元测试"><a href="#Xcode-中的单元测试" class="headerlink" title="Xcode 中的单元测试"></a>Xcode 中的单元测试</h2><h3 id="创建一个-Unit-Test-Target"><a href="#创建一个-Unit-Test-Target" class="headerlink" title="创建一个 Unit Test Target"></a>创建一个 Unit Test Target</h3><p>Xcode Test Navigator 提供了使用测试的最简单的方法；你将使用它创建 test targets 和在 app 运行测试。</p><p>打开 BullsEye 项目然后敲击 Command + 6 打开 test navigator。</p><p>点击右下角的 + 按钮，然后从菜单中选择 New Unit Test Target…</p><p><img class="post-img b-lazy" data-img="https://koenig-media.raywenderlich.com/uploads/2016/12/TestNavigator1.png" data-index="0" data-src="https://koenig-media.raywenderlich.com/uploads/2016/12/TestNavigator1.png"></p><p>接受默认的名字 BullsEyeTests。当 test navigator 中出现 test bundle，点击打开。如果 BullsEyeTests 没有自动出现，通过单击其他 navigators 中的一个来解决问题 trouble-shoot by，然后返回到 test navigator。</p><p><img class="post-img b-lazy" data-img="https://koenig-media.raywenderlich.com/uploads/2016/12/TestNavigator2.png" data-index="1" data-src="https://koenig-media.raywenderlich.com/uploads/2016/12/TestNavigator2.png"></p><p>模板导入了 XCTest 并定义了 XCTestCase 的一个 BullsEyeTests 子类，还有 setup() tearDown() 和 testExample()。</p><p>有三种方法运行 test class：</p><ol><li>Product\Test or Command-U. 将运行所有的 test classes</li><li>在 test navigator 中点击 arrow 按钮</li><li>在边沿点击菱形按钮</li></ol><p><img class="post-img b-lazy" data-img="https://koenig-media.raywenderlich.com/uploads/2016/12/TestNavigator3.png" data-index="2" data-src="https://koenig-media.raywenderlich.com/uploads/2016/12/TestNavigator3.png"></p><p>您还可以通过单击菱形按钮来运行单个测试方法，无论是在 test navigator 中还是在 gutter 中。</p><p>当所有的 tests 成功后，菱形按钮就会变绿并显示出检查的痕迹。单击 testPerformanceExample() 末尾的灰色菱形，打开性能结果：</p><p><img class="post-img b-lazy" data-img="https://koenig-media.raywenderlich.com/uploads/2016/12/TestNavigator4.png" data-index="3" data-src="https://koenig-media.raywenderlich.com/uploads/2016/12/TestNavigator4.png"></p><p>你不需要 testPerformanceExample()，所以删除它。</p><h3 id="使用-XCTAssert-测试-Models"><a href="#使用-XCTAssert-测试-Models" class="headerlink" title="使用 XCTAssert 测试 Models"></a>使用 XCTAssert 测试 Models</h3><p>首先，将使用 XCTAssert 去测试 BullsEye model 中的一个核心方法：BullsEyeGame 对象是否正确计算一个回合的分数。</p><p>在 BullsEyeTests.swift 添加</p><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">@testable import BullsEye</span><br></pre></td></tr></tbody></table></figure><p>这使得 unit tests 可以访问 BullsEye 中的类和方法。</p><p>在 BullsEyeTests 顶部添加属性</p><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">var gameUnderTest: BullsEyeGame!</span><br></pre></td></tr></tbody></table></figure><p>在 setup() 创建一个新 BullsEyeGame 对象，在 super 之后</p><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">gameUnderTest = BullsEyeGame()</span><br><span class="line">gameUnderTest.startNewGame()</span><br></pre></td></tr></tbody></table></figure><p>这将在类级别创建一个 SUT (System Under Test) object，因此这个 test class 中的所有测试都可以访问 SUT 对象的属性和方法。</p><p>在这里你也可以调用 startNewGame，它将创建一个 targetValue。许多测试将使用 targetValue，来测试游戏是否正确地计算了分数。</p><p>不要忘记释放你的 SUT object 在 tearDown()，在你调用 super 之前</p><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">gameUnderTest = nil</span><br></pre></td></tr></tbody></table></figure><blockquote><p>Note: It’s good practice to create the SUT in setup() and release it in tearDown(), to ensure every test starts with a clean slate. For more discussion, check out Jon Reid’s post on the subject.</p></blockquote><p>现在你已经准别写你的第一个 test！</p><p>用一些代码替换 testExample()</p><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">// XCTAssert to test model</span><br><span class="line">func testScoreIsComputed() {</span><br><span class="line">  // 1. given</span><br><span class="line">  let guess = gameUnderTest.targetValue + 5</span><br><span class="line"></span><br><span class="line">  // 2. when</span><br><span class="line">  _ = gameUnderTest.check(guess: guess)</span><br><span class="line"></span><br><span class="line">  // 3. then</span><br><span class="line">  XCTAssertEqual(gameUnderTest.scoreRound, 95, "Score computed from guess is wrong")</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>一个 test 方法总是以 test 开头，接下来是对它测试的描述。</p><p>将测试格式化为 given when then 是很好的做法：</p><ol><li>在 given 部分，设置需要的值：在此例你创建一个 guess 值，所以你可以指定它与 targetValue 有多大的不同。</li><li>在 when 部分，执行正在测试的代码：调用 <code>gameUnderTest.check(_:)</code>。</li><li>在 then 部分，断言你所预期的结果（在本例，gameUnderTest.scoreRound is 100 – 5）如果测试失败，则会打印一条消息。</li></ol><blockquote><p>Note: To see a full list of XCTestAssertions, Command-click XCTAssertEqual in the code to open XCTestAssertions.h, or go to Apple’s Assertions Listed by Category.</p></blockquote><img width="260px" class="post-img b-lazy" data-img="https://koenig-media.raywenderlich.com/uploads/2016/12/givenWhenThen.png" data-index="4" data-src="https://koenig-media.raywenderlich.com/uploads/2016/12/givenWhenThen.png"><blockquote><p>Note: The Given-When-Then structure of a test originated with Behavior Driven Development (BDD) as a client-friendly, low-jargon nomenclature. Alternative naming systems are Arrange-Act-Assert and Assemble-Activate-Assert.</p></blockquote><h3 id="Debugging-a-Test"><a href="#Debugging-a-Test" class="headerlink" title="Debugging a Test"></a>Debugging a Test</h3><p>在 BullsEyeGame 故意留下了 bug，所以现在你要练习找到它。为了找到 bug 将 testScoreIsComputed 改名为 testScoreIsComputedWhenGuessGTTarget。在这个 test 中，在 given 部分从 targetValue 减去 5</p><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">func testScoreIsComputedWhenGuessLTTarget() {</span><br><span class="line">  // 1. given</span><br><span class="line">  let guess = gameUnderTest.targetValue - 5</span><br><span class="line"></span><br><span class="line">  // 2. when</span><br><span class="line">  _ = gameUnderTest.check(guess: guess)</span><br><span class="line"></span><br><span class="line">  // 3. then</span><br><span class="line">  XCTAssertEqual(gameUnderTest.scoreRound, 95, "Score computed from guess is wrong")</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>guess 与 targetValue 之间仍然是 5，所以分数应该还是 95。在 breakpoint navigator 添加 Test Failure Breakpoint，这将在断言失败时停止测试运行。</p><p><img class="post-img b-lazy" data-img="https://koenig-media.raywenderlich.com/uploads/2016/12/AddTestFailureBreakpoint.png" data-index="5" data-src="https://koenig-media.raywenderlich.com/uploads/2016/12/AddTestFailureBreakpoint.png"></p><p>运行你的 test：当测试失败时它将停在 XCTAssertEqual 这行。检查 gameUnderTest 和 guess 在 debug console</p><p><img class="post-img b-lazy" data-img="https://koenig-media.raywenderlich.com/uploads/2016/12/TestFailure.png" data-index="6" data-src="https://koenig-media.raywenderlich.com/uploads/2016/12/TestFailure.png"></p><p>guess 是 trgetValue - 5 但是 scoreRound is 105 不是 95！</p><p>进一步研究，使用正常的调试过程：在 when 声明处和在 BullsEyeGame.swift 设置断点，在 <code>check(_:)</code> 中产生了差异。然后再次运行测试，并且 step-over let difference 检查 difference 的差异值：</p><p><img class="post-img b-lazy" data-img="https://koenig-media.raywenderlich.com/uploads/2016/12/DebugConsole.png" data-index="7" data-src="https://koenig-media.raywenderlich.com/uploads/2016/12/DebugConsole.png"></p><p>问题是 difference 是负的，所以得分是 100 – (-5)，使用 difference 绝对值来修复这里。</p><p>移除两个断点然后再次运行测试以确认它现在成功了。</p><blockquote><p>待续</p></blockquote></article><ul class="tags-postTags"><li><a href="/tags/ios/" rel="tag"># ios</a></li></ul></div></div></div><nav id="gobottom" class="pagination"><a class="prev-post" title="UITableViewCell 自适应 UITextView 高度" href="/2018/03/27/self-sizing-uitextview-in-a-uitableviewcell/">← UITableViewCell 自适应 UITextView 高度 </a><span class="prev-next-post">·</span> <a class="next-post" title="【Git 权威指南】读书笔记 - 协同模型" href="/2018/01/19/got-git-reading-notes-model/">【Git 权威指南】读书笔记 - 协同模型 →</a></nav></div><div class="toc-bar"><div class="toc-btn-bar"><a href="#site-main" class="toc-btn"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M793.024 710.272a32 32 0 1 0 45.952-44.544l-310.304-320a32 32 0 0 0-46.4 0.48l-297.696 320a32 32 0 0 0 46.848 43.584l274.752-295.328 286.848 295.808z"></path></svg></a><div class="toc-btn toc-switch"><svg class="toc-open" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M779.776 480h-387.2a32 32 0 0 0 0 64h387.2a32 32 0 0 0 0-64M779.776 672h-387.2a32 32 0 0 0 0 64h387.2a32 32 0 0 0 0-64M256 288a32 32 0 1 0 0 64 32 32 0 0 0 0-64M392.576 352h387.2a32 32 0 0 0 0-64h-387.2a32 32 0 0 0 0 64M256 480a32 32 0 1 0 0 64 32 32 0 0 0 0-64M256 672a32 32 0 1 0 0 64 32 32 0 0 0 0-64"></path></svg> <svg class="toc-close hide" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M512 960c-247.039484 0-448-200.960516-448-448S264.960516 64 512 64 960 264.960516 960 512 759.039484 960 512 960zM512 128.287273c-211.584464 0-383.712727 172.128262-383.712727 383.712727 0 211.551781 172.128262 383.712727 383.712727 383.712727 211.551781 0 383.712727-172.159226 383.712727-383.712727C895.712727 300.415536 723.551781 128.287273 512 128.287273z"></path><path d="M557.05545 513.376159l138.367639-136.864185c12.576374-12.416396 12.672705-32.671738 0.25631-45.248112s-32.704421-12.672705-45.248112-0.25631l-138.560301 137.024163-136.447897-136.864185c-12.512727-12.512727-32.735385-12.576374-45.248112-0.063647-12.512727 12.480043-12.54369 32.735385-0.063647 45.248112l136.255235 136.671523-137.376804 135.904314c-12.576374 12.447359-12.672705 32.671738-0.25631 45.248112 6.271845 6.335493 14.496116 9.504099 22.751351 9.504099 8.12794 0 16.25588-3.103239 22.496761-9.247789l137.567746-136.064292 138.687596 139.136568c6.240882 6.271845 14.432469 9.407768 22.65674 9.407768 8.191587 0 16.352211-3.135923 22.591372-9.34412 12.512727-12.480043 12.54369-32.704421 0.063647-45.248112L557.05545 513.376159z"></path></svg></div><a href="#gobottom" class="toc-btn"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M231.424 346.208a32 32 0 0 0-46.848 43.584l297.696 320a32 32 0 0 0 46.4 0.48l310.304-320a32 32 0 1 0-45.952-44.544l-286.848 295.808-274.752-295.36z"></path></svg></a></div><div class="toc-main"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%EF%BC%8C%E6%B5%8B%E8%AF%95"><span class="toc-text">测试，测试</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E4%BB%80%E4%B9%88"><span class="toc-text">测试什么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E4%BB%B6%E4%BA%8B-FIRST%EF%BC%9A%E6%B5%8B%E8%AF%95%E7%9A%84%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="toc-text">第一件事 FIRST：测试的最佳实践</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%A7%8B"><span class="toc-text">开始</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Xcode-%E4%B8%AD%E7%9A%84%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95"><span class="toc-text">Xcode 中的单元测试</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA-Unit-Test-Target"><span class="toc-text">创建一个 Unit Test Target</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-XCTAssert-%E6%B5%8B%E8%AF%95-Models"><span class="toc-text">使用 XCTAssert 测试 Models</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Debugging-a-Test"><span class="toc-text">Debugging a Test</span></a></li></ol></li></ol></div></div><!-- Root element of PhotoSwipe. Must have class pswp. --><div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). --><div class="pswp__bg"></div><!-- Slides wrapper with overflow:hidden. --><div class="pswp__scroll-wrap"><!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. --><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. --><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><!--  Controls are self-explanatory. Order can be changed. --><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button> <button class="pswp__button pswp__button--share" title="Share"></button> <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button> <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR --><!-- element will get class pswp__preloader--active when preloader is running --><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button> <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div><aside class="read-next outer"><div class="inner"><div class="read-next-feed"><article class="read-next-card" style="background-image: url(https://i.loli.net/2017/11/26/5a19c56faa29f.jpg)"><header class="read-next-card-header"><small class="read-next-card-header-sitetitle">— 全力以赴 —</small><h3 class="read-next-card-header-title">Recent Posts</h3></header><div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"></path></svg></div><div class="read-next-card-content"><ul><li><a href="/2023/11/15/null/">IT 交付能效提升问卷调查</a></li><li><a href="/2023/05/23/vue-practice/">Vue 开发实战</a></li><li><a href="/2023/04/19/mongodb-course/">MongoDB 高手课</a></li></ul></div><footer class="read-next-card-footer"><a href="/archives">MORE →</a></footer></article><article class="read-next-card" style="background-image: url(https://i.loli.net/2017/11/26/5a19c56faa29f.jpg)"><header class="read-next-card-header tagcloud-card"><h3 class="read-next-card-header-title">Categories</h3></header><div class="read-next-card-content"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/code-snippet/">code-snippet</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/review/">review</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/thinking/">thinking</a></li></ul></div></article><article class="read-next-card" style="background-image: url(https://i.loli.net/2017/11/26/5a19c56faa29f.jpg)"><header class="read-next-card-header tagcloud-card"><h3 class="read-next-card-header-title">Tag Cloud</h3></header><div class="read-next-card-content-ext"><a href="/tags/algorithm/" style="font-size: 19.38px;">algorithm</a> <a href="/tags/centos/" style="font-size: 14.77px;">centos</a> <a href="/tags/composer/" style="font-size: 15.54px;">composer</a> <a href="/tags/ddd/" style="font-size: 14px;">ddd</a> <a href="/tags/design-pattern/" style="font-size: 15.54px;">design-pattern</a> <a href="/tags/docker/" style="font-size: 14px;">docker</a> <a href="/tags/git/" style="font-size: 23.23px;">git</a> <a href="/tags/github/" style="font-size: 15.54px;">github</a> <a href="/tags/go/" style="font-size: 14px;">go</a> <a href="/tags/hexo/" style="font-size: 15.54px;">hexo</a> <a href="/tags/hive/" style="font-size: 14px;">hive</a> <a href="/tags/ios/" style="font-size: 20.92px;">ios</a> <a href="/tags/java/" style="font-size: 20.92px;">java</a> <a href="/tags/javascript/" style="font-size: 14.77px;">javascript</a> <a href="/tags/kubernetes/" style="font-size: 15.54px;">kubernetes</a> <a href="/tags/leetcode/" style="font-size: 22.46px;">leetcode</a> <a href="/tags/linux/" style="font-size: 17.08px;">linux</a> <a href="/tags/mac/" style="font-size: 17.08px;">mac</a> <a href="/tags/mongodb/" style="font-size: 14px;">mongodb</a> <a href="/tags/mysql/" style="font-size: 21.69px;">mysql</a> <a href="/tags/nginx/" style="font-size: 17.85px;">nginx</a> <a href="/tags/node-js/" style="font-size: 14.77px;">node-js</a> <a href="/tags/npm/" style="font-size: 14px;">npm</a> <a href="/tags/photoshop/" style="font-size: 14px;">photoshop</a> <a href="/tags/php/" style="font-size: 24px;">php</a> <a href="/tags/phpstorm/" style="font-size: 14.77px;">phpstorm</a> <a href="/tags/pr/" style="font-size: 14px;">pr</a> <a href="/tags/reading-notes/" style="font-size: 15.54px;">reading-notes</a> <a href="/tags/redis/" style="font-size: 14px;">redis</a> <a href="/tags/regular-expression/" style="font-size: 14px;">regular-expression</a> <a href="/tags/ssh/" style="font-size: 14.77px;">ssh</a> <a href="/tags/swift/" style="font-size: 20.15px;">swift</a> <a href="/tags/swoft/" style="font-size: 14px;">swoft</a> <a href="/tags/thinking/" style="font-size: 16.31px;">thinking</a> <a href="/tags/ubuntu/" style="font-size: 18.62px;">ubuntu</a> <a href="/tags/vim/" style="font-size: 14.77px;">vim</a> <a href="/tags/vue/" style="font-size: 15.54px;">vue</a> <a href="/tags/yii2/" style="font-size: 15.54px;">yii2</a></div></article></div></div></aside><div id="search" class="search-overlay"><div class="search-form"><div class="search-overlay-logo"><img src="/favicon.ico" alt="全力以赴"></div><input id="local-search-input" class="search-input" type="text" name="search" placeholder="Search ..."> <a class="search-overlay-close" href="#"></a></div><div id="local-search-result"></div></div><footer class="site-footer outer"><div class="site-footer-content inner"><div class="copyright"><a href="/" title="全力以赴">全力以赴 · 永远热泪盈眶 © 2023</a></div><nav class="site-footer-nav"><a href="https://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a> <a href="https://github.com/xzhih/hexo-theme-casper" title="Casper" target="_blank" rel="noopener">Casper</a></nav></div></footer><script data-ad-client="ca-pub-2330747317815601" async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>if(window.navigator && navigator.serviceWorker) {
        navigator.serviceWorker.getRegistrations().then(function(registrations) {
            for(let registration of registrations) {
                registration.unregister()
            }
        })
    }</script><script id="scriptLoad" src="/js/allinone.js" async=""></script><script>document.getElementById('scriptLoad').addEventListener('load', function () {
        
        
            var bLazy = new Blazy();
        

        
        

        
        
        
            searchFunc("/");
        
        
    })</script><link rel="stylesheet" href="/photoswipe/photoswipe.css"><link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css"><script src="/photoswipe/photoswipe.min.js"></script><script src="/photoswipe/photoswipe-ui-default.min.js"></script></body></html>