<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Shell Code Snippet | ZYF.IM BLOG</title><meta name=keywords content><meta name=description content="Package Management
Find Packages with pkgs.org
pkgs.org is a Linux package search website that helps you find software packages for various Linux distributions.
# Check installed package versions (Red Hat/CentOS)
rpm -qa | grep docker
Process Management
Run Commands in Background
# Run in background (will stop when terminal closes)
cmd &

# Run in background (continues after terminal closes)
nohup cmd &
Control Background Jobs

Ctrl + Z - Pause the current foreground job and move it to background
jobs - List all background jobs (jobs -l shows PIDs)
fg - Bring the most recent background job to foreground
fg %N - Bring job number N to foreground
bg - Resume the most recent job in the background
bg %N - Resume job number N in the background

Using fg Command
# Restore the most recent background job
fg

# Restore a specific job by number
fg 1

# Restore using % syntax
fg %2

# Restore by process name
fg %vim

# List all background jobs
jobs
DNS Operations
Lookup CNAME Records
CNAME (Canonical Name) records map one domain name to another, commonly used for subdomains or third-party hosted services."><meta name=author content="Me"><link rel=canonical href=https://zyf.im/2022/07/28/shell-code-snippet/><link crossorigin=anonymous href=/assets/css/stylesheet.63618a0fd0c7dd946ad6f368012c097fc6e5a8464cefd289c140dd28c01ec58d.css integrity="sha256-Y2GKD9DH3ZRq1vNoASwJf8blqEZM79KJwUDdKMAexY0=" rel="preload stylesheet" as=style><link rel=icon href=https://zyf.im/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://zyf.im/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://zyf.im/favicon-32x32.png><link rel=apple-touch-icon href=https://zyf.im/apple-touch-icon.png><link rel=mask-icon href=https://zyf.im/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://zyf.im/2022/07/28/shell-code-snippet/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-6DVZ6E58DG"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-6DVZ6E58DG")}</script><meta property="og:url" content="https://zyf.im/2022/07/28/shell-code-snippet/"><meta property="og:site_name" content="ZYF.IM BLOG"><meta property="og:title" content="Shell Code Snippet"><meta property="og:description" content="Package Management Find Packages with pkgs.org pkgs.org is a Linux package search website that helps you find software packages for various Linux distributions.
# Check installed package versions (Red Hat/CentOS) rpm -qa | grep docker Process Management Run Commands in Background # Run in background (will stop when terminal closes) cmd & # Run in background (continues after terminal closes) nohup cmd & Control Background Jobs Ctrl + Z - Pause the current foreground job and move it to background jobs - List all background jobs (jobs -l shows PIDs) fg - Bring the most recent background job to foreground fg %N - Bring job number N to foreground bg - Resume the most recent job in the background bg %N - Resume job number N in the background Using fg Command # Restore the most recent background job fg # Restore a specific job by number fg 1 # Restore using % syntax fg %2 # Restore by process name fg %vim # List all background jobs jobs DNS Operations Lookup CNAME Records CNAME (Canonical Name) records map one domain name to another, commonly used for subdomains or third-party hosted services."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-07-28T11:51:46+00:00"><meta property="article:modified_time" content="2022-07-28T11:51:46+00:00"><meta property="og:image" content="https://images.unsplash.com/photo-1650198147183-4a802821f1ed?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=960&amp;q=80"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://images.unsplash.com/photo-1650198147183-4a802821f1ed?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=960&amp;q=80"><meta name=twitter:title content="Shell Code Snippet"><meta name=twitter:description content="Package Management
Find Packages with pkgs.org
pkgs.org is a Linux package search website that helps you find software packages for various Linux distributions.
# Check installed package versions (Red Hat/CentOS)
rpm -qa | grep docker
Process Management
Run Commands in Background
# Run in background (will stop when terminal closes)
cmd &

# Run in background (continues after terminal closes)
nohup cmd &
Control Background Jobs

Ctrl + Z - Pause the current foreground job and move it to background
jobs - List all background jobs (jobs -l shows PIDs)
fg - Bring the most recent background job to foreground
fg %N - Bring job number N to foreground
bg - Resume the most recent job in the background
bg %N - Resume job number N in the background

Using fg Command
# Restore the most recent background job
fg

# Restore a specific job by number
fg 1

# Restore using % syntax
fg %2

# Restore by process name
fg %vim

# List all background jobs
jobs
DNS Operations
Lookup CNAME Records
CNAME (Canonical Name) records map one domain name to another, commonly used for subdomains or third-party hosted services."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://zyf.im/posts/"},{"@type":"ListItem","position":2,"name":"Shell Code Snippet","item":"https://zyf.im/2022/07/28/shell-code-snippet/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Shell Code Snippet","name":"Shell Code Snippet","description":"Package Management Find Packages with pkgs.org pkgs.org is a Linux package search website that helps you find software packages for various Linux distributions.\n# Check installed package versions (Red Hat/CentOS) rpm -qa | grep docker Process Management Run Commands in Background # Run in background (will stop when terminal closes) cmd \u0026amp; # Run in background (continues after terminal closes) nohup cmd \u0026amp; Control Background Jobs Ctrl + Z - Pause the current foreground job and move it to background jobs - List all background jobs (jobs -l shows PIDs) fg - Bring the most recent background job to foreground fg %N - Bring job number N to foreground bg - Resume the most recent job in the background bg %N - Resume job number N in the background Using fg Command # Restore the most recent background job fg # Restore a specific job by number fg 1 # Restore using % syntax fg %2 # Restore by process name fg %vim # List all background jobs jobs DNS Operations Lookup CNAME Records CNAME (Canonical Name) records map one domain name to another, commonly used for subdomains or third-party hosted services.\n","keywords":[],"articleBody":"Package Management Find Packages with pkgs.org pkgs.org is a Linux package search website that helps you find software packages for various Linux distributions.\n# Check installed package versions (Red Hat/CentOS) rpm -qa | grep docker Process Management Run Commands in Background # Run in background (will stop when terminal closes) cmd \u0026 # Run in background (continues after terminal closes) nohup cmd \u0026 Control Background Jobs Ctrl + Z - Pause the current foreground job and move it to background jobs - List all background jobs (jobs -l shows PIDs) fg - Bring the most recent background job to foreground fg %N - Bring job number N to foreground bg - Resume the most recent job in the background bg %N - Resume job number N in the background Using fg Command # Restore the most recent background job fg # Restore a specific job by number fg 1 # Restore using % syntax fg %2 # Restore by process name fg %vim # List all background jobs jobs DNS Operations Lookup CNAME Records CNAME (Canonical Name) records map one domain name to another, commonly used for subdomains or third-party hosted services.\n# Using dig dig example.com cname # Output: example.com. 300 IN CNAME target-domain.com. # Using host command host -t CNAME example.com # Output: example.com is an alias for target-domain.com. # Using nslookup nslookup -type=CNAME example.com # Output: example.com canonical name = target-domain.com. # Check multiple domains at once dig +short CNAME www.example.com blog.example.com # See full DNS lookup path dig +trace example.com File System Operations Find Large Files # Find and display the 3 largest files/folders in current directory du -sh ./* | sort -rh | head -3 # Find files larger than 100MB find . -type f -size +100M # Find large files and show human-readable sizes find . -type f -size +50M -exec du -h {} \\; | sort -rh Dealing with Deleted Files That Still Use Space When you delete a file but the disk space isn’t freed, it’s usually because a process is still using the file.\n# Find deleted files still in use lsof | grep deleted # Clear file content without deleting the file echo \"\" \u003e /var/log/large_logfile.log # Or more safely: truncate -s 0 /var/log/large_logfile.log Search Text in Files Recursively The Set Builtin Bash 脚本 set 命令教程 # Search for text in all files in current directory and subdirectories grep -r \"search text\" . # Limit search to specific file types grep -r \"search text\" --include=\"*.php\" . # Show line numbers in results grep -rn \"search text\" . # Case-insensitive search grep -ri \"search text\" . Script Safety with set The set command controls shell behavior and can make scripts safer.\n#!/usr/bin/env bash # Stop script if any command fails set -o errexit # Same as set -e # Treat unset variables as errors set -o nounset # Same as set -u # Make pipeline fail if any command in it fails set -o pipefail # Print commands before execution (useful for debugging) set -o xtrace # Same as set -x # Common combined safety settings set -euxo pipefail Error Handling Patterns # Stop if command fails command || exit 1 # With error message command || { echo \"Command failed\"; exit 1; } # Using if statement if ! command; then echo \"Command failed\" exit 1 fi # Other way command if [ \"$?\" -ne 0 ]; then echo \"command failed\"; exit 1; fi # Execute second command only if first succeeds command1 \u0026\u0026 command2 Navigation Shortcuts Using CDPATH CDPATH creates shortcuts for the cd command by checking multiple locations.\n# Add directories to CDPATH export CDPATH=.:/etc:~/projects # Now you can directly cd to subdirectories of those paths cd project1 # Changes to ~/projects/project1 cd mail # Changes to /etc/mail # Unset CDPATH (useful in scripts for predictability) unset CDPATH System Configuration Set Timezone in Ubuntu # Interactive timezone selection sudo dpkg-reconfigure tzdata # Set timezone directly sudo timedatectl set-timezone Asia/Shanghai # Restart logging service (may be needed for cron) sudo systemctl restart rsyslog # Or /etc/init.d/rsyslog restart Open PDF Files from Terminal # Open PDF without loading file explorer evince document.pdf # Alternative PDF viewers xpdf document.pdf okular document.pdf References setting timezone from terminal - Ask Ubuntu cron - How do you set the timezone for crontab? - Ask Ubuntu Ubuntu 命令行打开 PDF 文件 - bigmarco 的专栏 Linux 文件删除，但是 df 之后磁盘空间没有释放 | cnblogs How to lookup CNAME records | nslookup.io Linux 命令后台运行 – EOF –\n","wordCount":"746","inLanguage":"en","image":"https://images.unsplash.com/photo-1650198147183-4a802821f1ed?ixlib=rb-1.2.1\u0026ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8\u0026auto=format\u0026fit=crop\u0026w=960\u0026q=80","datePublished":"2022-07-28T11:51:46Z","dateModified":"2022-07-28T11:51:46Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zyf.im/2022/07/28/shell-code-snippet/"},"publisher":{"@type":"Organization","name":"ZYF.IM BLOG","logo":{"@type":"ImageObject","url":"https://zyf.im/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://zyf.im/ accesskey=h title="ZYF.IM (Alt + H)"><img src=https://zyf.im/apple-touch-icon.png alt aria-label=logo height=35>ZYF.IM</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://zyf.im/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://zyf.im/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://zyf.im/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://zyf.im/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://zyf.im/>Home</a>&nbsp;»&nbsp;<a href=https://zyf.im/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Shell Code Snippet</h1><div class=post-meta><span title='2022-07-28 11:51:46 +0000 UTC'>July 28, 2022</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;746 words&nbsp;·&nbsp;Me</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#package-management>Package Management</a><ul><li><a href=#find-packages-with-pkgsorg>Find Packages with pkgs.org</a></li></ul></li><li><a href=#process-management>Process Management</a><ul><li><a href=#run-commands-in-background>Run Commands in Background</a></li><li><a href=#control-background-jobs>Control Background Jobs</a></li><li><a href=#using-fg-command>Using fg Command</a></li></ul></li><li><a href=#dns-operations>DNS Operations</a><ul><li><a href=#lookup-cname-records>Lookup CNAME Records</a></li></ul></li><li><a href=#file-system-operations>File System Operations</a><ul><li><a href=#find-large-files>Find Large Files</a></li><li><a href=#dealing-with-deleted-files-that-still-use-space>Dealing with Deleted Files That Still Use Space</a></li><li><a href=#search-text-in-files-recursively>Search Text in Files Recursively</a></li></ul></li><li><a href=#script-safety-with-set>Script Safety with set</a><ul><li><a href=#error-handling-patterns>Error Handling Patterns</a></li></ul></li><li><a href=#navigation-shortcuts>Navigation Shortcuts</a><ul><li><a href=#using-cdpath>Using CDPATH</a></li></ul></li><li><a href=#system-configuration>System Configuration</a><ul><li><a href=#set-timezone-in-ubuntu>Set Timezone in Ubuntu</a></li><li><a href=#open-pdf-files-from-terminal>Open PDF Files from Terminal</a></li></ul></li><li><a href=#references>References</a></li></ul></nav></div></details></div><div class=post-content><h2 id=package-management>Package Management<a hidden class=anchor aria-hidden=true href=#package-management>#</a></h2><h3 id=find-packages-with-pkgsorg>Find Packages with pkgs.org<a hidden class=anchor aria-hidden=true href=#find-packages-with-pkgsorg>#</a></h3><p><a href=https://pkgs.org/>pkgs.org</a> is a Linux package search website that helps you find software packages for various Linux distributions.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Check installed package versions (Red Hat/CentOS)</span>
</span></span><span class=line><span class=cl>rpm -qa <span class=p>|</span> grep docker
</span></span></code></pre></div><h2 id=process-management>Process Management<a hidden class=anchor aria-hidden=true href=#process-management>#</a></h2><h3 id=run-commands-in-background>Run Commands in Background<a hidden class=anchor aria-hidden=true href=#run-commands-in-background>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Run in background (will stop when terminal closes)</span>
</span></span><span class=line><span class=cl>cmd <span class=p>&amp;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Run in background (continues after terminal closes)</span>
</span></span><span class=line><span class=cl>nohup cmd <span class=p>&amp;</span>
</span></span></code></pre></div><h3 id=control-background-jobs>Control Background Jobs<a hidden class=anchor aria-hidden=true href=#control-background-jobs>#</a></h3><ul><li><code>Ctrl + Z</code> - Pause the current foreground job and move it to background</li><li><code>jobs</code> - List all background jobs (<code>jobs -l</code> shows PIDs)</li><li><code>fg</code> - Bring the most recent background job to foreground</li><li><code>fg %N</code> - Bring job number N to foreground</li><li><code>bg</code> - Resume the most recent job in the background</li><li><code>bg %N</code> - Resume job number N in the background</li></ul><h3 id=using-fg-command>Using fg Command<a hidden class=anchor aria-hidden=true href=#using-fg-command>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Restore the most recent background job</span>
</span></span><span class=line><span class=cl><span class=nb>fg</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Restore a specific job by number</span>
</span></span><span class=line><span class=cl><span class=nb>fg</span> <span class=m>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Restore using % syntax</span>
</span></span><span class=line><span class=cl><span class=nb>fg</span> %2
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Restore by process name</span>
</span></span><span class=line><span class=cl><span class=nb>fg</span> %vim
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># List all background jobs</span>
</span></span><span class=line><span class=cl><span class=nb>jobs</span>
</span></span></code></pre></div><h2 id=dns-operations>DNS Operations<a hidden class=anchor aria-hidden=true href=#dns-operations>#</a></h2><h3 id=lookup-cname-records>Lookup CNAME Records<a hidden class=anchor aria-hidden=true href=#lookup-cname-records>#</a></h3><p>CNAME (Canonical Name) records map one domain name to another, commonly used for subdomains or third-party hosted services.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Using dig</span>
</span></span><span class=line><span class=cl>dig example.com cname
</span></span><span class=line><span class=cl><span class=c1># Output: example.com. 300 IN CNAME target-domain.com.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Using host command</span>
</span></span><span class=line><span class=cl>host -t CNAME example.com
</span></span><span class=line><span class=cl><span class=c1># Output: example.com is an alias for target-domain.com.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Using nslookup</span>
</span></span><span class=line><span class=cl>nslookup -type<span class=o>=</span>CNAME example.com
</span></span><span class=line><span class=cl><span class=c1># Output: example.com canonical name = target-domain.com.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Check multiple domains at once</span>
</span></span><span class=line><span class=cl>dig +short CNAME www.example.com blog.example.com
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># See full DNS lookup path</span>
</span></span><span class=line><span class=cl>dig +trace example.com
</span></span></code></pre></div><h2 id=file-system-operations>File System Operations<a hidden class=anchor aria-hidden=true href=#file-system-operations>#</a></h2><h3 id=find-large-files>Find Large Files<a hidden class=anchor aria-hidden=true href=#find-large-files>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Find and display the 3 largest files/folders in current directory</span>
</span></span><span class=line><span class=cl>du -sh ./* <span class=p>|</span> sort -rh <span class=p>|</span> head -3
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Find files larger than 100MB</span>
</span></span><span class=line><span class=cl>find . -type f -size +100M
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Find large files and show human-readable sizes</span>
</span></span><span class=line><span class=cl>find . -type f -size +50M -exec du -h <span class=o>{}</span> <span class=se>\;</span> <span class=p>|</span> sort -rh
</span></span></code></pre></div><h3 id=dealing-with-deleted-files-that-still-use-space>Dealing with Deleted Files That Still Use Space<a hidden class=anchor aria-hidden=true href=#dealing-with-deleted-files-that-still-use-space>#</a></h3><p>When you delete a file but the disk space isn&rsquo;t freed, it&rsquo;s usually because a process is still using the file.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Find deleted files still in use</span>
</span></span><span class=line><span class=cl>lsof <span class=p>|</span> grep deleted
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Clear file content without deleting the file</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;&#34;</span> &gt; /var/log/large_logfile.log
</span></span><span class=line><span class=cl><span class=c1># Or more safely:</span>
</span></span><span class=line><span class=cl>truncate -s <span class=m>0</span> /var/log/large_logfile.log
</span></span></code></pre></div><h3 id=search-text-in-files-recursively>Search Text in Files Recursively<a hidden class=anchor aria-hidden=true href=#search-text-in-files-recursively>#</a></h3><blockquote><ul><li><a href=https://www.gnu.org/software/bash/manual/html_node/The-Set-Builtin.html>The Set Builtin</a></li><li><a href=https://www.ruanyifeng.com/blog/2017/11/bash-set.html>Bash 脚本 set 命令教程</a></li></ul></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Search for text in all files in current directory and subdirectories</span>
</span></span><span class=line><span class=cl>grep -r <span class=s2>&#34;search text&#34;</span> .
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Limit search to specific file types</span>
</span></span><span class=line><span class=cl>grep -r <span class=s2>&#34;search text&#34;</span> --include<span class=o>=</span><span class=s2>&#34;*.php&#34;</span> .
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Show line numbers in results</span>
</span></span><span class=line><span class=cl>grep -rn <span class=s2>&#34;search text&#34;</span> .
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Case-insensitive search</span>
</span></span><span class=line><span class=cl>grep -ri <span class=s2>&#34;search text&#34;</span> .
</span></span></code></pre></div><h2 id=script-safety-with-set>Script Safety with set<a hidden class=anchor aria-hidden=true href=#script-safety-with-set>#</a></h2><p>The <code>set</code> command controls shell behavior and can make scripts safer.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/usr/bin/env bash
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=c1># Stop script if any command fails</span>
</span></span><span class=line><span class=cl><span class=nb>set</span> -o errexit  <span class=c1># Same as set -e</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Treat unset variables as errors</span>
</span></span><span class=line><span class=cl><span class=nb>set</span> -o nounset  <span class=c1># Same as set -u</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Make pipeline fail if any command in it fails</span>
</span></span><span class=line><span class=cl><span class=nb>set</span> -o pipefail
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Print commands before execution (useful for debugging)</span>
</span></span><span class=line><span class=cl><span class=nb>set</span> -o xtrace   <span class=c1># Same as set -x</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Common combined safety settings</span>
</span></span><span class=line><span class=cl><span class=nb>set</span> -euxo pipefail
</span></span></code></pre></div><h3 id=error-handling-patterns>Error Handling Patterns<a hidden class=anchor aria-hidden=true href=#error-handling-patterns>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Stop if command fails</span>
</span></span><span class=line><span class=cl><span class=nb>command</span> <span class=o>||</span> <span class=nb>exit</span> <span class=m>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># With error message</span>
</span></span><span class=line><span class=cl><span class=nb>command</span> <span class=o>||</span> <span class=o>{</span> <span class=nb>echo</span> <span class=s2>&#34;Command failed&#34;</span><span class=p>;</span> <span class=nb>exit</span> 1<span class=p>;</span> <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Using if statement</span>
</span></span><span class=line><span class=cl><span class=k>if</span> ! command<span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;Command failed&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nb>exit</span> <span class=m>1</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Other way</span>
</span></span><span class=line><span class=cl><span class=nb>command</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> <span class=s2>&#34;</span><span class=nv>$?</span><span class=s2>&#34;</span> -ne <span class=m>0</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span> <span class=nb>echo</span> <span class=s2>&#34;command failed&#34;</span><span class=p>;</span> <span class=nb>exit</span> 1<span class=p>;</span> <span class=k>fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Execute second command only if first succeeds</span>
</span></span><span class=line><span class=cl>command1 <span class=o>&amp;&amp;</span> command2
</span></span></code></pre></div><h2 id=navigation-shortcuts>Navigation Shortcuts<a hidden class=anchor aria-hidden=true href=#navigation-shortcuts>#</a></h2><h3 id=using-cdpath>Using CDPATH<a hidden class=anchor aria-hidden=true href=#using-cdpath>#</a></h3><p>CDPATH creates shortcuts for the <code>cd</code> command by checking multiple locations.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Add directories to CDPATH</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>CDPATH</span><span class=o>=</span>.:/etc:~/projects
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Now you can directly cd to subdirectories of those paths</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> project1    <span class=c1># Changes to ~/projects/project1</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> mail        <span class=c1># Changes to /etc/mail</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Unset CDPATH (useful in scripts for predictability)</span>
</span></span><span class=line><span class=cl><span class=nb>unset</span> CDPATH
</span></span></code></pre></div><h2 id=system-configuration>System Configuration<a hidden class=anchor aria-hidden=true href=#system-configuration>#</a></h2><h3 id=set-timezone-in-ubuntu>Set Timezone in Ubuntu<a hidden class=anchor aria-hidden=true href=#set-timezone-in-ubuntu>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Interactive timezone selection</span>
</span></span><span class=line><span class=cl>sudo dpkg-reconfigure tzdata
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Set timezone directly</span>
</span></span><span class=line><span class=cl>sudo timedatectl set-timezone Asia/Shanghai
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Restart logging service (may be needed for cron)</span>
</span></span><span class=line><span class=cl>sudo systemctl restart rsyslog
</span></span><span class=line><span class=cl><span class=c1># Or</span>
</span></span><span class=line><span class=cl>/etc/init.d/rsyslog restart
</span></span></code></pre></div><h3 id=open-pdf-files-from-terminal>Open PDF Files from Terminal<a hidden class=anchor aria-hidden=true href=#open-pdf-files-from-terminal>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Open PDF without loading file explorer</span>
</span></span><span class=line><span class=cl>evince document.pdf
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Alternative PDF viewers</span>
</span></span><span class=line><span class=cl>xpdf document.pdf
</span></span><span class=line><span class=cl>okular document.pdf
</span></span></code></pre></div><h2 id=references>References<a hidden class=anchor aria-hidden=true href=#references>#</a></h2><ul><li><a href=http://askubuntu.com/questions/323131/setting-timezone-from-terminal>setting timezone from terminal - Ask Ubuntu</a></li><li><a href=https://askubuntu.com/questions/54364/how-do-you-set-the-timezone-for-crontab>cron - How do you set the timezone for crontab? - Ask Ubuntu</a></li><li><a href=http://blog.csdn.net/bigmarco/article/details/6555582>Ubuntu 命令行打开 PDF 文件 - bigmarco 的专栏</a></li><li><a href=https://www.cnblogs.com/xd502djj/p/6668632.html>Linux 文件删除，但是 df 之后磁盘空间没有释放 | cnblogs</a></li><li><a href=https://www.nslookup.io/cname-lookup/>How to lookup CNAME records | nslookup.io</a></li><li><a href=https://juejin.cn/post/6985727600320593951>Linux 命令后台运行</a></li></ul><p>&ndash; EOF &ndash;</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://zyf.im/2022/08/14/mysql-course-45-part1/><span class=title>« Prev</span><br><span>MySQL 实战 45 讲 Part1</span>
</a><a class=next href=https://zyf.im/2022/07/26/front-end-code-snippet/><span class=title>Next »</span><br><span>Front-end Code Snippet</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://zyf.im/>ZYF.IM BLOG</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>