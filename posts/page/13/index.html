<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | ZYF.IM BLOG</title>
<meta name=keywords content><meta name=description content="Posts - ZYF.IM BLOG"><meta name=author content="Me"><link rel=canonical href=https://zyf.im/posts/><link crossorigin=anonymous href=/assets/css/stylesheet.eb010ba19da259e1633d31a246087e3b0656d556c30406763ea24160333d238f.css integrity="sha256-6wELoZ2iWeFjPTGiRgh+OwZW1VbDBAZ2PqJBYDM9I48=" rel="preload stylesheet" as=style><link rel=icon href=https://zyf.im/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://zyf.im/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://zyf.im/favicon-32x32.png><link rel=apple-touch-icon href=https://zyf.im/apple-touch-icon.png><link rel=mask-icon href=https://zyf.im/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://zyf.im/posts/index.xml><link rel=alternate hreflang=en href=https://zyf.im/posts/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-6DVZ6E58DG"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-6DVZ6E58DG")}</script><meta property="og:url" content="https://zyf.im/posts/"><meta property="og:site_name" content="ZYF.IM BLOG"><meta property="og:title" content="Posts"><meta property="og:description" content="Code. Create. Conquer."><meta property="og:locale" content="en-us"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Posts"><meta name=twitter:description content="Code. Create. Conquer."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://zyf.im/posts/"}]}</script></head><body class="list dark" id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://zyf.im/ accesskey=h title="ZYF.IM (Alt + H)"><img src=https://zyf.im/apple-touch-icon.png alt aria-label=logo height=35>ZYF.IM</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://zyf.im/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://zyf.im/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://zyf.im/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://zyf.im/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://zyf.im/>Home</a></div><h1>Posts
<a href=/posts/index.xml title=RSS aria-label=RSS><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class=post-entry><div class=post-entry-content><header class=entry-header><h2 class=entry-hint-parent>解决 SSH 连接提示 Permission denied publickey</h2></header><div class=entry-content><p>服务器是使用 publickey 进行连接，当在 git push 时发生 Permission denied (publickey)。同时解决 ssh-add 重启后失效。
解决 ssh-add your_publickey 如果遇到报错
Could not open a connection to your authentication agent. Try to
eval `ssh-agent` 注意： 在重启电脑后失效，一直没有找的其他合适的解决方案，所以选择在 ~/.bashrc 或 ~/.zshrc 中添加：
ssh-add your_publickey 2> /dev/null 2> /dev/null 是为了保持静默运行
References ssh 连接提示 Permission denied (publickey) 怎么破？ | 吴川斌的博客</p></div><footer class=entry-footer><span title='2017-03-30 17:00:00 +0000 UTC'>March 30, 2017</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;50 words&nbsp;·&nbsp;Me</footer></div><div class=post-entry-cover></div><a class=entry-link aria-label="post link to 解决 SSH 连接提示 Permission denied publickey" href=https://zyf.im/2017/03/30/resolving-ssh-permission-denied-publickey/></a></article><article class=post-entry><div class=post-entry-content><header class=entry-header><h2 class=entry-hint-parent>解决 Ubuntu Sogou 无法选词输入中文</h2></header><div class=entry-content><p>sogou 输入法突然无法选词输入中文，候选词位置出现白框，多次重重装 fcitx 和 sogou 也没有解决。尝试使用 google pinyin 代替，但是感觉很不顺手。
issue in GitHub sogou 输入法 GitHub 上的一些 issue：
#43 #177 #179 解决 方案一 try to lastest version
方案二 clean fcitx, SogouPY*, sogou-qimpanel in ~/.config, then relogin and try again
cd ~/.config sudo rm -rf fcitx SogouPY sogou-qimpanel References ubuntu-sogou-不能显示候选词 | Color Win’s Notes – EOF –</p></div><footer class=entry-footer><span title='2017-03-17 17:00:00 +0000 UTC'>March 17, 2017</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;55 words&nbsp;·&nbsp;Me</footer></div><div class=post-entry-cover></div><a class=entry-link aria-label="post link to 解决 Ubuntu Sogou 无法选词输入中文" href=https://zyf.im/2017/03/17/resolving-ubuntu-sogou-can-not-select-word/></a></article><article class=post-entry><div class=post-entry-content><header class=entry-header><h2 class=entry-hint-parent>Git pull rebase 和 merge no-ff 保持提交线图整洁</h2></header><div class=entry-content><p>git log 中的一个清晰的提交线图是很方便进行 code review 和代码回退 git pull --rebase 主要是为是将提交约线图平坦化，而 git merge --no-ff 则是刻意制造分叉
pull rebase perform a rebase after fetching
状况 Git 作为分布式版本控制系统，所有修改操作都是基于本地的，在团队协作过程中，假设你和你的同伴在本地中分别有各自的新提交，而你的同伴先于你 push 了代码到远程分支上，所以你必须先执行 git pull 来获取同伴的提交，然后才能 push 自己的提交到远程分支。
按照 Git 的默认策略，如果远程分支和本地分支之间的提交线图有分叉的话（即不是 fast-forwarded），Git 会执行一次 merge 操作，因此产生一次没意义的提交记录，从而造成了像上图那样的混乱。
解决 其实在 pull 操作的时候，使用 git pull --rebase 选项即可很好地解决上述问题。 加上 --rebase 参数的作用是，提交线图有分叉的话，Git 会 rebase 策略来代替默认的 merge 策略。 假设提交线图在执行 pull 前是这样的：
A---B---C remotes/origin/master / D---E---F---G master 如果是执行 git pull 后，结果多出了 H 这个没必要的提交记录。提交线图会变成这样：
...</p></div><footer class=entry-footer><span title='2017-03-17 16:00:00 +0000 UTC'>March 17, 2017</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;231 words&nbsp;·&nbsp;Me</footer></div><div class=post-entry-cover></div><a class=entry-link aria-label="post link to Git pull rebase 和 merge no-ff 保持提交线图整洁" href=https://zyf.im/2017/03/17/git-pull-rebase-and-merge-no-ff-to-keep-clear-commit-graph/></a></article><article class=post-entry><div class=post-entry-content><header class=entry-header><h2 class=entry-hint-parent>禁止 Google 根据区域重定向跳转</h2></header><div class=entry-content><p>使用代理上 Google 时，Google 常会根据网络代理的区域进行重定向跳转。例如：使用韩国代理时，google.com 会跳转到 https://www.google.co.kr/，搜索结果也多为韩语，很是不方便。
解决的办法其实也很简单：访问 https://www.google.com/ncr 就可以了。
ncr 表示：No Country Redirection，禁止区域重定向。
– EOF –</p></div><footer class=entry-footer><span title='2017-03-14 11:00:00 +0000 UTC'>March 14, 2017</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;16 words&nbsp;·&nbsp;Me</footer></div><div class=post-entry-cover></div><a class=entry-link aria-label="post link to 禁止 Google 根据区域重定向跳转" href=https://zyf.im/2017/03/14/google-no-country-redirection/></a></article><article class=post-entry><div class=post-entry-content><header class=entry-header><h2 class=entry-hint-parent>Git 修改提交历史</h2></header><div class=entry-content><p>在使用 Git 时，我们经常会遇到修改本地提交记录的情况。比如：修改最近一次提交记，还比如：将多次小的 commit 合并成一个大的 commit。
这种做发有利也有弊，利在：review 代码时，可以按功能看，可以省去 review 一些前期写的无效的代码；弊是：一次提交修改过多，如果有问题，不利于调试。
具体情况具体分析，是解决问题的金句。
修改最近一次提交记录 修改提交说明 如果只想更改最近一次的提交说明，只需输入：
git commit --amend 然后你就会进入文本编辑器，输入你想要的内容，保存并退出即可
改被提交的快照 如果你完成 commit 后又想修改被提交的快照，增加或者修改其中的文件。
先执行 git add 命令，将修改的文件添加到缓存区，然后运行 git commit -amend 命令，该命令会获取你当前的暂存区的内容一并提交到最后一次 commit
例如：新加了一个文件 new_file.cpp ，想要合并到最后一次提交，过程如下：
git add new_file.cpp git commit -amend 也可以直接运行下面的命令，不过要小心，不要提交了多余的文件
git commit -a -amend 将文件从本次提交中移除 如果想把已经 commit 的文件从这次 commit 移除的话，运行命令：
git reset [-soft] HEAD~1 # -soft可加可不加，默认就是soft选项 git checkout -filename # 要从本次提交移除的文件名 git commit -m "new commit" 修改多个提交记录 要修改历史中更早的提交，你必须采用更复杂的工具。Git 没有一个修改历史的工具，但是你可以使用 rebase 工具来衍合一系列的提交到它们原来所在的 HEAD 上。
...</p></div><footer class=entry-footer><span title='2017-03-13 17:00:00 +0000 UTC'>March 13, 2017</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;531 words&nbsp;·&nbsp;Me</footer></div><div class=post-entry-cover></div><a class=entry-link aria-label="post link to Git 修改提交历史" href=https://zyf.im/2017/03/13/git-modify-commits-history/></a></article><article class=post-entry><div class=post-entry-content><header class=entry-header><h2 class=entry-hint-parent>PHP empty 方法判断 0.0</h2></header><div class=entry-content><p>在使用 empty(mixed $var) 时要考虑 $var 的 类型，尤其是在判断数据库查询后的字段。
bool empty(mixed $var) 以下的东西被认为是空 true 的：
""（空字符串） 0 （作为整数的 0） 0.0 （作为浮点数的 0） "0" （作为字符串的 0） NULL FALSE array() 一个空数组 $var 未初始化的变量 new stdClass() 不包含任何属性的对象 注意： string 的判断要非常注意，数据库查询后的字段常常为 string，应该进行正确的类型转换。
以下的东西被认为是非空 false 的：
$var = true; $var = 1; $var = -1; $var = “0.0”; $var = “foo”; $var = array(0); $var = new stdClass(); $var->property = null; $str = '0.0'; echo empty($str); // false 很可能和预期是相反的 echo empty((float)$str); // true – EOF –
...</p></div><footer class=entry-footer><span title='2017-03-09 17:00:00 +0000 UTC'>March 9, 2017</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;79 words&nbsp;·&nbsp;Me</footer></div><div class=post-entry-cover></div><a class=entry-link aria-label="post link to PHP empty 方法判断 0.0" href=https://zyf.im/2017/03/09/php-empty-method-judge-0/></a></article><article class=post-entry><div class=post-entry-content><header class=entry-header><h2 class=entry-hint-parent>Linux crontab 内容定时备份</h2></header><div class=entry-content><p>crontab -r 是一个很危险的命令，它将直接重置 crontab 中的内容；输入 crontab 后，使用 ctrl + d 退出也将清空 crontab 中的内容。所以 crontab 内容的定时备份也变得有必要了。
备份脚本 crontab_bak.sh
#!/bin/bash crontab -l > /home/tom/crontab_bak/bak`date '+%Y%m%d_%H%M%S'`.txt config in crontab
12 12 * * * /bin/bash /home/tom/crontab_bak/crontab_bak.sh crontab 常用命令 crontab -l # 列举 crontab 的任务 crontab -e # 编辑 crontab 的任务 crontab -r # 删除 crontab 的任务；风险 crontab -h # crontab 的帮助 crontab -i # 删除 crontab 前进行提示 – EOF –</p></div><footer class=entry-footer><span title='2017-03-07 12:00:00 +0000 UTC'>March 7, 2017</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;67 words&nbsp;·&nbsp;Me</footer></div><div class=post-entry-cover></div><a class=entry-link aria-label="post link to Linux crontab 内容定时备份" href=https://zyf.im/2017/03/07/linux-crontab-content-backup/></a></article><article class=post-entry><div class=post-entry-content><header class=entry-header><h2 class=entry-hint-parent>解决 Ubuntu warning Setting locale failed</h2></header><div class=entry-content><p>在配置新服务器时遇到 Setting locale failed 的警告，要求 Please check that your locale settings
perl: warning: Setting locale failed. perl: warning: Please check that your locale settings: LANGUAGE = (unset), LC_ALL = (unset), LC_MESSAGES = "zh_CN.UTF-8", LANG = "zh_CN.UTF-8" are supported and installed on your system. perl: warning: Falling back to the standard locale ("C"). 解决方法 安装 localepurge 管理语言文件 sudo apt-get install localepurge 选择我们想要的语言，例如 en_US.UTF-8 和 zh_CN.UTF-8 当然也可以使用以下命令再次进行配置：
sudo dpkg-reconfigure localepurge 生成自己想要的语言 sudo locale-gen zh_CN.UTF-8 en_US.UTF-8 打印出当前的配置信息
locale 默认情况下终端 ssh 的时候会将本地的 locale 传到服务器中，可以通过命令指定 ssh 服务器的语言：
...</p></div><footer class=entry-footer><span title='2017-03-03 17:00:00 +0000 UTC'>March 3, 2017</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;93 words&nbsp;·&nbsp;Me</footer></div><div class=post-entry-cover></div><a class=entry-link aria-label="post link to 解决 Ubuntu warning Setting locale failed" href=https://zyf.im/2017/03/03/resolving-ubuntu-warning-setting-locale-failed/></a></article><article class=post-entry><div class=post-entry-content><header class=entry-header><h2 class=entry-hint-parent>回顾 2016</h2></header><div class=entry-content><p>2016 肯定是很特别的一年。年初离开了老师的队伍，来北京找实习。年中和 318 告别，大学毕业了。年末换房学做饭，开始另种生活。对于 2017 更多了对自己的期待。
2016 是在保定的雾霾中开始。结束了大为，决定离开老师的队伍，来北京实习，这对我来说是一个不大不小的决定。老师带着，跟学长一起走到这里，这里有了很多宝贵的东西，有很多回忆，很多故事可以讲。选择离开，主要还是想看看在这之外的是什么样子。
朋友、老师、爸妈都为我的实习操过心，不过推荐的地方在各种奇怪的理由下都没有成。自己开始在拉勾上投简历，一次次来返在京石铁路上。面试一直是不顺的。完全没有想到对实习生有如此高的要求，很多技术问题正中下怀。心里是有落差的，在我当时的想法里，那些在工程中是用不易用到的，但也感到自己技术知识的浅薄。面试了俩三家后也发现了套路，回答不好的、答不上的问题，回去查查准备准备，下回就能用上。
没什么难度的大学毕业。大学里更多的收获是跟着老师、学长在课堂外搞事，是和宿舍的、好朋友在一起的时间。真的好幸运啊，遇到 318 的舍友们。没想到和你们每一个人都超级聊的来。大四的时候人就渐渐不齐，但只要宿舍在，不到最后毕业真的不知道要分别了。我们相互影响着成长，至少除去了我很多很 low 的思想。我们相互练着酒量、每天演着戏、日常说着骚话。
德育答辩上一个同学说：我常翘课、考试挂科，但我大学四年过的很坦荡，我会因为和舍友游戏上的一个好玩的套路高兴很久。我收获朋友。我没什么后悔的。 这很戳中我的泪点。没什么后悔的，也是对我大学的注脚。愿你们成家的幸福，工作的有成。
从上学到工作，过渡的很平稳。工作中有一些挑战，但总之是还应对的来。可没有什么出众的地方，我不想过的太平凡，愿有一技之长，独挡一面。我常说自己：菜啊、傻啊、什么的，我确实不想用这些来词来逃避问题，我想尽快的甩掉这些。我也愿自己可以更有底气和勇气说出，现在不能说出的话，愿更决绝的对大事小情做决定。
年末随着公司搬家，自己也搬了。炒菜做饭成了每天另一部分。也许才是真正生活二字的开始。
突然想到学长提的一个问题：你们有谁把技术当做以后安身立命的本事？ 现在对于我来说，这问题的答案比任何时候都更加清晰。
最后，还是怀揣着 2014 末的敬请期待，让一切皆有可能，开始 2017。
—— 送给 木林木丶
– EOF –</p></div><footer class=entry-footer><span title='2016-12-31 22:00:00 +0000 UTC'>December 31, 2016</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;30 words&nbsp;·&nbsp;Me</footer></div><div class=post-entry-cover></div><a class=entry-link aria-label="post link to 回顾 2016" href=https://zyf.im/2016/12/31/review-2016/></a></article><article class=post-entry><div class=post-entry-content><header class=entry-header><h2 class=entry-hint-parent>Ubuntu 下使用 UFW 管理防火墙服务</h2></header><div class=entry-content><p>UFW (Uncomplicated Firewall) 作为 iptables 的前端应用，给用户提供了简单的接口界面。使用着不需要去记非常复杂的 iptables 语法。UFW 也使用了 简单英语 作为它的参数。像 allow、deny、reset 就是他们当中的一部分。UFW 绝对是那些想要快速、简单的就建立自己的防火墙，而且还很安全的用户的最佳替代品之一。
检查系统上是否已经安装 UFW sudo dpkg --get-selections | grep ufw 安装 UFW sudo apt-get install ufw UFW 常用命令 查看 UFW 状态 sudo ufw status see configured rules even when inactive ufw show added 启用/禁用 UFW # 启用 sudo ufw enable # 禁用 sudo ufw disable 先添加 ufw allow ssh，防止墙掉自己
查看 UFW 规则 需要先启用 UFW
sudo ufw status verbose 在每条规则上加个序号数字
...</p></div><footer class=entry-footer><span title='2016-10-10 13:00:00 +0000 UTC'>October 10, 2016</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;212 words&nbsp;·&nbsp;Me</footer></div><div class=post-entry-cover></div><a class=entry-link aria-label="post link to Ubuntu 下使用 UFW 管理防火墙服务" href=https://zyf.im/2016/10/10/manage-iptables-using-ufw-in-ubuntu/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://zyf.im/posts/page/12/>«&nbsp;Prev&nbsp;
</a><a class=next href=https://zyf.im/posts/page/14/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2025 <a href=https://zyf.im/>ZYF.IM BLOG</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>