<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | ZYF.IM BLOG</title><meta name=keywords content><meta name=description content="Posts - ZYF.IM BLOG"><meta name=author content="Me"><link rel=canonical href=https://zyf.im/posts/><link crossorigin=anonymous href=/assets/css/stylesheet.63618a0fd0c7dd946ad6f368012c097fc6e5a8464cefd289c140dd28c01ec58d.css integrity="sha256-Y2GKD9DH3ZRq1vNoASwJf8blqEZM79KJwUDdKMAexY0=" rel="preload stylesheet" as=style><link rel=icon href=https://zyf.im/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://zyf.im/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://zyf.im/favicon-32x32.png><link rel=apple-touch-icon href=https://zyf.im/apple-touch-icon.png><link rel=mask-icon href=https://zyf.im/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://zyf.im/posts/index.xml><link rel=alternate hreflang=en href=https://zyf.im/posts/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-6DVZ6E58DG"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-6DVZ6E58DG")}</script><meta property="og:url" content="https://zyf.im/posts/"><meta property="og:site_name" content="ZYF.IM BLOG"><meta property="og:title" content="Posts"><meta property="og:description" content="Code. Create. Conquer."><meta property="og:locale" content="en-us"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Posts"><meta name=twitter:description content="Code. Create. Conquer."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://zyf.im/posts/"}]}</script></head><body class="list dark" id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://zyf.im/ accesskey=h title="ZYF.IM (Alt + H)"><img src=https://zyf.im/apple-touch-icon.png alt aria-label=logo height=35>ZYF.IM</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://zyf.im/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://zyf.im/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://zyf.im/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://zyf.im/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://zyf.im/>Home</a></div><h1>Posts
<a href=/posts/index.xml title=RSS aria-label=RSS><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Windows 文本文件到 Mac 中文乱码</h2></header><div class=entry-content><p>文本文件从 Windows 系统复制到 Mac 系统中文发生乱码，原因肯定是编码问题。
解决办法 iconv | wikipedia 它的作用是在多种国际编码格式之间进行文本内码的转换。
iconv [OPTION...] [-f ENCODING] [-t ENCODING] [INPUTFILE...] iconv -f &lt;原始编码> -t &lt;目标编码> &lt;输入文件> -o &lt;输出文件> iconv -f GB18030 -t utf-8 &lt;infile.txt> outfile.txt References 文本文件从 Windows 拷贝到 Mac 乱码 | super2bai – EOF –</p></div><footer class=entry-footer><span title='2019-12-09 14:45:39 +0000 UTC'>December 9, 2019</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;43 words&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to Windows 文本文件到 Mac 中文乱码" href=https://zyf.im/2019/12/09/windows-text-file-to-mac-chinese-messy-code/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Git log 统计分析</h2></header><div class=entry-content><p>统计个人增删行数 git config user.name git log --author="zhaoyifan" --pretty=tformat: --numstat | awk '{ add += $1; subs += $2; loc += $1 - $2 } END { printf "added lines: %s, removed lines: %s, total lines: %s\n", add, subs, loc }' - added lines: 82813, removed lines: 53707, total lines: 29106 统计每个人增删行数 git log --shortstat | grep -E "(Author: )(\s*(\w+)){2}|fil(e|es) changed" | awk ' { if($1 ~ /Author/) { author = $2" "$3 } else { files[author]+=$1 inserted[author]+=$4 deleted[author]+=$6 } } END { for (key in files) { print "Author: " key "\n\tfiles changed: ", files[key], "\n\tlines inserted: ", inserted[key], "\n\tlines deleted: ", deleted[key] } } ' 统计每个人提交次数 git shortlog -sn --no-merges 忽略某些路径的更改 git log -- . ":(exclude)sub" git log -- . ":!sub" cloc AlDanial/cloc - cloc counts blank lines, comment lines, and physical lines of source code in many programming languages.
...</p></div><footer class=entry-footer><span title='2019-12-03 14:47:28 +0000 UTC'>December 3, 2019</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;557 words&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to Git log 统计分析" href=https://zyf.im/2019/12/03/analyze-git-log/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Git 批量修改历史 commit 中 user.email</h2></header><div class=entry-content><p>注意：此操作会修改 Git 历史记录，正式工作环境不允许。
查询都有什么：
git log --format='%aN %aE' | sort -u 注：一个特殊情况如果 email 没被设置过 OLD_EMAIL 可以填 user.name。
OLD_EMAIL 原来的邮箱 CORRECT_NAME 更正的名字 CORRECT_EMAIL 更正的邮箱 git filter-branch -f --env-filter ' OLD_EMAIL="old@qq.com" CORRECT_NAME="new_name" CORRECT_EMAIL="new@gmail.com" if [ "$GIT_COMMITTER_EMAIL" = "$OLD_EMAIL" ] then export GIT_COMMITTER_NAME="$CORRECT_NAME" export GIT_COMMITTER_EMAIL="$CORRECT_EMAIL" fi if [ "$GIT_AUTHOR_EMAIL" = "$OLD_EMAIL" ] then export GIT_AUTHOR_NAME="$CORRECT_NAME" export GIT_AUTHOR_EMAIL="$CORRECT_EMAIL" fi if [ "$GIT_AUTHOR_NAME" != "$CORRECT_NAME" ] then export GIT_AUTHOR_NAME="$CORRECT_NAME" export GIT_AUTHOR_EMAIL="$CORRECT_EMAIL" fi ' --tag-name-filter cat -- --branches --tags 因为修改了 Git 历史所有要使用强制推送：
...</p></div><footer class=entry-footer><span title='2019-12-02 14:47:28 +0000 UTC'>December 2, 2019</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;127 words&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to Git 批量修改历史 commit 中 user.email" href=https://zyf.im/2019/12/02/git-modify-history-commont-user-email/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>CentOS yum 升级 git 版本</h2></header><div class=entry-content><p>先去官网看看 Download for Linux and Unix:
RHEL and derivatives typically ship older versions of git. You can download a tarball and build from source, or use a 3rd-party repository such as the [IUS Community Project](https://ius.io/) to obtain a more recent version of git. RHEL 和衍生通常提供较老版本的 git。您可以下载 tarball 并从源代码构建，或者使用第三方存储库，如 IUS Community Project 来获得最新版本的 git。
使用 IUS RHEL/CentOS 7
yum install \ https://repo.ius.io/ius-release-el7.rpm \ https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm 安装新版 git：
ius 通常会在高版本的软件名后面 + u
yum list git 如果你已经装有低版本的 git，你需要先 remove（否则安装的时候会报错）
yum remove git 安装 2.0 以上版本的 git
...</p></div><footer class=entry-footer><span title='2019-11-25 15:36:16 +0000 UTC'>November 25, 2019</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;146 words&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to CentOS yum 升级 git 版本" href=https://zyf.im/2019/11/25/centos-upgrade-git-by-yum/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>CRLF will be replaced by LF</h2></header><div class=entry-content><p>git add . warning: CRLF will be replaced by LF in X. CRLF：windows 环境下的换行符 LF：linux 环境下的换行符 这个错误的意思，就是文件中存在两种环境的换行符，git 会自动替换 CRLF 为 LF ，所以提示警告。
首先推荐扩展阅读：配置 Git 处理行结束符 | GitHub
我项目中是配置了 .gitattributes 的：
# Set the default behavior, in case people don't have core.autocrlf set. * text=auto # Explicitly declare text files you want to always be normalized and converted # to native line endings on checkout. *.c text *.h text # Declare files that will always have CRLF line endings on checkout. *.sln text eol=crlf # Denote all files that are truly binary and should not be modified. *.png binary *.jpg binary .gitattributes 公式：要匹配的文件模式 属性1 属性2 ...。
...</p></div><footer class=entry-footer><span title='2019-11-22 17:30:37 +0000 UTC'>November 22, 2019</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;216 words&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to CRLF will be replaced by LF" href=https://zyf.im/2019/11/22/crlf-will-be-replaced-by-lf/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Vue Code Snippet</h2></header><div class=entry-content><p>重置 data 的数据为初始状态 this.$data = { ...this.$data, ...this.$options.data() }; // Object.assign(this.$data, this.$options.data()); Object.assign({}, this.$options.data().form, { type: 1 }); 修改 ElementUI 默认样式 vue 中令人头疼的 element-ui 组件默认 css 样式修改 | juejin
&lt;template> &lt;div class="my-class"> &lt;el-table> &lt;/el-table> &lt;/div> &lt;/template> &lt;style lang="scss" scoped> .my-class__expand-column .cell { display: none; } .my-class .el-table tbody tr:hover > td { cursor: pointer; } &lt;/style> watch 对象的属性 data: { a: 100, msg: { channel: "音乐", style: "活泼" } }, watch: { a(newval, oldVal) { console.log("new: %s, old: %s", newval, oldVal); } } watch: { msg: { handler(newValue, oldValue) { console.log(newValue) }, // 深度监听 deep: true } } 监听对象内的某一具体属性，可以通过 computed 做中间层来实现：
computed: { channel() { return this.msg.channel } }, watch:{ channel(newValue, oldValue) { console.log('new: %s, old: %s', newValue, oldValue) } } 判断 data 中的对象是否为空 1、利用 jQuery 的 isEmptyObject：
...</p></div><footer class=entry-footer><span title='2019-08-08 17:33:38 +0000 UTC'>August 8, 2019</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;437 words&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to Vue Code Snippet" href=https://zyf.im/2019/08/08/vue-code-snippet/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>VSCode 使用经验</h2></header><div class=entry-content><p>编辑 settings.json command + , 右上角点击 打开设置。
{ // 通过整体放大窗口比例 "window.zoomLevel": 1.1, // 字体 "editor.fontSize": 14, // 软换行 "editor.wordWrap": "on", } 显示空格和 tab 符号 Editor: Render Whitespace 控制编辑器在空白字符上显示符号的方式。 all Settings 同步 只需从左下角的设置齿轮启用内置同步。
扩展推荐 Community Material Theme EditerConfig For VS Code ESLint Git History GitLens — Git supercharged markdownlint Material Icon Theme Material Theme Prettier - Code formatter Terminal Vetur – EOF –</p></div><footer class=entry-footer><span title='2019-06-11 17:01:39 +0000 UTC'>June 11, 2019</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;62 words&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to VSCode 使用经验" href=https://zyf.im/2019/06/11/vscode-using-experience/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Git 提交 message 规范</h2></header><div class=entry-content><p>commit message 应该清晰明了，说明本次提交的目的。基本公式：
&lt;type>(&lt;scope>): &lt;subject> 完整公式：
&lt;type>(&lt;scope>): &lt;subject> &lt;BLANK LINE> &lt;body> &lt;BLANK LINE> &lt;footer> type 用于说明 commit 的类别，只允许使用下面 7 个标识。
feat：新功能（feature） fix：修补 bug docs：文档（documentation） style：格式（不影响代码运行的变动） refactor：重构（即不是新增功能，也不是修改 bug 的代码变动） test：增加测试 chore：构建过程或辅助工具的变动 scope 用于说明 commit 影响的范围，比如数据层、控制层、视图层等等，视项目不同而不同。
subject 是 commit 目的的简短描述，不超过 50 个字符。
以动词开头，使用第一人称现在时，比如 change，而不是 changed 或 changes 第一个字母小写 结尾不加句号 . cli 工具 commitizen cli commitizen/cz-cli 使用它提供的 git cz 命令替代我们的 git commit 命令，帮助我们生成符合规范的 commit message。
除此之外，我们还需要为 commitizen 指定一个 Adapter 比如：commitizen/cz-conventional-changelog（一个符合 Angular 团队规范的 preset）使得 commitizen 按照我们指定的规范帮助我们生成 commit message。
...</p></div><footer class=entry-footer><span title='2019-06-04 14:07:46 +0000 UTC'>June 4, 2019</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;178 words&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to Git 提交 message 规范" href=https://zyf.im/2019/06/04/git-commit-message-style-guide/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>最左前缀原理与相关优化</h2></header><div class=entry-content><p>MySQL 中的索引可以以一定顺序引用多个列，这种索引叫做联合索引，一般的，一个联合索引是一个有序元组 &lt;a1, a2, …, an>，其中各个元素均为数据表的一列。另外，单列索引可以看成联合索引元素数为 1 的特例。
我们在 Employees Sample Database 中实验，MySQL 版本 5.7。
以 employees.titles 为例，查看其索引：
SHOW INDEX FROM employees.titles; +--------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+ | Table | Non_unique | Key_name | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment | +--------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+ | titles | 0 | PRIMARY | 1 | emp_no | A | 301292 | NULL | NULL | | BTREE | | | | titles | 0 | PRIMARY | 2 | title | A | 442605 | NULL | NULL | | BTREE | | | | titles | 0 | PRIMARY | 3 | from_date | A | 442605 | NULL | NULL | | BTREE | | | +--------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+ 全列匹配 EXPLAIN SELECT * FROM employees.titles WHERE emp_no = '10009' AND title = 'Senior Engineer' AND from_date = '1995-02-18'; +----+-------------+--------+------------+-------+---------------+---------+---------+-------------------+------+----------+-------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------+------------+-------+---------------+---------+---------+-------------------+------+----------+-------+ | 1 | SIMPLE | titles | NULL | const | PRIMARY | PRIMARY | 159 | const,const,const | 1 | 100.00 | NULL | +----+-------------+--------+------------+-------+---------------+---------+---------+-------------------+------+----------+-------+ 当按照索引中所有列进行精确匹配（这里精确匹配指 = 或 IN 匹配）时，索引可以被用到。
...</p></div><footer class=entry-footer><span title='2019-05-25 11:05:46 +0000 UTC'>May 25, 2019</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;1297 words&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to 最左前缀原理与相关优化" href=https://zyf.im/2019/05/25/the-left-prefix-index-rule/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>归并排序</h2></header><div class=entry-content><p>归并排序（英语：Merge sort，或 mergesort），是创建在归并操作上的一种有效的排序算法，效率为 O(nlogn)。1945 年由约翰·冯·诺伊曼首次提出。该算法是采用分治法（Divide and Conquer）的一个非常典型的应用，且各层分治递归可以同时进行。
采用分治法：
分割：递归地把当前序列平均分割成两半。 集成：在保持元素顺序的同时将上一步得到的子序列集成到一起（归并）。 归并操作（merge），也叫归并算法，指的是将两个已经排序的序列合并成一个序列的操作。归并排序算法依赖归并操作。
&lt;?php function mergeSort($arr) { $len = count($arr); if ($len &lt;= 1) { return $arr; } // 递归结束条件, 到达这步的时候, 数组就只剩下一个元素了, 也就是分离了数组 $mid = $len / 2; $left = array_slice($arr, 0, $mid); // 拆分数组0-mid这部分给左边left $right = array_slice($arr, $mid); // 拆分数组mid-末尾这部分给右边right $left = mergeSort($left); // 左边拆分完后开始递归合并往上走 $right = mergeSort($right); // 右边拆分完毕开始递归往上走 $arr = merge($left, $right); // 合并两个数组,继续递归 return $arr; } // merge函数将指定的两个有序数组(arrA, arr)合并并且排序 function merge($arrA, $arrB) { $arrC = array(); while (count($arrA) && count($arrB)) { // 这里不断的判断哪个值小, 就将小的值给到arrC, 但是到最后肯定要剩下几个值, // 不是剩下arrA里面的就是剩下arrB里面的而且这几个有序的值, 肯定比arrC里面所有的值都大所以使用 $arrC[] = $arrA[0] &lt; $arrB[0] ? array_shift($arrA) : array_shift($arrB); } return array_merge($arrC, $arrA, $arrB); } $startTime = microtime(1); $arr = range(1, 1000); shuffle($arr); echo 'before sort: ', implode(', ', $arr), "\n"; $sortArr = mergeSort($arr); echo 'after sort: ', implode(', ', $sortArr), "\n"; echo 'use time: ', microtime(1) - $startTime, "s\n"; 假设被排序的数列中有 N 个数。遍历一趟的时间复杂度是 O(N)，需要遍历多少次呢？
...</p></div><footer class=entry-footer><span title='2019-05-23 14:44:40 +0000 UTC'>May 23, 2019</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;156 words&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to 归并排序" href=https://zyf.im/2019/05/23/merge-sort/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://zyf.im/posts/page/6/>«&nbsp;Prev&nbsp;
</a><a class=next href=https://zyf.im/posts/page/8/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2025 <a href=https://zyf.im/>ZYF.IM BLOG</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>