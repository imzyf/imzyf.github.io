<!doctype html><html lang=en dir=auto><head><meta name=generator content="Hugo 0.147.9"><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>ZYF.IM BLOG</title><meta name=keywords content="ZYF,ZYF.IM,Blog,Portfolio,PaperMod"><meta name=description content="Code. Create. Conquer."><meta name=author content="Me"><link rel=canonical href=https://zyf.im/><link crossorigin=anonymous href=/assets/css/stylesheet.63618a0fd0c7dd946ad6f368012c097fc6e5a8464cefd289c140dd28c01ec58d.css integrity="sha256-Y2GKD9DH3ZRq1vNoASwJf8blqEZM79KJwUDdKMAexY0=" rel="preload stylesheet" as=style><link rel=icon href=https://zyf.im/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://zyf.im/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://zyf.im/favicon-32x32.png><link rel=apple-touch-icon href=https://zyf.im/apple-touch-icon.png><link rel=mask-icon href=https://zyf.im/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://zyf.im/index.xml><link rel=alternate type=application/json href=https://zyf.im/index.json><link rel=alternate hreflang=en href=https://zyf.im/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-6DVZ6E58DG"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-6DVZ6E58DG")}</script><meta property="og:url" content="https://zyf.im/"><meta property="og:site_name" content="ZYF.IM BLOG"><meta property="og:title" content="ZYF.IM BLOG"><meta property="og:description" content="Code. Create. Conquer."><meta property="og:locale" content="en-us"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="ZYF.IM BLOG"><meta name=twitter:description content="Code. Create. Conquer."><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"ZYF.IM BLOG","url":"https://zyf.im/","description":"Code. Create. Conquer.","logo":"https://zyf.im/favicon.ico","sameAs":["https://github.com/","https://space.bilibili.com/29991589","/links/"]}</script></head><body class="list dark" id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://zyf.im/ accesskey=h title="ZYF.IM (Alt + H)"><img src=https://zyf.im/apple-touch-icon.png alt aria-label=logo height=35>ZYF.IM</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://zyf.im/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://zyf.im/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://zyf.im/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://zyf.im/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>My MacBook</h2></header><div class=entry-content><p>个人 MacBook 食用说明。推荐自动化环境配置脚本项目 imzyf/dotfiles。
软件下载 使用 brew cask 安装软件，非常方便。
安装 brew：
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)" # 查找软件 brew desc iterm2 brew search iterm2 brew info iterm2 # 安装软件 brew install --cask iterm2 软件清单 brew cask arc Chromium based browser chromium - Free and open-source web browser 🌐 dbeaver-community - Universal database tool and SQL client 🌐 docker - App to build and share containerised applications and microservices 🌐 office network can’t access https://desktop.docker.com/, have to manual install. drawio - Online diagram software 🌐 figma - Collaborative team software 💅🏼 firefox fork GIT client github - Desktop client for GitHub repositories 🌐 google-chrome - Web browser 💻 iina - Free and open-source media player 💻 imageoptim - Tool to optimise images to a smaller size 💻 iterm2 - Terminal emulator as alternative to Apple’s Terminal app 💻 itsycal - Menu bar calendar 💻 licecap - Animated screen capture application 💻 logitech-g-hub - Support for Logitech G gear 💻 mysqlworkbench notion - App to write, plan, collaborate, and get organised 💻 openinterminal orbstack Replacement for Docker Desktop phpstorm postman - Collaboration platform for API development 💻 qlstephen - Quick Look plugin for plaintext files without an extension 💻 raycast Control your tools with a few keystrokes sequel-ace slack snipaste - Snip or pin screenshots 💻 sourcetree - Graphical client for Git version control 💻 the-unarchiver - Unpacks archive files visual-studio-code warp - Rust-based terminal 💻 wetype - Text input app from WeChat team for Chinese users 💻 youdaodict - Youdao Dictionary 💻 zoom-for-it-admins brew cask archive adrive - Intelligent cloud storage platform 💻 another-redis-desktop-manager - Redis desktop manager 🌐 baidunetdisk - Cloud storage service 💻 blender - 3D creation suite 💅🏼 lens - Kubernetes IDE 🌐 mongodb-compass - Interactive tool for analyzing MongoDB data 🌐 fliqlo - Flip clock screensaver - 可以配合 触发角 使用 paper - Pap.er, 4K 5K HD Wallpaper Application 💻 wireshark - Network analyzer and capture tool - without graphical user interface 🌐 path-finder - 💰 dash - API documentation browser and code snippet manager - 💰 Medis 2 - 💰 redisinsight GUI for streamlined Redis application development craft Native document editor input-source-pro Tool for multi-language users cleanshot Screen capturing tool cleanmymac-zh - Tool to remove unnecessary files and folders from disk - 💰 # brew list # brew list --cask # # ==> Casks # # arc # chromium # dbeaver-community # drawio # eudic # figma # firefox # fork # github # google-chrome # iina # imageoptim # iterm2 # itsycal # licecap # logitech-g-hub # mysqlworkbench # notion # openinterminal # orbstack # phpstorm # postman # qlstephen # raycast # sequel-ace # slack # snipaste # sourcetree # the-unarchiver # visual-studio-code # warp # wetype # youdaodict # zoom-for-it-admins # # 💻 brew install --cask adrive alfred google-chrome visual-studio-code brew install --cask visual-studio-code wetype youdaodict # 🌐 brew install --cask itsycal # 💅🏼 brew install --cask blender brew mas Mac App Store command-line interface nvm curl jmeter - Load testing and performance measurement application wget yarn protobuf - Protocol buffers (Google’s data interchange format) ripgrep recursively searches directories for a regex pattern while respecting your gitignore fish Manual charles - Web debugging Proxy application - 💰 Navicat Premium - 💰 oh-my-zsh ClashX Pro axure-rp - Planning and prototyping tool for developers - 💰 Badgeify Add Any App to Your Mac Menu Bar one-key-hidpi 3182x1332 App Store  Xnip - Handy Screenshot App for Mac iHosts - /etc/hosts 编辑器 Xiaomi Home # brew install mas # mas search Xnip # mas upgrade # Xnip mas install 1221250572 # iHosts mas install 408981434 # WeChat mas install 836500024 # QQ音乐 mas install 595615424 # Xcode mas install 497799835 # MoneyThings 记账 mas install 1549694221 # Xiaomi Home, needed manual install mas install 957323480 AI BoltAI TypingMind LobeChat Ollama 快捷键 Mac 键盘快捷键 Chrome 键盘快捷键 个性化设置 触发角：系统偏好设置 -> 桌面与屏幕保护程序 -> 屏幕保护程序 -> 触发角 – EOF –
...</p></div><footer class=entry-footer><span title='2019-05-20 17:14:59 +0000 UTC'>May 20, 2019</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;649 words&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to My MacBook" href=https://zyf.im/2019/05/20/my-macbook/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Laravel 中 composer 加载流程</h2></header><div class=entry-content><p>启动 Laravel 5.8 文章以 Laravel 学习。入口文件 public/index.php：
// Register The Auto Loader require __DIR__.'/../vendor/autoload.php'; autoload.php 不负责具体功能逻辑，只做了两件事：初始化自动加载类、注册自动加载类。
autoload_real.php 中的类名为 ComposerAutoloaderInit... 这可能是为防止与用户自定义类名跟这个类重复冲突，加上了哈希值。
其实还有一个做法我们更加熟悉，是定义一个命名空间。这里为什么不定义一个命名空间呢？一种理解：命名空间一般都是为了复用，而这个类只需要运行一次即可，以后也不会用得到，用哈希值更加合适。
autoload_real.php autoload.php 主要调用了 getLoader()：
public static function getLoader() { // 单例模式，自动加载类只能有一个 1 if (null !== self::$loader) { return self::$loader; } // 获得自动加载核心类对象 2 spl_autoload_register(array('ComposerAutoloaderInit76e88f0b305cd64c7c84b90b278c31db', 'loadClassLoader'), true, true); self::$loader = $loader = new \Composer\Autoload\ClassLoader(); spl_autoload_unregister(array('ComposerAutoloaderInit76e88f0b305cd64c7c84b90b278c31db', 'loadClassLoader')); // 初始化自动加载核心类对象 3 $useStaticLoader = PHP_VERSION_ID >= 50600 && !defined('HHVM_VERSION') && (!function_exists('zend_loader_file_encoded') || !zend_loader_file_encoded()); if ($useStaticLoader) { require_once __DIR__ . '/autoload_static.php'; call_user_func(\Composer\Autoload\ComposerStaticInit76e88f0b305cd64c7c84b90b278c31db::getInitializer($loader)); } else { $map = require __DIR__ . '/autoload_namespaces.php'; foreach ($map as $namespace => $path) { $loader->set($namespace, $path); } $map = require __DIR__ . '/autoload_psr4.php'; foreach ($map as $namespace => $path) { $loader->setPsr4($namespace, $path); } $classMap = require __DIR__ . '/autoload_classmap.php'; if ($classMap) { $loader->addClassMap($classMap); } } // 注册自动加载核心类对象 4 $loader->register(true); // 自动加载全局函数 5 if ($useStaticLoader) { $includeFiles = Composer\Autoload\ComposerStaticInit76e88f0b305cd64c7c84b90b278c31db::$files; } else { $includeFiles = require __DIR__ . '/autoload_files.php'; } foreach ($includeFiles as $fileIdentifier => $file) { composerRequire76e88f0b305cd64c7c84b90b278c31db($fileIdentifier, $file); } return $loader; } 单例模式 1 if (null !== self::$loader) { return self::$loader; } 构造 ClassLoader 核心类 2 spl_autoload_register(array('ComposerAutoloaderInit76e88f0b305cd64c7c84b90b278c31db', 'loadClassLoader'), true, true); self::$loader = $loader = new \Composer\Autoload\ClassLoader(); spl_autoload_unregister(array('ComposerAutoloaderInit76e88f0b305cd64c7c84b90b278c31db', 'loadClassLoader')); public static function loadClassLoader($class) { if ('Composer\Autoload\ClassLoader' === $class) { require __DIR__ . '/ClassLoader.php'; } } composer 先向 PHP 自动加载机制注册了一个函数，这个函数 require 了 ClassLoader 文件。成功 new 出该文件中核心类 ClassLoader() 后，又销毁了该函数。
...</p></div><footer class=entry-footer><span title='2019-04-28 19:21:12 +0000 UTC'>April 28, 2019</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;1435 words&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to Laravel 中 composer 加载流程" href=https://zyf.im/2019/04/28/composer-autoload-in-laravel/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>PHP 请小心判断 strpos</h2></header><div class=entry-content><p>又开始写世界上最后的语言 PHP 了（狗头保命）。一个很简单的字符串是否包含判断就掉坑了。
方法签名：
strpos ( string $haystack , mixed $needle [, int $offset = 0 ] ) : int $mystring = 'abc'; $findme = 'a'; if (strpos($mystring, $findme)) { dump('yes'); } 注意这时是不会输出 yes，因为 strpos($mystring, $findme) 返回的是 0。就想官方文档说的：
Warning 此函数可能返回布尔值 FALSE，但也可能返回等同于 FALSE 的非布尔值。应使用 === 运算符来测试此函数的返回值。
正解：
if (strpos($mystring, $findme) !== false) { dump('yes'); } 这次问题是网上一搜，找到 strpos 后看到 如果没找到 needle，将返回 FALSE 就没多想就用了。语言间的差异还有注意。
References php.net - strpos – EOF –</p></div><footer class=entry-footer><span title='2019-04-10 20:27:21 +0000 UTC'>April 10, 2019</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;68 words&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to PHP 请小心判断 strpos" href=https://zyf.im/2019/04/10/php-strpos-warning/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>ES6 中使用 jQuery $(this) 的问题</h2></header><div class=entry-content><p>在老项目中，我开始使用 laravel-mix 和 ES6 进行逐渐过渡。在这个过程中，发现了一个问题：当 jQuery 和 箭头函数 一起使用时，$(this) 的含义会发生变化。
问题解释 这个问题主要是因为没有理解 箭头函数 的特性。箭头函数不会创建自己的 this 上下文，而是继承父作用域的 this。
看下面的例子：
// 问题代码 $('.js-bottom-btn').click(() => { let flag = $(this).data('flag'); // ... }); 在箭头函数中，this 不是指向被点击的元素，而是指向父作用域的 this（可能是 window 或 undefined）。
解决方案 根据 jQuery click 文档，可以使用以下方法解决：
方法 1: 使用传统函数 $('.js-bottom-btn').click(function() { let flag = $(this).data('flag'); // ... }); 方法 2: 使用事件参数 $('.js-bottom-btn').click(event => { let flag = $(event.currentTarget).data('flag'); // ... }); 其他常见场景 jQuery 的 .each() 方法中也会遇到类似问题：
// 问题代码 $("jquery-selector").each(() => { $(this).click(); }); 需要修改为：
$("jquery-selector").each((index, element) => { $(element).click(); }); 箭头函数和 this 绑定 箭头函数的一个主要特点是词法绑定（lexical binding）。这意味着：
箭头函数不创建自己的 this 上下文 箭头函数继承定义它的外部作用域的 this 值 这种行为与传统函数不同，传统函数中的 this 是根据调用方式决定的 参考资料 Using jQuery $(this) with ES6 Arrow Functions (lexical this binding) – EOF –
...</p></div><footer class=entry-footer><span title='2019-04-10 17:09:23 +0000 UTC'>April 10, 2019</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;113 words&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to ES6 中使用 jQuery $(this) 的问题" href=https://zyf.im/2019/04/10/es6-jquery-this-arrow-function/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>寻找数组中轴索引</h2></header><div class=entry-content><p>将 pivot 索引定义为：左边的数字之和等于索引右边的数字之和。
Input: nums = [1, 7, 3, 6, 5, 6] Output: 3 Explanation: 1 + 7 + 3 = 5 + 6 Input: nums = [1, 2, 3] Output: -1 Explanation: There is no index that satisfies the conditions in the problem statement. Note:
The length of nums will be in the range [0, 10000]. Each element nums[i] will be an integer in the range [-1000, 1000]. 关键点 动态规划 数组的和 - 中轴数 = 中轴数左边数组的和 * 2 解答 func findPivot(_ array: [Int]) -> Int { // 数组和 let sum = array.reduce(0, +) // 左侧数组和 var leftSum = 0 for (key, value) in array.enumerated() { if sum - value == leftSum * 2 { return key } leftSum += value } return -1 } let array = [1, 7, 3, 6, 5, 6] search(array) // 3 References 找到数组中左右两边的和相等的 pivot 的下标 Find Pivot Index – EOF –
...</p></div><footer class=entry-footer><span title='2019-03-06 14:00:00 +0000 UTC'>March 6, 2019</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;146 words&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to 寻找数组中轴索引" href=https://zyf.im/2019/03/06/find-pivot-index/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>m 进制转 n 进制</h2></header><div class=entry-content><p>思路 m 进制 -> 十进制 -> n 进制 利用柯里化生成函数（炫技 🐶） m 进制 -> 十进制 // carry 范围值: 2-36 // origin 范围值: 0-9 [ascii 48-58], A-Z [65-90], a-z [97-122] func carryToDecimalism(_ carry: Int) -> (_ origin: String) -> Int { return { origin in // 得到字符串对应的 ascii 码 let asciis = origin.uppercased().unicodeScalars.map { Int($0.value) } // 累加每一位 let result = asciis.reversed().enumerated().map { (index, ascii) -> Int in var standard: Int if 65 &lt;= ascii && ascii &lt;= 90 { standard = ascii - 65 + 10 } else { standard = ascii - 48 } return standard * Int(pow(Double(carry), Double(index))) }.reduce(0, +) return result } } let 十六进制转十进制 = carryToDecimalism(16) print(十六进制转十进制("1a")) // 26 let 二进制转十进制 = carryToDecimalism(2) print(二进制转十进制("110")) // 6 十进制 -> n 进制 func decimalismToCarry(_ carry: Int) -> (_ origin: Int) -> String { return { origin in var result = [Int]() var remain = origin while remain > 0 { result.append(remain % carry) remain /= carry } if carry &lt;= 10 { return result.reversed().map(String.init).joined() } else { return result.reversed().map { i -> String in return i &lt; 10 ? String(i) : String(UnicodeScalar(i + 55)!) }.joined() } } } let 十进制转二进制 = decimalismToCarry(2) print(十进制转二进制(26)) // "11010" References ASCII 码对照表 – EOF –
...</p></div><footer class=entry-footer><span title='2019-03-02 14:00:00 +0000 UTC'>March 2, 2019</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;202 words&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to m 进制转 n 进制" href=https://zyf.im/2019/03/02/convert-m-number-to-n-number/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>超长阶乘的计算</h2></header><div class=entry-content><p>打印 n! 的结果（1 &lt;= n &lt;= 100）。注意：当 n > 20 时 64 位的 Int 将无法直接存储结果。
思路 将大数字用 数组 形式表示。比如 987 使用 [9,8,7] 代替。 每一位乘以 n，再进行进位操作，得到新数组。 let nums = [9, 8, 7] let tmpNums = nums.map { $0 * 2 } // [18, 16, 14] // 遍历 tmpNums 每一个数字，进行进制操作 [18, 16, 14] -> [18, 17, 4] -> [19, 7, 4] -> [1, 9, 7, 4] print(tmpNums.map(String.init).joined()) // 1974 解答项目 func extraLongFactorials(n: Int) -> Void { guard n > 0 else { return } // 结果数组 var result: [Int] = [1] for index in 1...n { // 数组翻转 从低位开始每一位乘以本次的数字 let tmpNums = result.reversed().map { $0 * index } // 进位数 var carryNum = 0 // 重置结果 result = [] tmpNums.forEach { // 每一位加上上一位的进的数 let tmpNum = $0 + carryNum // 向下一位进制的数 carryNum = tmpNum / 10 // 本位实际剩下的数 插入结果 result.append(tmpNum % 10) } // 处理剩余进位数 进位数是可能大于 100 while carryNum > 0 { // 逐渐插入进制 result.append(carryNum % 10) carryNum /= 10 } // 翻转回数组 result = result.reversed() } // 连接字符串 print(result.map(String.init).joined()) } References Extra Long Factorials | HackerRank Swift 3 calculate factorial number. Result becomes too high? – EOF –
...</p></div><footer class=entry-footer><span title='2019-03-01 14:00:00 +0000 UTC'>March 1, 2019</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;187 words&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to 超长阶乘的计算" href=https://zyf.im/2019/03/01/extra-long-factorials/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>fastlane 入门使用</h2></header><div class=entry-content><p>这次以 fastlane 为例，尝试项目中有什么事情可以被自动完成。
fastlane 是 Ruby scripts 的集合，安装方法不多说了见 官网文档。
fastlane 中有但不限于以下工具集：
produce 同时在 Apple Developer Portal 和 App Store Connect 中创建新的 iOS apps。 cert 自动创建和维护 iOS 签名证书。 sigh 创建，更新，下载和修复配置文件。 snapshot 自动在每台设备上获取 iOS 应用的本地化屏幕截图。 frameit 将您的屏幕截图放入正确的设备框架中。 gym 构建和打包您的 iOS apps。 deliver 将截图，元数据和您的应用上传到 App Store。 pem 自动生成并更新推送通知配置文件。 spaceship 一个 Ruby 库能够访问苹果开发者中心和应用商店连接 api。 pilot 自动化 TestFlight 部署并管理测试用户。 boarding 邀请 beta 测试人员。 match 使用 Git 同步整个团队的证书和配置文件。 scan 运行 app 测试。 实验环境：Xcode 10.1、Swift 4.2、fastlane 2.116.1、$99 开发者账户
...</p></div><footer class=entry-footer><span title='2019-02-28 10:00:00 +0000 UTC'>February 28, 2019</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;657 words&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to fastlane 入门使用" href=https://zyf.im/2019/02/28/fastlane-getting-started/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>【Swifter - Swift 开发者必备 Tips】笔记</h2></header><div class=entry-content><p>再读王巍的【Swifter - Swift 开发者必备 Tips】，看看有什么新收获。
柯里化（Currying） 柯里化 是把接受多个参数的函数变换成接受一个单一参数（最初函数的第一个参数）的函数，并且返回接受余下的参数而且返回结果的新函数的技术，这个词自己是第一次见到。
自己的理解就是：把接受多个参数的函数变换为，先接受一个参数，然后返回一个函数，这个函数再接受其他参数。
两个细节：
只有一个参数，并且这个参数是该函数的第一个参数。必须按照参数的定义顺序来调用柯里化函数。 柯里化函数的函数体只会执行一次，只会在调用完最后一个参数的时候执行柯里化函数体。 /// 一个数加 x 的函数 func addTo(_ adder: Int) -> (Int) -> Int { return { adder + $0 } } // +2 let addTwo = addTo(2) let result = addTwo(6) // 8 // +10 let addTen = addTo(10) addTen(6) // 16 柯里化是一种量产相似方法的好办法，可以通过柯里化一个方法模板来避免写出很多重复代码，也方便了今后维护。
书中还提到了一个封装 Selector 的例子，但是没懂，欢迎指教。
Reference:
Swift 函数柯里化介绍及使用场景 将 protocol 的方法声明为 mutating protocol 不仅可以被 class 类型实现，也适用于 struct 和 enum。因为这个原因就要考虑定义的方法是否应该使用 mutating 来修饰。在 protocl 中使用 mutating 修饰的方法，对于 class 的实现是完全透明的。
多元组（Tuple） python 中有见过类似。
/// 交互数据 func swapMe&lt;T>(_ a: inout T, _ b: inout T) { (a, b) = (b, a) } var a = 10 var b = 20 swapMe(&amp;a, &amp;b) // a: 20 b: 10 /// 可读的返回值 let rect = CGRect(x: 0, y: 0, width: 100, height: 100) let (slice, remainder) = rect.divided(atDistance: 20, from: .minYEdge) // slice {x 0 y 0 w 100 h 20} // remainder {x 0 y 20 w 100 h 80} @autoclosure 和 ?? @autoclosure 做的事情就是把一句表达式自动的封装成一个闭包（closure）。这样有时候在语法上看起来就会非常漂亮。
...</p></div><footer class=entry-footer><span title='2019-02-15 17:00:00 +0000 UTC'>February 15, 2019</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;402 words&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to 【Swifter - Swift 开发者必备 Tips】笔记" href=https://zyf.im/2019/02/15/swifter-tips-reading-notes/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>PromiseKit 入门使用</h2></header><div class=entry-content><p>在 GitHub Trending 中总是看到 mxcl/PromiseKit 它是主要解决的是 “回调地狱” 的问题，决定尝试用一下。
环境：Swift 4.2、PromiseKit 6
then and done 下面是一个典型的 promise 链式（chain）调用：
firstly { login() }.then { creds in fetch(avatar: creds.user) }.done { image in self.imageView = image } 如果这段代码使用完成回调（completion handler）实现，他将是：
login { creds, error in if let creds = creds { fetch(avatar: creds.user) { image, error in if let image = image { self.imageView = image } } } } then 是完成回调的另一种方式，但是它更丰富。在处级阶段的理解，它更具有可读性。上面的 promise chain 更容易阅读和理解：一个异步操作接着另一个，一行接一行。它与程序代码非常接近，因为我们很容易得到 Swift 的当前状态。
...</p></div><footer class=entry-footer><span title='2019-01-19 14:00:00 +0000 UTC'>January 19, 2019</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;749 words&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to PromiseKit 入门使用" href=https://zyf.im/2019/01/19/promisekit-getting-started/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://zyf.im/page/7/>«&nbsp;Prev&nbsp;
</a><a class=next href=https://zyf.im/page/9/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2025 <a href=https://zyf.im/>ZYF.IM BLOG</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>