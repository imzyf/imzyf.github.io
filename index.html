<!doctype html><html lang=en dir=auto data-theme=dark><head><meta name=generator content="Hugo 0.154.2"><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>ZYF.IM BLOG</title><meta name=keywords content="ZYF,Yifans,Blog,Portfolio,PaperMod"><meta name=description content="The limits of my language mean the limits of my world."><meta name=author content="Me"><link rel=canonical href=https://zyf.im/><link crossorigin=anonymous href=/assets/css/stylesheet.88888b1f97bcb20b824590bc7c6603a852913a2540638b3b3e2663e642691da3.css integrity="sha256-iIiLH5e8sguCRZC8fGYDqFKROiVAY4s7PiZj5kJpHaM=" rel="preload stylesheet" as=style><link rel=icon href=https://zyf.im/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://zyf.im/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://zyf.im/favicon-32x32.png><link rel=apple-touch-icon href=https://zyf.im/apple-touch-icon.png><link rel=mask-icon href=https://zyf.im/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://zyf.im/index.xml title=rss><link rel=alternate type=application/json href=https://zyf.im/index.json title=json><link rel=alternate hreflang=en href=https://zyf.im/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script>localStorage.getItem("pref-theme")==="light"&&(document.querySelector("html").dataset.theme="light")</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-6DVZ6E58DG"></script><script>var doNotTrack=!1,dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-6DVZ6E58DG")}</script><meta property="og:url" content="https://zyf.im/"><meta property="og:site_name" content="ZYF.IM BLOG"><meta property="og:title" content="ZYF.IM BLOG"><meta property="og:description" content="The limits of my language mean the limits of my world."><meta property="og:locale" content="en-us"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="ZYF.IM BLOG"><meta name=twitter:description content="The limits of my language mean the limits of my world."><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"ZYF.IM BLOG","url":"https://zyf.im/","description":"The limits of my language mean the limits of my world.","logo":"https://zyf.im/favicon.ico","sameAs":["https://github.com/","https://space.bilibili.com/29991589","/links/"]}</script></head><body class=list id=top><header class=header><nav class=nav><div class=logo><a href=https://zyf.im/ accesskey=h title="ZYF.IM (Alt + H)"><img src=https://zyf.im/apple-touch-icon.png alt aria-label=logo height=35>ZYF.IM</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://zyf.im/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://zyf.im/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://zyf.im/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://zyf.im/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class="first-entry home-info"><header class=entry-header><h1>Hi there ğŸ‘‹</h1></header><div class=entry-content>Welcome to my blog</div><footer class=entry-footer><div class=social-icons><a href=https://github.com/ target=_blank rel="noopener noreferrer me" title=Github><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg>
</a><a href=https://space.bilibili.com/29991589 target=_blank rel="noopener noreferrer me" title=Bilibili><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><rect x="1.3333" y="6" width="21.333" height="15.333" rx="4" ry="4"/><path d="m8 12.4v1.2"/><path d="m16 12.4v1.2"/><path d="m5.8853 2.6667L8.552 5.3334"/><path d="m18.115 2.6667-2.6667 2.6667"/></svg>
</a><a href=/links/ target=_blank rel="noopener noreferrer me" title=Link><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/></svg></a></div></footer></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>PHP Migrating 8.4 to 8.5</h2></header><div class=entry-content><p>ç®€ä»‹ PHP 8.5 å¼•å…¥äº†è®¸å¤šä»¤äººå…´å¥‹çš„æ–°ç‰¹æ€§ï¼ŒåŒ…æ‹¬ç®¡é“è¿ç®—ç¬¦ï¼ˆPipe Operatorï¼‰ã€URI æ‰©å±•ã€Clone With è¯­æ³•ã€#[\NoDiscard] å±æ€§ç­‰ã€‚æœ¬æ–‡å°†ä»‹ç»ä¸»è¦å˜åŒ–å’Œå¦‚ä½•ä» PHP 8.4 è¿ç§»åˆ° PHP 8.5ã€‚
å‚è€ƒèµ„æº åœ¨çº¿æµ‹è¯•ç¯å¢ƒï¼šhttps://3v4l.org/ å®˜æ–¹å‘å¸ƒè¯´æ˜ï¼šhttps://www.php.net/releases/8.5/en.php è¿ç§»æŒ‡å—ï¼šhttps://www.php.net/manual/en/migration85.php æ›´æ–°è¯¦æƒ…ï¼šhttps://php.watch/versions/8.5 PHP 8.5 æ–°ç‰¹æ€§ ç®¡é“è¿ç®—ç¬¦ï¼ˆPipe Operatorï¼‰ PHP 8.5 å¼•å…¥äº†ç®¡é“è¿ç®—ç¬¦ |>ï¼Œä½¿å‡½æ•°é“¾å¼è°ƒç”¨æ›´åŠ æ¸…æ™°æ˜“è¯»ï¼š
// PHP 8.5 ä¹‹å‰ - åµŒå¥—å‡½æ•°è°ƒç”¨ï¼Œéš¾ä»¥é˜…è¯» $slug = strtolower(str_replace('.', '', str_replace(' ', '-', trim($title)))); // PHP 8.5 - ä½¿ç”¨ç®¡é“è¿ç®—ç¬¦ï¼Œä»å·¦åˆ°å³æ¸…æ™°é˜…è¯» $slug = $title |> trim(...) |> (fn($str) => str_replace(' ', '-', $str)) |> (fn($str) => str_replace('.', '', $str)) |> strtolower(...); ç®¡é“è¿ç®—ç¬¦å°†å·¦ä¾§çš„å€¼ä½œä¸ºå³ä¾§å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ï¼Œå®ç°å‡½æ•°ç»„åˆçš„é“¾å¼è°ƒç”¨ã€‚
URI æ‰©å±• PHP 8.5 æ–°å¢äº†å†…ç½®çš„ URI æ‰©å±•ï¼Œéµå¾ª RFC 3986 å’Œ WHATWG URL æ ‡å‡†æ¥è§£æå’Œå¤„ç† URLã€‚
URI ä¸ URL çš„å…³ç³»ï¼šURIï¼ˆç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼‰ç”¨äºæ ‡è¯†èµ„æºï¼ŒURLï¼ˆç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼‰ç”¨äºå®šä½èµ„æºã€‚æ‰€æœ‰ URL éƒ½æ˜¯ URIï¼Œä½†ä¸æ˜¯æ‰€æœ‰ URI éƒ½æ˜¯ URLã€‚è¯¥æ‰©å±•å‘½åä¸º URI æ˜¯å› ä¸ºå®ƒèƒ½å¤„ç†æ›´å¹¿æ³›çš„æ ‡è¯†ç¬¦æ ¼å¼ã€‚
...</p></div><footer class=entry-footer><span title='2026-01-05 21:33:57 +0800 CST'>January 5, 2026</span>&nbsp;Â·&nbsp;<span>5 min</span>&nbsp;Â·&nbsp;<span>952 words</span>&nbsp;Â·&nbsp;<span>Me, LLM</span></footer><a class=entry-link aria-label="post link to PHP Migrating 8.4 to 8.5" href=https://zyf.im/2026/01/05/php-migrating-84-to-85/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>NGINX å¯ç”¨ HTTP/3</h2></header><div class=entry-content><p>ç®€ä»‹ HTTP/2 è§£å†³äº†"å¤šè·¯å¤ç”¨ã€å¤´éƒ¨å‹ç¼©ã€ä¼˜å…ˆçº§"ç­‰ HTTP/1.x çš„ç“¶é¢ˆï¼Œä½†ä»å— TCP å…ˆå¤©é™åˆ¶ã€‚
HTTP/3 åˆ™æŠŠåŒæ ·çš„è¯­ä¹‰æ¬åˆ° QUICã€‚Quick UDP Internet Connections æ˜¯ Google è®¾è®¡çš„ä¸€ç§åŸºäº UDP çš„å¤šè·¯å¤ç”¨å®‰å…¨ä¼ è¾“å±‚åè®®ã€‚æ ‡å‡†åŒ–åï¼ŒHTTP/3 = HTTP over QUICã€‚
å±‚çº§ HTTP/2 HTTP/3 ä¼ è¾“ TCPï¼ˆå¿…ï¼‰+ TLS 1.2/1.3ï¼ˆå¤šæ•°åœºæ™¯ï¼‰ QUICï¼ˆUDP ä¹‹ä¸Šï¼‰+ TLS 1.3ï¼ˆå¼ºåˆ¶ï¼‰ æµï¼ˆStreamï¼‰ Mux åœ¨ TCP é‡Œçš„é€»è¾‘æµ Mux åœ¨ QUIC åŸç”Ÿæµ å¤´å‹ç¼© HPACK QPACKï¼ˆé¿å…é˜Ÿå¤´é˜»å¡ï¼‰ HTTP/2 æµè§ˆå™¨è¦æ±‚å¿…é¡»è·‘åœ¨ TLS ä¹‹ä¸Šï¼ˆALPN=â€œh2â€ï¼‰ã€‚æ ˆå˜ä¸º HTTP/2 â†’ TLS â†’ TCP â†’ IPã€‚ HTTP/3 ä½¿ç”¨ QUIC æ›¿æ¢ TCPï¼Œæ ˆå˜ä¸º HTTP/3 â†’ QUICï¼ˆæ‹¥å¡/é‡ä¼ ï¼‰â†’ UDP â†’ IPï¼ŒåŠ å¯†é›†æˆåœ¨ QUICï¼ˆåŸºäº TLS 1.3ï¼‰ã€‚ Mux å³ multiplexï¼Œå¤šè·¯å¤ç”¨ã€‚ HTTP/2 å¿…é¡»é¡ºåºä¼ è¾“ï¼Œè€Œ HTTP/3 æ”¯æŒä¹±åºã€‚ å¦‚æœæ²¿ç”¨ HPACKï¼Œä¸¢ä¸€ä¸ª UDP åŒ…å°±ä¼šè®©æ‰€æœ‰æµçš„å¤´éƒ¨è§£ç å¡ä½ï¼Œå› æ­¤ IETF ä¸º HTTP/3 è®¾è®¡äº† QPACK æ¥"é¿å¼€é˜Ÿå¤´é˜»å¡ï¼ˆHead-of-Line Blocking, HoLï¼‰"ã€‚ è¿æ¥è¿ç§»ï¼šé€šè¿‡ Connection ID è¯†åˆ«ä¼šè¯ï¼ŒIP æˆ–ç«¯å£æ”¹å˜ï¼ˆå¦‚ç§»åŠ¨ç½‘ç»œ/Wi-Fi åˆ‡æ¢ï¼‰æ— éœ€é‡æ–°å»ºç«‹è¿æ¥ã€‚ ä½¿ç”¨ HTTP/3 çš„ç½‘ç«™ï¼š
...</p></div><footer class=entry-footer><span title='2025-06-27 10:12:12 +0800 CST'>June 27, 2025</span>&nbsp;Â·&nbsp;<span>2 min</span>&nbsp;Â·&nbsp;<span>413 words</span>&nbsp;Â·&nbsp;<span>Me, LLM</span></footer><a class=entry-link aria-label="post link to NGINX å¯ç”¨ HTTP/3" href=https://zyf.im/2025/06/27/nginx-enable-http3/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>åœ¨æœ¬åœ°ç¯å¢ƒä½¿ç”¨ HTTPS</h2></header><div class=entry-content><p>å…¬ç½‘ç¯å¢ƒä½¿ç”¨ HTTPS å‚è€ƒï¼šä½¿ç”¨ Certbot è·å– Letâ€™s Encrypt é¢å‘çš„ TLS è¯ä¹¦ ï½œ ZYF.IMã€‚
ç®€ä»‹ HTTPSï¼ˆHyperText Transfer Protocol Secureï¼‰æ˜¯åœ¨ HTTP ä¹‹ä¸Šé€šè¿‡ TLS/SSL å®ç°åŠ å¯†çš„å®‰å…¨é€šä¿¡åè®®ï¼Œç”¨æ¥ä¿æŠ¤æµè§ˆå™¨ä¸æœåŠ¡å™¨ä¹‹é—´çš„æ•°æ®æœºå¯†æ€§ã€å®Œæ•´æ€§ä¸èº«ä»½å¯ä¿¡æ€§ã€‚
å¼€å§‹å®éªŒ mkcert ä¼šåœ¨æœ¬åœ°ç”Ÿæˆä¸€å¥—æ ¹ CAï¼ˆåŒ…å«æ ¹è¯ä¹¦å’Œç§é’¥ï¼‰ï¼Œå¹¶æŠŠæ ¹è¯ä¹¦å¯¼å…¥ç³»ç»Ÿ/æµè§ˆå™¨çš„ä¿¡ä»»åˆ—è¡¨ã€‚éšåï¼Œå®ƒç”¨è¿™å¥— CA çš„ç§é’¥ä¸º localhost ç­‰åŸŸåç­¾å‘æœåŠ¡å™¨è¯ä¹¦ï¼›å› ä¸ºæ ¹è¯ä¹¦å·²è¢«ä¿¡ä»»ï¼Œæµè§ˆå™¨è®¿é—®æ—¶å°±ä¼šæŠŠæœåŠ¡å™¨è¯ä¹¦è§†ä¸ºå¯ä¿¡ã€‚
brew install mkcert mkcert -install mkcert localhost # The certificate is at "./localhost.pem" and the key at "./localhost-key.pem" âœ… # vi default.conf server { listen 443 ssl; server_name localhost; ssl_certificate /etc/ssl/certs/localhost.pem; ssl_certificate_key /etc/ssl/certs/localhost-key.pem; # åªå…è®¸ TLSv1.2 å’Œ TLSv1.3 åè®®ï¼Œæ˜¾å¼ç¦æ­¢ TLSv1.0 å’Œ TLSv1.1 åè®® ssl_protocols TLSv1.2 TLSv1.3; # åªä¿ç•™é«˜å¼ºåº¦ã€å¸¦èº«ä»½éªŒè¯ã€ä¸”ä¸ä½¿ç”¨ MD5 çš„ TLS 1.2ï¼ˆåŠä»¥ä¸‹ï¼‰å¥—ä»¶ ssl_ciphers HIGH:!aNULL:!MD5; # ä¼˜å…ˆä½¿ç”¨æœåŠ¡å™¨ç«¯åŠ å¯†å¥—ä»¶ ssl_prefer_server_ciphers on; location / { root /usr/share/nginx/html; index index.html index.htm; } } docker run -d --name nginx-ssl \ -p 8443:443 \ -v ./default.conf:/etc/nginx/conf.d/default.conf:ro \ -v ./localhost.pem:/etc/ssl/certs/localhost.pem:ro \ -v ./localhost-key.pem:/etc/ssl/certs/localhost-key.pem:ro \ nginx:alpine # docker rm -f nginx-ssl # docker container restart nginx-ssl æµ‹è¯• æµè§ˆå™¨ æµè§ˆå™¨è®¿é—® https://localhost:8443/ï¼Œå¦‚æœè¯ä¹¦æ˜¯ç»¿è‰²çš„ï¼Œè¯´æ˜æˆåŠŸäº†ã€‚
...</p></div><footer class=entry-footer><span title='2025-06-26 12:00:00 +0800 CST'>June 26, 2025</span>&nbsp;Â·&nbsp;<span>4 min</span>&nbsp;Â·&nbsp;<span>669 words</span>&nbsp;Â·&nbsp;<span>Me, LLM</span></footer><a class=entry-link aria-label="post link to åœ¨æœ¬åœ°ç¯å¢ƒä½¿ç”¨ HTTPS" href=https://zyf.im/2025/06/26/use-https-in-local-environment/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>PHP Migrating 8.3 to 8.4</h2></header><div class=entry-content><p>ç®€ä»‹ PHP 8.4 å¼•å…¥äº†è®¸å¤šæ–°ç‰¹æ€§ï¼Œå¦‚å±æ€§é’©å­ï¼ˆProperty Hooksï¼‰ã€éå¯¹ç§°å¯è§æ€§ï¼ˆAsymmetric Visibilityï¼‰ã€#[Deprecated] å±æ€§ä»¥åŠæ›´æ–°çš„ DOM API ç­‰ã€‚æœ¬æ–‡å°†ä»‹ç»ä¸»è¦å˜åŒ–å’Œå¦‚ä½•è¿›è¡Œè¿ç§»ã€‚
å‚è€ƒèµ„æº åœ¨çº¿æµ‹è¯•ç¯å¢ƒï¼šhttps://onlinephp.io/ å®˜æ–¹å‘å¸ƒè¯´æ˜ï¼šhttps://www.php.net/releases/8.4/en.php è¿ç§»æŒ‡å—ï¼šhttps://www.php.net/manual/en/migration84.php æ›´æ–°è¯¦æƒ…ï¼šhttps://php.watch/versions/8.4 PHP 8.4 æ–°ç‰¹æ€§ å±æ€§é’©å­ä¸éå¯¹ç§°å¯è§æ€§ // å±æ€§é’©å­ï¼ˆProperty Hooksï¼‰ä¸éå¯¹ç§°å¯è§æ€§ï¼ˆAsymmetric Visibilityï¼‰ class User { private bool $isModified = false; public function __construct(public private(set) string $first, private string $last) { } public string $fullName { get => $this->first . " " . $this->last; set { [$this->first, $this->last] = explode(' ', $value, 2); $this->isModified = true; } } } $user = new User("Ming", "Li"); echo $user->fullName; // è¾“å‡º: Ming Li $user->fullName = "Hong Xiao"; echo $user->fullName; // è¾“å‡º: Hong Xiao // éå¯¹ç§°å¯è§æ€§ç¤ºä¾‹ echo $user->first; // è¾“å‡º: Hong $user->first = "Hua"; // é”™è¯¯: Fatal error: Uncaught Error: Cannot modify private(set) property User::$first å±æ€§é’©å­å…è®¸æˆ‘ä»¬å®šä¹‰å±æ€§çš„è·å–å’Œè®¾ç½®è¡Œä¸ºï¼Œè€Œéå¯¹ç§°å¯è§æ€§å…è®¸æˆ‘ä»¬ä¸ºå±æ€§è®¾ç½®ä¸åŒçš„è¯»å†™æƒé™ã€‚åœ¨ä¸Šä¾‹ä¸­ï¼Œ$first å±æ€§å¯ä»¥å…¬å¼€è¯»å–ä½†åªèƒ½ç§æœ‰å†™å…¥ã€‚
#[Deprecated] å±æ€§ PHP 8.4 å¼•å…¥äº† #[Deprecated] å±æ€§ï¼Œå¯ä»¥ç”¨æ¥æ ‡è®°å·²å¼ƒç”¨çš„ä»£ç ï¼š
...</p></div><footer class=entry-footer><span title='2025-02-01 17:42:42 +0800 CST'>February 1, 2025</span>&nbsp;Â·&nbsp;<span>4 min</span>&nbsp;Â·&nbsp;<span>741 words</span>&nbsp;Â·&nbsp;<span>Me, LLM</span></footer><a class=entry-link aria-label="post link to PHP Migrating 8.3 to 8.4" href=https://zyf.im/2025/02/01/php-migrating-83-to-84/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>PHP Migrating 8.2 to 8.3</h2></header><div class=entry-content><p>ç®€ä»‹ PHP 8.3 å¼•å…¥äº†è®¸å¤šæ–°ç‰¹æ€§ï¼ŒåŒ…æ‹¬ç±»å‹åŒ–ç±»å¸¸é‡ï¼ˆTyped Class Constantsï¼‰ã€#[\Override] å±æ€§ã€json_validate() å‡½æ•°ã€åªè¯»å±æ€§çš„æ·±åº¦å…‹éš†ç­‰ã€‚æœ¬æ–‡å°†ä»‹ç»ä¸»è¦å˜åŒ–å’Œå¦‚ä½•ä» PHP 8.2 è¿ç§»åˆ° PHP 8.3ã€‚
å‚è€ƒèµ„æº åœ¨çº¿æµ‹è¯•ç¯å¢ƒï¼šhttps://onlinephp.io/ å®˜æ–¹å‘å¸ƒè¯´æ˜ï¼šhttps://www.php.net/releases/8.3/en.php è¿ç§»æŒ‡å—ï¼šhttps://www.php.net/manual/en/migration83.php æ›´æ–°è¯¦æƒ…ï¼šhttps://php.watch/versions/8.3 PHP 8.3 æ–°ç‰¹æ€§ ç±»å‹åŒ–ç±»å¸¸é‡ï¼ˆTyped Class Constantsï¼‰ PHP 8.3 å…è®¸ä¸ºç±»å¸¸é‡å£°æ˜ç±»å‹ï¼Œå¢å¼ºäº†ç±»å‹å®‰å…¨æ€§ï¼š
interface DatabaseInterface { public const string ENGINE = 'mysql'; } trait ConfigTrait { final protected const int MAX_CONNECTIONS = 100; } enum Status: string { public const string DEFAULT = 'pending'; case Pending = 'pending'; case Active = 'active'; } class Database implements DatabaseInterface { use ConfigTrait; // ç±»å‹éµå¾ª LSPï¼ˆé‡Œæ°æ›¿æ¢åŸåˆ™ï¼‰ï¼Œå­ç±»å¯ä»¥æ”¶çª„ç±»å‹ public const string ENGINE = 'postgresql'; } ç±»å¸¸é‡ç±»å‹éµå¾ªé‡Œæ°æ›¿æ¢åŸåˆ™ï¼ˆLSPï¼‰ï¼Œå­ç±»å¯ä»¥æ”¶çª„çˆ¶ç±»å¸¸é‡çš„ç±»å‹ï¼š
class ParentClass { public const string|int VALUE = 'MyValue'; } class ChildClass extends ParentClass { // âœ… å¯ä»¥å°† string|int æ”¶çª„ä¸º string public const string VALUE = 'MyValue'; } #[\Override] å±æ€§ æ–°çš„ #[\Override] å±æ€§ç¡®ä¿æ–¹æ³•ç¡®å®è¦†ç›–äº†çˆ¶ç±»æ–¹æ³•ï¼Œæœ‰åŠ©äºæ•è·æ‹¼å†™é”™è¯¯å’Œç®€åŒ–é‡æ„ï¼š
class ParentClass { protected function setUp(): void {} } class ChildClass extends ParentClass { #[\Override] protected function setUp(): void {} // âœ… æ­£ç¡®è¦†ç›– #[\Override] protected function setUpP(): void {} // âŒ Fatal error: çˆ¶ç±»æ²¡æœ‰è¯¥æ–¹æ³• } è¿™åœ¨é‡æ„æ—¶ç‰¹åˆ«æœ‰ç”¨ - å¦‚æœçˆ¶ç±»æ–¹æ³•è¢«é‡å‘½åæˆ–åˆ é™¤ï¼ŒPHP ä¼šç«‹å³æŠ¥é”™è€Œä¸æ˜¯é™é»˜å¤±è´¥ã€‚
...</p></div><footer class=entry-footer><span title='2024-08-01 17:37:13 +0800 CST'>August 1, 2024</span>&nbsp;Â·&nbsp;<span>5 min</span>&nbsp;Â·&nbsp;<span>912 words</span>&nbsp;Â·&nbsp;<span>Me, LLM</span></footer><a class=entry-link aria-label="post link to PHP Migrating 8.2 to 8.3" href=https://zyf.im/2024/08/01/php-migrating-82-to-83/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>PHP Migrating 8.1 to 8.2</h2></header><div class=entry-content><p>ç®€ä»‹ PHP 8.2 å¼•å…¥äº†è®¸å¤šç±»å‹ç³»ç»Ÿæ”¹è¿›ï¼ŒåŒ…æ‹¬åªè¯»ç±»ï¼ˆReadonly Classesï¼‰ã€æå–èŒƒå¼ç±»å‹ï¼ˆDNF Typesï¼‰ã€ç‹¬ç«‹çš„ nullã€trueã€false ç±»å‹ã€æ•æ„Ÿå‚æ•°éšè—ã€æ–°çš„ Random æ‰©å±•ç­‰ã€‚æœ¬æ–‡å°†ä»‹ç»ä¸»è¦å˜åŒ–å’Œå¦‚ä½•ä» PHP 8.1 è¿ç§»åˆ° PHP 8.2ã€‚
å‚è€ƒèµ„æº åœ¨çº¿æµ‹è¯•ç¯å¢ƒï¼šhttps://onlinephp.io/ å®˜æ–¹å‘å¸ƒè¯´æ˜ï¼šhttps://www.php.net/releases/8.2/en.php è¿ç§»æŒ‡å—ï¼šhttps://www.php.net/manual/en/migration82.php æ›´æ–°è¯¦æƒ…ï¼šhttps://php.watch/versions/8.2 PHP 8.2 æ–°ç‰¹æ€§ åªè¯»ç±»ï¼ˆReadonly Classesï¼‰ PHP 8.2 å…è®¸å°†æ•´ä¸ªç±»å£°æ˜ä¸ºåªè¯»ï¼Œç±»ä¸­çš„æ‰€æœ‰å±æ€§è‡ªåŠ¨æˆä¸ºåªè¯»å±æ€§ï¼š
readonly class User { public function __construct( public string $username, public string $email, ) {} } $user = new User('john_doe', 'john@example.com'); echo $user->username; // john_doe $user->email = 'new@example.com'; // Fatal error: Cannot modify readonly property User::$email åªè¯»ç±»çš„ç‰¹æ€§ï¼š
æ‰€æœ‰å±æ€§è‡ªåŠ¨æˆä¸ºåªè¯» ä¸èƒ½æœ‰åŠ¨æ€å±æ€§ æ‰€æœ‰å±æ€§å¿…é¡»æœ‰ç±»å‹å£°æ˜ å­ç±»ä¹Ÿå¿…é¡»æ˜¯åªè¯»çš„ æå–èŒƒå¼ç±»å‹ï¼ˆDNF Typesï¼‰ æå–èŒƒå¼ï¼ˆDisjunctive Normal Formï¼‰å…è®¸ç»„åˆè”åˆç±»å‹å’Œäº¤å‰ç±»å‹ï¼Œäº¤å‰ç±»å‹å¿…é¡»ç”¨æ‹¬å·åˆ†ç»„ï¼š
// æ¥å—åŒæ—¶å®ç° Countable å’Œ Iterator çš„å¯¹è±¡ï¼Œæˆ–è€… null function process((Countable&amp;Iterator)|null $item): int { return $item ? count($item) : 0; } // æ›´å¤æ‚çš„ DNF ç±»å‹ç¤ºä¾‹ function handle( (HTMLRequest&amp;RequestInterface)|APIRequest|null $request ): Response { // å¤„ç†è¯·æ±‚ } DNF ç±»å‹å¿…é¡»éµå¾ªç‰¹å®šæ ¼å¼ï¼šäº¤å‰ç±»å‹ç”¨æ‹¬å·åŒ…è£¹ï¼Œå†ä¸å…¶ä»–ç±»å‹ç”¨ | è¿æ¥ã€‚
...</p></div><footer class=entry-footer><span title='2024-07-01 09:24:50 +0800 CST'>July 1, 2024</span>&nbsp;Â·&nbsp;<span>5 min</span>&nbsp;Â·&nbsp;<span>1005 words</span>&nbsp;Â·&nbsp;<span>Me, LLM</span></footer><a class=entry-link aria-label="post link to PHP Migrating 8.1 to 8.2" href=https://zyf.im/2024/07/01/php-migrating-81-to-82/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>MongoDB é«˜æ‰‹è¯¾</h2></header><div class=entry-content><p>04 ç‰¹è‰²åŠä¼˜åŠ¿ å¯¹è±¡æ¨¡å‹ï¼Œå¿«é€Ÿå“åº”ä¸šåŠ¡å˜åŒ–ï¼š
å¤šå½¢æ€§ï¼šåŒä¸€ä¸ªé›†åˆä¸­å¯ä»¥åŒ…å«ä¸åŒå­—æ®µï¼ˆç±»å‹ï¼‰çš„æ–‡æ¡£å¯¹è±¡ã€‚ åŠ¨æ€æ€§ï¼šçº¿ä¸Šä¿®æ”¹æ•°æ®æ¨¡å¼ï¼Œä¿®æ”¹æ˜¯åº”ç”¨ä¸æ•°æ®åº“å‡æ— é¡»ä¸‹çº¿ã€‚ æ•°æ®æ²»ç†ï¼šæ”¯æŒä½¿ç”¨JSONSchema æ¥è§„èŒƒæ•°æ®æ¨¡å¼ã€‚åœ¨ä¿è¯æ¨¡å¼çµæ´»åŠ¨æ€çš„å‰æä¸‹ï¼Œæä¾›æ•°æ®æ²»ç†èƒ½åŠ›ã€‚ å¿«é€Ÿçš„å¼€å‘ï¼š
åªå­˜å‚¨åœ¨ä¸€ä¸ªå­˜å‚¨åŒºè¯»å†™ã€‚ åèŒƒå¼ã€æ— å…³è”çš„ç»„ç»‡æå¤§ä¼˜åŒ–æŸ¥è¯¢é€Ÿåº¦ã€‚ ç¨‹åº API è‡ªç„¶ï¼Œå¼€å‘é€Ÿåº¦å¿«ã€‚ åŸç”Ÿçš„é«˜å¯ç”¨ï¼š
Replica Set - 2 to 50 ä¸ªæˆå‘˜ï¼Œå»ºè®®å•æ•°ã€‚ è‡ªæ¢å¤ã€‚ å¤šä¸­å¿ƒå®¹ç¾èƒ½åŠ›ã€‚ æ»šåŠ¨æœåŠ¡ï¼Œæœ€å°åŒ–æœåŠ¡ç»ˆç«¯ã€‚ æ¨ªå‘æ‰©å±•èƒ½åŠ›ï¼š
éœ€è¦çš„æ—¶å€™æ— ç¼æ‰©å±•ã€‚ åº”ç”¨å…¨é€æ˜ã€‚ å¤šç§æ•°æ®åˆ†å¸ƒç­–ç•¥ã€‚ è½»æ¾æ”¯æŒ TB-PB æ•°é‡çº§ã€‚ 06 åŸºæœ¬æ“ä½œ cloud.mongodb.com äº‘æœåŠ¡ æ ·æœ¬æ•°æ® | geektime-mongodb-course tar -xvf dump.tar.gz mongorestore --uri="mongodb://root:root@10.130.0.12/?&amp;authMechanism=SCRAM-SHA-1" // æ’å…¥ db.fruit.insertOne({name: "apple"}) db.fruit.insertMany([ {name: "apple"}, {name: "pear"}, {name: "orange"}, ]) // æŸ¥è¯¢ db.customers.find({username: "fmiller", name: "Elizabeth Ray"}) db.customers.find({username: /^f/}) db.customers.find({$or: [{username: /^f/}, {name: /^E/}]}) a &lt;> 1 {a: {$ne: 1}} a > 1 {a: {$gt: 1}} a >= 1 {a: {$gte: 1}} a &lt; 1 {a: {$lt: 1}} a &lt;= 1 {a: {$lte: 1}} a=1 OR b=1 {$or: [{a: 1}, {b: 1}]} a IS NULL {a: {$exists: false}} a IS (1,2,3) {a: {$in: [1, 2, 3]}} // åŒæ—¶æ»¡è¶³ {$eleMatch: {"city": "Rome", "country": "USA"}} // æŠ•å½± projection // like select db.customers.find({username: /^f/}, {name: 0, email: 0}) db.customers.find({username: /^f/}, {_id: 1, name: 1}) // remove db.customers.remove({username: "abrown"}) // update db.customers.updateOne({username: "fmiller"}, {$set: {from: "China"}}) db.customers.updateMany({username: "fmiller"}, {$set: {from: "China"}}) // $set $unset // $push $pushAll $pop æ•°ç»„æ“ä½œ // $pull $pullAll å¦‚æœåŒ¹é…ï¼Œä»æ•°ç»„ä¸­åˆ é™¤ç›¸åº”çš„å¯¹è±¡ // $addToSet å¦‚æœä¸å­˜åœ¨åˆ™å¢åŠ ä¸€ä¸ªå€¼åˆ°æ•°ç»„ // drop db.fruit.drop() show collections db db.dropDatabase() show dbs 08 èšåˆæŸ¥è¯¢ Aggregation Framework
...</p></div><footer class=entry-footer><span title='2023-04-19 10:47:10 +0800 CST'>April 19, 2023</span>&nbsp;Â·&nbsp;<span>7 min</span>&nbsp;Â·&nbsp;<span>1333 words</span>&nbsp;Â·&nbsp;<span>Me</span></footer><a class=entry-link aria-label="post link to MongoDB é«˜æ‰‹è¯¾" href=https://zyf.im/2023/04/19/mongodb-course/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>æ­£åˆ™è¡¨è¾¾å¼</h2></header><div class=entry-content><p>00 regex101 regulex ihateregex 01 å…ƒå­—ç¬¦ æ­£åˆ™è¡¨è¾¾å¼ â€”â€” å­—ç¬¦ä¸²çš„è§„åˆ™ã€‚
å…ƒå­—ç¬¦å°±æ˜¯æŒ‡é‚£äº›åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­å…·æœ‰ç‰¹æ®Šæ„ä¹‰çš„ä¸“ç”¨å­—ç¬¦ã€‚
ç‰¹æ®Šå•å­—ç¬¦ . ä»»æ„å­—ç¬¦ï¼ˆæ¢è¡Œé™¤å¤–ï¼‰ \d ä»»æ„æ•°å­— \D ä»»æ„éæ•°å­— \w A-Za-z0-9_ \W \s ç©ºç™½ç¬¦ \S ç©ºç™½ç¬¦ \r å›è½¦ç¬¦ \n æ¢è¡Œç¬¦ \f æ¢é¡µç¬¦ \t åˆ¶è¡¨ç¬¦ \v å‚ç›´åˆ¶è¡¨ç¬¦ èŒƒå›´ | æˆ– [abc] å¤šé€‰ä¸€ [a-z] ä¹‹é—´ [^abc] å–åï¼Œä¸èƒ½æ˜¯æ‹¬å·ä¸­çš„ä»»æ„å•ä¸ªå…ƒç´  é‡è¯ * 0&lt;= + 1&lt;= ? 0æˆ–1 {m} m {m,} m&lt;= {m,n} m-n 02 é‡è¯ä¸è´ªå©ª è´ªå©ª(Greedy) *ï¼šåŒ¹é…æœ€é•¿ã€‚åœ¨è´ªå©ªé‡è¯æ¨¡å¼ä¸‹ï¼Œæ­£åˆ™è¡¨è¾¾å¼ä¼šå°½å¯èƒ½é•¿åœ°å»åŒ¹é…ç¬¦åˆè§„åˆ™çš„å­—ç¬¦ä¸²ï¼Œä¸”ä¼šå›æº¯ã€‚
preg_match_all("/a*/i", "aaabb", $matches); var_dump($matches); éè´ªå©ª(Reluctant) +?ï¼šåŒ¹é…æœ€çŸ­ã€‚åœ¨éè´ªå©ªé‡è¯æ¨¡å¼ä¸‹ï¼Œæ­£åˆ™è¡¨è¾¾å¼ä¼šåŒ¹é…å°½å¯èƒ½çŸ­çš„å­—ç¬¦ä¸²ã€‚
ENVï¼šPython3
import re re.findall(r'a*', 'aaabb') # è´ªå©ªæ¨¡å¼ # ['aaa', '', '', ''] re.findall(r'a*?', 'aaabb') # éè´ªå©ªæ¨¡å¼ # ['', 'a', '', 'a', '', 'a', '', '', ''] re.findall(r'".+"', '"the little cat" is a toy, it lokks "a little bad"') # è´ªå©ªæ¨¡å¼ # ['"the little cat" is a toy, it lokks "a little bad"'] re.findall(r'".+?"', '"the little cat" is a toy, it lokks "a little bad"') # éè´ªå©ªæ¨¡å¼ # ['"the little cat"', '"a little bad"'] ç‹¬å æ¨¡å¼(Possessive) ++ï¼šåŒè´ªå©ªä¸€æ ·åŒ¹é…æœ€é•¿ã€‚ä¸è¿‡åœ¨ç‹¬å é‡è¯æ¨¡å¼ä¸‹ï¼Œæ­£åˆ™è¡¨è¾¾å¼å°½å¯èƒ½é•¿åœ°å»åŒ¹é…å­—ç¬¦ä¸²ï¼Œä¸€æ—¦åŒ¹é…ä¸æˆåŠŸå°±ä¼šç»“æŸåŒ¹é…è€Œ ä¸ä¼šå›æº¯ã€‚
...</p></div><footer class=entry-footer><span title='2023-03-01 15:31:15 +0800 CST'>March 1, 2023</span>&nbsp;Â·&nbsp;<span>7 min</span>&nbsp;Â·&nbsp;<span>1441 words</span>&nbsp;Â·&nbsp;<span>Me</span></footer><a class=entry-link aria-label="post link to æ­£åˆ™è¡¨è¾¾å¼" href=https://zyf.im/2023/03/01/regular-expression-getting-started/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Kubernetes å…¥é—¨å®æˆ˜ Part3</h2></header><div class=entry-content><p>24 PersistentVolume æ•°æ®æŒä¹…åŒ– PersistentVolume å±äºé›†ç¾¤çš„ç³»ç»Ÿèµ„æºï¼Œæ˜¯å’Œ Node å¹³çº§çš„ä¸€ç§å¯¹è±¡ï¼ŒPod å¯¹å®ƒæ²¡æœ‰ç®¡ç†æƒï¼Œåªæœ‰ä½¿ç”¨æƒã€‚
StorageClass å®ƒæŠ½è±¡äº†ç‰¹å®šç±»å‹çš„å­˜å‚¨ç³»ç»Ÿï¼ˆæ¯”å¦‚ Cephã€NFSï¼‰ï¼Œåœ¨ PVC å’Œ PV ä¹‹é—´å……å½“â€œåè°ƒäººâ€çš„è§’è‰²ï¼Œå¸®åŠ© PVC æ‰¾åˆ°åˆé€‚çš„ PVã€‚
# vim host-path-pv-pvc.yml apiVersion: v1 kind: PersistentVolume metadata: # åªæœ‰ 10MB å®¹é‡çš„å­˜å‚¨è®¾å¤‡ name: host-10m-pv spec: # kubectl explain PersistentVolume.spec.storageClassName storageClassName: host-vol # kubectl explain PersistentVolume.spec.accessModes accessModes: # ReadWriteOnceï¼šå­˜å‚¨å·å¯è¯»å¯å†™ï¼Œä½†åªèƒ½è¢«ä¸€ä¸ªèŠ‚ç‚¹ä¸Šçš„ Pod æŒ‚è½½ã€‚ # ReadOnlyManyï¼šå­˜å‚¨å·åªè¯»ä¸å¯å†™ï¼Œå¯ä»¥è¢«ä»»æ„èŠ‚ç‚¹ä¸Šçš„ Pod å¤šæ¬¡æŒ‚è½½ã€‚ # ReadWriteManyï¼šå­˜å‚¨å·å¯è¯»å¯å†™ï¼Œä¹Ÿå¯ä»¥è¢«ä»»æ„èŠ‚ç‚¹ä¸Šçš„ Pod å¤šæ¬¡æŒ‚è½½ã€‚ - ReadWriteOnce capacity: # Ki/Mi/Gi storage: 10Mi hostPath: path: /tmp/host-10m-pv/ --- # PVC ä¸è¡¨ç¤ºå®é™…çš„å­˜å‚¨ï¼Œè€Œæ˜¯ä¸€ä¸ªâ€œç”³è¯·â€æˆ–è€…â€œå£°æ˜â€ apiVersion: v1 kind: PersistentVolumeClaim metadata: name: host-5m-pvc spec: storageClassName: host-vol accessModes: - ReadWriteOnce resources: requests: storage: 5Mi mkdir /tmp/host-10m-pv kubectl apply -f host-path-pv-pvc.yml kubectl get pv # NAME CAPACITY ACCESS MODES RECLAIM POLICY STATUS CLAIM STORAGECLASS REASON AGE # host-10m-pv 10Mi RWO Retain Bound default/host-5m-pvc host-vol 4s kubectl get pvc # NAME STATUS VOLUME CAPACITY ACCESS MODES STORAGECLASS AGE # host-5m-pvc Bound host-10m-pv 10Mi RWO host-vol 6s # vim host-pvc-pod.yml apiVersion: v1 kind: Pod metadata: name: host-pvc-pod spec: volumes: - name: host-pvc-vol persistentVolumeClaim: claimName: host-5m-pvc containers: - name: ngx-pvc-pod image: nginx:alpine ports: - containerPort: 80 volumeMounts: - name: host-pvc-vol mountPath: /tmp kubectl apply -f host-pvc-pod.yml kubectl get pod -o wide kubectl exec -it host-pvc-pod -- sh cd /tmp && touch a.md # check in worker node /tmp/host-10m-pv/ 25 NFS ç½‘ç»œå…±äº«å­˜å‚¨ â€¦
...</p></div><footer class=entry-footer><span title='2023-02-24 17:24:14 +0800 CST'>February 24, 2023</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>205 words</span>&nbsp;Â·&nbsp;<span>Me</span></footer><a class=entry-link aria-label="post link to Kubernetes å…¥é—¨å®æˆ˜ Part3" href=https://zyf.im/2023/02/24/kubernetes-getting-started-part3/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Kubernetes å…¥é—¨å®æˆ˜ Part2</h2></header><div class=entry-content><p>17 å¤šèŠ‚ç‚¹çš„ Kubernetes é›†ç¾¤ åœ¨è…¾è®¯äº‘ TencentOS Server 3.1 (TK4) ä¸‹æµ‹è¯•ï¼š
master SA3.MEDIUM4 2 æ ¸ 4GB 5Mbps worker S5.SMALL2 1 æ ¸ 2GB 1Mbps worker S5.SMALL2 1 æ ¸ 2GB 1Mbps # ä¿®æ”¹æº https://mirrors.cloud.tencent.com/ mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.cloud.tencent.com/repo/centos7_base.repo yum clean all yum makecache # install docker yum remove docker \ docker-client \ docker-client-latest \ docker-common \ docker-latest \ docker-latest-logrotate \ docker-logrotate \ docker-engine yum install -y yum-utils yum-config-manager \ --add-repo \ https://download.docker.com/linux/centos/docker-ce.repo yum install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin systemctl start docker docker -v docker run hello-world ä¸€äº›å‡†å¤‡å·¥ä½œï¼š
...</p></div><footer class=entry-footer><span title='2023-02-22 17:11:27 +0800 CST'>February 22, 2023</span>&nbsp;Â·&nbsp;<span>13 min</span>&nbsp;Â·&nbsp;<span>2610 words</span>&nbsp;Â·&nbsp;<span>Me</span></footer><a class=entry-link aria-label="post link to Kubernetes å…¥é—¨å®æˆ˜ Part2" href=https://zyf.im/2023/02/22/kubernetes-getting-started-part2/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://zyf.im/page/2/>Next&nbsp;&nbsp;Â»</a></nav></footer></main><footer class=footer><span>&copy; 2026 <a href=https://zyf.im/>ZYF.IM BLOG</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>