<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>【Git 权威指南】读书笔记 - 独奏 - Part 3 | ZYF.IM BLOG</title><meta name=keywords content="git"><meta name=description content='主要内容：【Git 基本操作】
Git 基本操作
先来合个影
在 Git 里，“留影”用的命令叫做 tag，更加专业的术语叫做“里程碑”（打 tag，或打标签）。
git tag -m "Say bye-bye to all previous practice." old_practice
里程碑无非也是一个引用，通过记录提交 ID（或者创建 Tag 对象）来为当前版本库状态进行“留影”。
git rev-parse refs/tags/old_practice
41bd4e2cce0f8baa9bb4cdda62927b408c846cd6
git describe 显示当前版本库的最新提交的版本号。格式：最近的 tag - 距离此 tag 的个数 - 该提交的 SHA1
git describe
old_practice

# .. commit something

git describe
old_practice-2-g8861c65

删除文件
rm *.txt 针对的是 工作区，对 暂存区 和 版本库 没有任何影响。
git rm detached-commit.txt hack-1.txt new-commit.txt welcome.txt 删除动作加入了暂存区，commit 后在版本库罪行提交中删除了，在历史提交中尚在。'><meta name=author content="Me"><link rel=canonical href=https://zyf.im/2017/08/03/got-git-reading-notes-solo-part3/><link crossorigin=anonymous href=/assets/css/stylesheet.63618a0fd0c7dd946ad6f368012c097fc6e5a8464cefd289c140dd28c01ec58d.css integrity="sha256-Y2GKD9DH3ZRq1vNoASwJf8blqEZM79KJwUDdKMAexY0=" rel="preload stylesheet" as=style><link rel=icon href=https://zyf.im/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://zyf.im/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://zyf.im/favicon-32x32.png><link rel=apple-touch-icon href=https://zyf.im/apple-touch-icon.png><link rel=mask-icon href=https://zyf.im/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://zyf.im/2017/08/03/got-git-reading-notes-solo-part3/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-6DVZ6E58DG"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-6DVZ6E58DG")}</script><meta property="og:url" content="https://zyf.im/2017/08/03/got-git-reading-notes-solo-part3/"><meta property="og:site_name" content="ZYF.IM BLOG"><meta property="og:title" content="【Git 权威指南】读书笔记 - 独奏 - Part 3"><meta property="og:description" content='主要内容：【Git 基本操作】
Git 基本操作 先来合个影 在 Git 里，“留影”用的命令叫做 tag，更加专业的术语叫做“里程碑”（打 tag，或打标签）。
git tag -m "Say bye-bye to all previous practice." old_practice 里程碑无非也是一个引用，通过记录提交 ID（或者创建 Tag 对象）来为当前版本库状态进行“留影”。
git rev-parse refs/tags/old_practice 41bd4e2cce0f8baa9bb4cdda62927b408c846cd6 git describe 显示当前版本库的最新提交的版本号。格式：最近的 tag - 距离此 tag 的个数 - 该提交的 SHA1
git describe old_practice # .. commit something git describe old_practice-2-g8861c65 删除文件 rm *.txt 针对的是 工作区，对 暂存区 和 版本库 没有任何影响。
git rm detached-commit.txt hack-1.txt new-commit.txt welcome.txt 删除动作加入了暂存区，commit 后在版本库罪行提交中删除了，在历史提交中尚在。'><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2017-08-03T11:00:00+08:00"><meta property="article:modified_time" content="2017-08-03T11:00:00+08:00"><meta property="article:tag" content="Git"><meta name=twitter:card content="summary"><meta name=twitter:title content="【Git 权威指南】读书笔记 - 独奏 - Part 3"><meta name=twitter:description content='主要内容：【Git 基本操作】
Git 基本操作
先来合个影
在 Git 里，“留影”用的命令叫做 tag，更加专业的术语叫做“里程碑”（打 tag，或打标签）。
git tag -m "Say bye-bye to all previous practice." old_practice
里程碑无非也是一个引用，通过记录提交 ID（或者创建 Tag 对象）来为当前版本库状态进行“留影”。
git rev-parse refs/tags/old_practice
41bd4e2cce0f8baa9bb4cdda62927b408c846cd6
git describe 显示当前版本库的最新提交的版本号。格式：最近的 tag - 距离此 tag 的个数 - 该提交的 SHA1
git describe
old_practice

# .. commit something

git describe
old_practice-2-g8861c65

删除文件
rm *.txt 针对的是 工作区，对 暂存区 和 版本库 没有任何影响。
git rm detached-commit.txt hack-1.txt new-commit.txt welcome.txt 删除动作加入了暂存区，commit 后在版本库罪行提交中删除了，在历史提交中尚在。'><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://zyf.im/posts/"},{"@type":"ListItem","position":2,"name":"【Git 权威指南】读书笔记 - 独奏 - Part 3","item":"https://zyf.im/2017/08/03/got-git-reading-notes-solo-part3/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"【Git 权威指南】读书笔记 - 独奏 - Part 3","name":"【Git 权威指南】读书笔记 - 独奏 - Part 3","description":"主要内容：【Git 基本操作】\nGit 基本操作 先来合个影 在 Git 里，“留影”用的命令叫做 tag，更加专业的术语叫做“里程碑”（打 tag，或打标签）。\ngit tag -m \u0026#34;Say bye-bye to all previous practice.\u0026#34; old_practice 里程碑无非也是一个引用，通过记录提交 ID（或者创建 Tag 对象）来为当前版本库状态进行“留影”。\ngit rev-parse refs/tags/old_practice 41bd4e2cce0f8baa9bb4cdda62927b408c846cd6 git describe 显示当前版本库的最新提交的版本号。格式：最近的 tag - 距离此 tag 的个数 - 该提交的 SHA1\ngit describe old_practice # .. commit something git describe old_practice-2-g8861c65 删除文件 rm *.txt 针对的是 工作区，对 暂存区 和 版本库 没有任何影响。\ngit rm detached-commit.txt hack-1.txt new-commit.txt welcome.txt 删除动作加入了暂存区，commit 后在版本库罪行提交中删除了，在历史提交中尚在。\n","keywords":["git"],"articleBody":"主要内容：【Git 基本操作】\nGit 基本操作 先来合个影 在 Git 里，“留影”用的命令叫做 tag，更加专业的术语叫做“里程碑”（打 tag，或打标签）。\ngit tag -m \"Say bye-bye to all previous practice.\" old_practice 里程碑无非也是一个引用，通过记录提交 ID（或者创建 Tag 对象）来为当前版本库状态进行“留影”。\ngit rev-parse refs/tags/old_practice 41bd4e2cce0f8baa9bb4cdda62927b408c846cd6 git describe 显示当前版本库的最新提交的版本号。格式：最近的 tag - 距离此 tag 的个数 - 该提交的 SHA1\ngit describe old_practice # .. commit something git describe old_practice-2-g8861c65 删除文件 rm *.txt 针对的是 工作区，对 暂存区 和 版本库 没有任何影响。\ngit rm detached-commit.txt hack-1.txt new-commit.txt welcome.txt 删除动作加入了暂存区，commit 后在版本库罪行提交中删除了，在历史提交中尚在。\n可以通过下面命令查看历史版本的文件列表：\ngit ls-files --with-tree=HEAD^ detached-commit.txt new-commit.txt welcome.txt 查看在历史版本中尚在的删除文件的内容：\ngit cat-file -p HEAD^:welcome.txt Hello. Nice to meet you. git add -u 命令会对工作区中 所有改动 以及 删除文件 添加到暂存区。\n恢复删除的文件 git cat-file -p HEAD~1:welcome.txt \u003e welcome.txt 然后加入暂存区，提交到版本库：\ngit add -A git commit -m \"restore file: welcome.txt\" 这是通过再次添加的方式恢复被删除的文件。\ngit add -A 命令会对工作区中 所有改动 以及 新增文件 添加到暂存区。\n移动文件 git mv welcome.txt README 交互界面 git add -i 文件忽略 cat \u003e .gitignore \u003c\u003c EOF \u003e hello \u003e *.o \u003e *.h \u003e EOF 查看被忽略的文件：\ngit status --ignored -s 将忽略的文件强制添加到仓库中：\ngit add -f hello.h git commit -m \"add hello.h\" [master 48456ab] add hello.h 1 files changed, 1 insertions(+), 0 deletions(-) create mode 100644 src/hello.h 忽略只对未跟踪文件有效，对于已加入版本库的文件无效。 将 hello.h 添加到版本库后，对 hello.h 的修改都会立刻被跟踪到。.gitignore 只是对未入库的文件起作用。\n本地独享式忽略文件\n.gitignore 设置的文件忽略是共享式的，是因为.gitignore 被添加到版本库后成为了版本库的一部分，文件忽略在他人的工作区中同样生效。\n享式忽略有两种方式：\n在版本库.git 目录下的一个文件.git/info/exclude 来设置文件忽略。 通过 Git 的配置变量 core.excludesfile 指定的一个忽略文件，其设置的忽略对所有文件均有效。 git config --global core.excludesfile /home/jiangxin/_gitignore git config core.excludesfile /home/jiangxin/_gitignore cat /home/jiangxin/_gitignore *~ # vim 临时文件 *.pyc # python 的编译文件 .*.mmx # 不是正则表达式哦，因为 FreeMind-MMX 的辅助文件以点开头 Git 忽略语法\n# 表示开始的行被忽略。 通配符。* 任意多字符，? 一个字符，[abc] 可选字符范围。 最后面是一个 / 表示忽略的是整个目录，同名文件不忽略，否则同名的文件和目录都忽略。 最前面 ! 表示不忽略。 # 这是注释行 —— 被忽略 *.a # 忽略所有以 .a 为扩展名的文件。 !lib.a # 但是 lib.a 文件或者目录不要忽略，即使前面设置了对 *.a 的忽略。 /TODO # 只忽略根目录下的 TODO 文件，子目录的 TODO 文件不忽略。 build/ # 忽略所有 build/ 目录下的文件。 doc/*.txt # 忽略文件如 doc/notes.txt，但是文件如 doc/server/arch.txt 不被忽略。 文件归档 如果想压缩工作区文件归档，可能一不小心会把版本库（.git 目录）包含其中，甚至将工作区中的忽略文件、临时文件也包含其中。所以 Git 提供了一个归档命令 git archive。\n# 基于最新提交建立归档文件latest.zip git archive -o latest.zip HEAD # 只将目录 src 和 doc 建立到归档 partial.tar 中 git archive -o partial.tar HEAD src doc # 基于里程碑v1.0建立归档，并且为归档中文件添加目录前缀1.0 git archive --format=tar --prefix=1.0/ v1.0 | gzip \u003e foo-1.0.tar.gz References 2. Git 独奏 — GotGit ","wordCount":"308","inLanguage":"en","datePublished":"2017-08-03T11:00:00+08:00","dateModified":"2017-08-03T11:00:00+08:00","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zyf.im/2017/08/03/got-git-reading-notes-solo-part3/"},"publisher":{"@type":"Organization","name":"ZYF.IM BLOG","logo":{"@type":"ImageObject","url":"https://zyf.im/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://zyf.im/ accesskey=h title="ZYF.IM (Alt + H)"><img src=https://zyf.im/apple-touch-icon.png alt aria-label=logo height=35>ZYF.IM</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://zyf.im/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://zyf.im/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://zyf.im/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://zyf.im/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://zyf.im/>Home</a>&nbsp;»&nbsp;<a href=https://zyf.im/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">【Git 权威指南】读书笔记 - 独奏 - Part 3</h1><div class=post-meta><span title='2017-08-03 11:00:00 +0800 CST'>August 3, 2017</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;308 words&nbsp;·&nbsp;Me</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#git-基本操作>Git 基本操作</a><ul><li><a href=#先来合个影>先来合个影</a></li><li><a href=#删除文件>删除文件</a></li><li><a href=#恢复删除的文件>恢复删除的文件</a></li><li><a href=#移动文件>移动文件</a></li><li><a href=#交互界面>交互界面</a></li><li><a href=#文件忽略>文件忽略</a></li><li><a href=#文件归档>文件归档</a></li></ul></li><li><a href=#references>References</a></li></ul></nav></div></details></div><div class=post-content><p>主要内容：【Git 基本操作】</p><h2 id=git-基本操作>Git 基本操作<a hidden class=anchor aria-hidden=true href=#git-基本操作>#</a></h2><h3 id=先来合个影>先来合个影<a hidden class=anchor aria-hidden=true href=#先来合个影>#</a></h3><p>在 Git 里，“留影”用的命令叫做 <code>tag</code>，更加专业的术语叫做“里程碑”（打 tag，或打标签）。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git tag -m <span class=s2>&#34;Say bye-bye to all previous practice.&#34;</span> old_practice
</span></span></code></pre></div><p>里程碑无非也是一个引用，通过记录提交 ID（或者创建 Tag 对象）来为当前版本库状态进行“留影”。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git rev-parse refs/tags/old_practice
</span></span><span class=line><span class=cl>41bd4e2cce0f8baa9bb4cdda62927b408c846cd6
</span></span></code></pre></div><p><code>git describe</code> 显示当前版本库的最新提交的版本号。格式：<code>最近的 tag - 距离此 tag 的个数 - 该提交的 SHA1</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git describe
</span></span><span class=line><span class=cl>old_practice
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># .. commit something</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git describe
</span></span><span class=line><span class=cl>old_practice-2-g8861c65
</span></span></code></pre></div><h3 id=删除文件>删除文件<a hidden class=anchor aria-hidden=true href=#删除文件>#</a></h3><p><code>rm *.txt</code> 针对的是 <code>工作区</code>，对 <code>暂存区</code> 和 <code>版本库</code> 没有任何影响。</p><p><code>git rm detached-commit.txt hack-1.txt new-commit.txt welcome.txt</code> 删除动作加入了暂存区，commit 后在版本库罪行提交中删除了，在历史提交中尚在。</p><p>可以通过下面命令查看历史版本的文件列表：</p><pre tabindex=0><code>git ls-files --with-tree=HEAD^
detached-commit.txt
new-commit.txt
welcome.txt
</code></pre><p>查看在历史版本中尚在的删除文件的内容：</p><pre tabindex=0><code>git cat-file -p HEAD^:welcome.txt
Hello.
Nice to meet you.
</code></pre><p><code>git add -u</code> 命令会对工作区中 <em>所有改动</em> 以及 <em>删除文件</em> 添加到暂存区。</p><h3 id=恢复删除的文件>恢复删除的文件<a hidden class=anchor aria-hidden=true href=#恢复删除的文件>#</a></h3><pre tabindex=0><code>git cat-file -p HEAD~1:welcome.txt &gt; welcome.txt
</code></pre><p>然后加入暂存区，提交到版本库：</p><pre tabindex=0><code>git add -A
git commit -m &#34;restore file: welcome.txt&#34;
</code></pre><p>这是通过再次添加的方式恢复被删除的文件。</p><p><code>git add -A</code> 命令会对工作区中 <em>所有改动</em> 以及 <em>新增文件</em> 添加到暂存区。</p><h3 id=移动文件>移动文件<a hidden class=anchor aria-hidden=true href=#移动文件>#</a></h3><pre tabindex=0><code>git mv welcome.txt README
</code></pre><h3 id=交互界面>交互界面<a hidden class=anchor aria-hidden=true href=#交互界面>#</a></h3><pre tabindex=0><code>git add -i
</code></pre><h3 id=文件忽略>文件忽略<a hidden class=anchor aria-hidden=true href=#文件忽略>#</a></h3><pre tabindex=0><code>cat &gt; .gitignore &lt;&lt; EOF
&gt; hello
&gt; *.o
&gt; *.h
&gt; EOF
</code></pre><p>查看被忽略的文件：</p><pre tabindex=0><code>git status --ignored -s
</code></pre><p>将忽略的文件强制添加到仓库中：</p><pre tabindex=0><code>git add -f hello.h
git commit -m &#34;add hello.h&#34;
[master 48456ab] add hello.h
 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 src/hello.h
</code></pre><p><em>忽略只对未跟踪文件有效，对于已加入版本库的文件无效。</em> 将 <code>hello.h</code> 添加到版本库后，对 <code>hello.h</code> 的修改都会立刻被跟踪到。<code>.gitignore</code> 只是对未入库的文件起作用。</p><p><strong>本地独享式忽略文件</strong></p><p>.gitignore 设置的文件忽略是共享式的，是因为.gitignore 被添加到版本库后成为了版本库的一部分，文件忽略在他人的工作区中同样生效。</p><p>享式忽略有两种方式：</p><ul><li>在版本库.git 目录下的一个文件.git/info/exclude 来设置文件忽略。</li><li>通过 Git 的配置变量 core.excludesfile 指定的一个忽略文件，其设置的忽略对所有文件均有效。</li></ul><pre tabindex=0><code>git config --global core.excludesfile /home/jiangxin/_gitignore
git config core.excludesfile
/home/jiangxin/_gitignore

cat /home/jiangxin/_gitignore
*~        # vim 临时文件
*.pyc     # python 的编译文件
.*.mmx    # 不是正则表达式哦，因为 FreeMind-MMX 的辅助文件以点开头
</code></pre><p><strong>Git 忽略语法</strong></p><ul><li><code>#</code> 表示开始的行被忽略。</li><li>通配符。* 任意多字符，? 一个字符，[abc] 可选字符范围。</li><li><code>最后面是一个 /</code> 表示忽略的是整个目录，同名文件不忽略，否则同名的文件和目录都忽略。</li><li><code>最前面 !</code> 表示不忽略。</li></ul><pre tabindex=0><code># 这是注释行 —— 被忽略
*.a       # 忽略所有以 .a 为扩展名的文件。
!lib.a    # 但是 lib.a 文件或者目录不要忽略，即使前面设置了对 *.a 的忽略。
/TODO     # 只忽略根目录下的 TODO 文件，子目录的 TODO 文件不忽略。
build/    # 忽略所有 build/ 目录下的文件。
doc/*.txt # 忽略文件如 doc/notes.txt，但是文件如 doc/server/arch.txt 不被忽略。
</code></pre><h3 id=文件归档>文件归档<a hidden class=anchor aria-hidden=true href=#文件归档>#</a></h3><p>如果想压缩工作区文件归档，可能一不小心会把版本库（.git 目录）包含其中，甚至将工作区中的忽略文件、临时文件也包含其中。所以 Git 提供了一个归档命令 <code>git archive</code>。</p><pre tabindex=0><code># 基于最新提交建立归档文件latest.zip
git archive -o latest.zip HEAD

# 只将目录 src 和 doc 建立到归档 partial.tar 中
git archive -o partial.tar  HEAD src doc

# 基于里程碑v1.0建立归档，并且为归档中文件添加目录前缀1.0
git archive --format=tar --prefix=1.0/ v1.0 | gzip &gt; foo-1.0.tar.gz
</code></pre><h2 id=references>References<a hidden class=anchor aria-hidden=true href=#references>#</a></h2><ul><li><a href=http://www.worldhello.net/gotgit/02-git-solo/index.html>2. Git 独奏 — GotGit</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://zyf.im/tags/git/>Git</a></li></ul><nav class=paginav><a class=prev href=https://zyf.im/2017/08/30/git-checkout-theirs-resolve-conflict/><span class=title>« Prev</span><br><span>Git checkout --theirs --ours 解决冲突文件</span>
</a><a class=next href=https://zyf.im/2017/07/20/imooc-react-getting-started-tutorial/><span class=title>Next »</span><br><span>IMOOC React 入门</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://zyf.im/>ZYF.IM BLOG</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>