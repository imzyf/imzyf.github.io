<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>GitHub Webhook 自动部署 Hexo | ZYF.IM BLOG</title>
<meta name=keywords content="github,hexo,git"><meta name=description content="在 GitHub Pages 不被百度收录解决方案 中，思路二是通过 Dnspod 的智能 DNS 服务。简而言之就是搭建一个 Server，做一个 Blog 的镜像站，专为百度收录使用。
但是每次将新建的博客文章 PUSH 到 GitHub 后，还要再登陆 Server PULL 一下，简直是太蠢了。那有什么解决办法吗？答：GitHub Webhook。

Webhook
Webhook，也就是人们常说的钩子，是一个很有用的工具。你可以通过定制 Webhook 来监测你在 Github.com 上的各种事件，最常见的莫过于 push 事件。
如果你设置了一个监测 push 事件的 Webhook，那么每当你的这个项目有了任何提交，这个 Webhook 都会被触发，这时 Github 就会发送一个 HTTP POST 请求到你配置好的地址。
如此一来，你就可以通过这种方式去自动完成一些重复性工作；比如，你可以用 Webhook 来自动触发一些持续集成（CI）工具的运作，比如 Travis CI；又或者是通过 Webhook 去部署你的线上服务器。
Github 开发者平台的文档中对 Webhook 的所能做的事是这样描述的：

You’re only limited by your imagination.
响应 Webhook
在参考文章里博主是使用 Node.js 编写的服务端响应代码，但考虑到自己对 Node.js 不熟悉，还要部署环境，所以改用 Python 语言编写响应代码。
自己在 GitHub 搜索下 github webhook，language 选择 Python 便找到了 Python 编写的：razius/github-webhook-handler"><meta name=author content="Me"><link rel=canonical href=https://zyf.im/2016/07/01/github-webhook-example/><link crossorigin=anonymous href=/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://zyf.im/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://zyf.im/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://zyf.im/favicon-32x32.png><link rel=apple-touch-icon href=https://zyf.im/apple-touch-icon.png><link rel=mask-icon href=https://zyf.im/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://zyf.im/2016/07/01/github-webhook-example/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:url" content="https://zyf.im/2016/07/01/github-webhook-example/"><meta property="og:site_name" content="ZYF.IM BLOG"><meta property="og:title" content="GitHub Webhook 自动部署 Hexo"><meta property="og:description" content="在 GitHub Pages 不被百度收录解决方案 中，思路二是通过 Dnspod 的智能 DNS 服务。简而言之就是搭建一个 Server，做一个 Blog 的镜像站，专为百度收录使用。
但是每次将新建的博客文章 PUSH 到 GitHub 后，还要再登陆 Server PULL 一下，简直是太蠢了。那有什么解决办法吗？答：GitHub Webhook。
Webhook Webhook，也就是人们常说的钩子，是一个很有用的工具。你可以通过定制 Webhook 来监测你在 Github.com 上的各种事件，最常见的莫过于 push 事件。
如果你设置了一个监测 push 事件的 Webhook，那么每当你的这个项目有了任何提交，这个 Webhook 都会被触发，这时 Github 就会发送一个 HTTP POST 请求到你配置好的地址。
如此一来，你就可以通过这种方式去自动完成一些重复性工作；比如，你可以用 Webhook 来自动触发一些持续集成（CI）工具的运作，比如 Travis CI；又或者是通过 Webhook 去部署你的线上服务器。
Github 开发者平台的文档中对 Webhook 的所能做的事是这样描述的：
You’re only limited by your imagination.
响应 Webhook 在参考文章里博主是使用 Node.js 编写的服务端响应代码，但考虑到自己对 Node.js 不熟悉，还要部署环境，所以改用 Python 语言编写响应代码。
自己在 GitHub 搜索下 github webhook，language 选择 Python 便找到了 Python 编写的：razius/github-webhook-handler"><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2016-07-01T20:00:00+00:00"><meta property="article:modified_time" content="2016-07-01T20:00:00+00:00"><meta property="article:tag" content="Github"><meta property="article:tag" content="Hexo"><meta property="article:tag" content="Git"><meta name=twitter:card content="summary"><meta name=twitter:title content="GitHub Webhook 自动部署 Hexo"><meta name=twitter:description content="在 GitHub Pages 不被百度收录解决方案 中，思路二是通过 Dnspod 的智能 DNS 服务。简而言之就是搭建一个 Server，做一个 Blog 的镜像站，专为百度收录使用。
但是每次将新建的博客文章 PUSH 到 GitHub 后，还要再登陆 Server PULL 一下，简直是太蠢了。那有什么解决办法吗？答：GitHub Webhook。

Webhook
Webhook，也就是人们常说的钩子，是一个很有用的工具。你可以通过定制 Webhook 来监测你在 Github.com 上的各种事件，最常见的莫过于 push 事件。
如果你设置了一个监测 push 事件的 Webhook，那么每当你的这个项目有了任何提交，这个 Webhook 都会被触发，这时 Github 就会发送一个 HTTP POST 请求到你配置好的地址。
如此一来，你就可以通过这种方式去自动完成一些重复性工作；比如，你可以用 Webhook 来自动触发一些持续集成（CI）工具的运作，比如 Travis CI；又或者是通过 Webhook 去部署你的线上服务器。
Github 开发者平台的文档中对 Webhook 的所能做的事是这样描述的：

You’re only limited by your imagination.
响应 Webhook
在参考文章里博主是使用 Node.js 编写的服务端响应代码，但考虑到自己对 Node.js 不熟悉，还要部署环境，所以改用 Python 语言编写响应代码。
自己在 GitHub 搜索下 github webhook，language 选择 Python 便找到了 Python 编写的：razius/github-webhook-handler"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://zyf.im/posts/"},{"@type":"ListItem","position":2,"name":"GitHub Webhook 自动部署 Hexo","item":"https://zyf.im/2016/07/01/github-webhook-example/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"GitHub Webhook 自动部署 Hexo","name":"GitHub Webhook 自动部署 Hexo","description":"在 GitHub Pages 不被百度收录解决方案 中，思路二是通过 Dnspod 的智能 DNS 服务。简而言之就是搭建一个 Server，做一个 Blog 的镜像站，专为百度收录使用。\n但是每次将新建的博客文章 PUSH 到 GitHub 后，还要再登陆 Server PULL 一下，简直是太蠢了。那有什么解决办法吗？答：GitHub Webhook。\nWebhook Webhook，也就是人们常说的钩子，是一个很有用的工具。你可以通过定制 Webhook 来监测你在 Github.com 上的各种事件，最常见的莫过于 push 事件。\n如果你设置了一个监测 push 事件的 Webhook，那么每当你的这个项目有了任何提交，这个 Webhook 都会被触发，这时 Github 就会发送一个 HTTP POST 请求到你配置好的地址。\n如此一来，你就可以通过这种方式去自动完成一些重复性工作；比如，你可以用 Webhook 来自动触发一些持续集成（CI）工具的运作，比如 Travis CI；又或者是通过 Webhook 去部署你的线上服务器。\nGithub 开发者平台的文档中对 Webhook 的所能做的事是这样描述的：\nYou’re only limited by your imagination.\n响应 Webhook 在参考文章里博主是使用 Node.js 编写的服务端响应代码，但考虑到自己对 Node.js 不熟悉，还要部署环境，所以改用 Python 语言编写响应代码。\n自己在 GitHub 搜索下 github webhook，language 选择 Python 便找到了 Python 编写的：razius/github-webhook-handler\n","keywords":["github","hexo","git"],"articleBody":"在 GitHub Pages 不被百度收录解决方案 中，思路二是通过 Dnspod 的智能 DNS 服务。简而言之就是搭建一个 Server，做一个 Blog 的镜像站，专为百度收录使用。\n但是每次将新建的博客文章 PUSH 到 GitHub 后，还要再登陆 Server PULL 一下，简直是太蠢了。那有什么解决办法吗？答：GitHub Webhook。\nWebhook Webhook，也就是人们常说的钩子，是一个很有用的工具。你可以通过定制 Webhook 来监测你在 Github.com 上的各种事件，最常见的莫过于 push 事件。\n如果你设置了一个监测 push 事件的 Webhook，那么每当你的这个项目有了任何提交，这个 Webhook 都会被触发，这时 Github 就会发送一个 HTTP POST 请求到你配置好的地址。\n如此一来，你就可以通过这种方式去自动完成一些重复性工作；比如，你可以用 Webhook 来自动触发一些持续集成（CI）工具的运作，比如 Travis CI；又或者是通过 Webhook 去部署你的线上服务器。\nGithub 开发者平台的文档中对 Webhook 的所能做的事是这样描述的：\nYou’re only limited by your imagination.\n响应 Webhook 在参考文章里博主是使用 Node.js 编写的服务端响应代码，但考虑到自己对 Node.js 不熟悉，还要部署环境，所以改用 Python 语言编写响应代码。\n自己在 GitHub 搜索下 github webhook，language 选择 Python 便找到了 Python 编写的：razius/github-webhook-handler\n自己的 VPS 是在 Bandwagon Host 上购买的，最合适的配置：\nSelf-managed service SSD: 10 GB RAM: 512 MB CPU: 1x Intel Xeon BW: 1000 GB/mo Link speed: 1 Gigabit VPS technology: OpenVZ/KiwiVM Linux OS: 32-bit and 64-bit Centos, Debian, Ubuntu, Fedora 费用：\n$2.99 USD Monthly $7.99 USD Quarterly $12.99 USD Semi-Annually $19.99 USD Annually Bandwagon Host 支持支付宝付款很是方便，优惠码：IAMSMART52J3NC 再打个 9.5 折左右。这配置有时会 (out of stock) 等等随缘会有的。\n安装 Git apt-get update apt-get install git clone razius/github-webhook-handler git clone https://github.com/razius/github-webhook-handler.git 根据 github-webhook-handler Gettings started:\nInstallation Requirements Install dependencies found in requirements.txt\npip install -r requirements.txt Repository Configuration Edit repos.json to configure repositories, each repository must be registered under the form GITHUB_USER/REPOSITORY_NAME.\n{ \"razius/puppet\": { \"path\": \"/home/puppet\", \"key\": \"MyVerySecretKey\", \"action\": [[\"git\", \"pull\", \"origin\", \"master\"]] }, \"d3non/somerandomexample/branch:live\": { \"path\": \"/home/exampleapp\", \"key\": \"MyVerySecretKey\", \"action\": [[\"git\", \"pull\", \"origin\", \"live\"], [\"echo\", \"execute\", \"some\", \"commands\", \"...\"]] } } 过程如果出现：pip: command not found 可以执行：\nsudo apt-get install python-pip Set environment variable for the repos.json config export REPOS_JSON_PATH=/path/to/repos.json Start the server python index.py 80 clone and pull your Blog git clone git@github.com:imzyf/imzyf.github.io.git git pull origin master 过程如果出现：Permission denied (publickey). 可以参考：\nStack Overflow-Git - Permission denied (publickey) cd ~/.ssh \u0026\u0026 ssh-keygen cat id_rsa.pub | xclip 然后添加到你的 GitHub 账户：Settings -\u003e SSH keys 中。\nconfig imzyf.github.io Webhooks 首先进入你的 repo 主页，通过点击页面上的按钮 [settings] -\u003e [Webhooks \u0026 service] 进入 Webhooks 配置主页面。也可以通过下面这个链接直接进入配置页面：\nhttps://github.com/[ 用户名 ]/[ 仓库名称 ]/settings/hooks 此处只需要配置 Webhook 所发出的 POST 请求发往何处即可，于是我们就配置我们所需要的路径： http://104.236.xxx.xxx:9988/deploy/。这个地址指向的就是那个能够响应 Webhook 所发出请求的服务器。\n配置好 Webhook 后，Github 会发送一个 ping 来测试这个地址。如果成功了，那么这个 Webhook 前就会加上一个绿色的勾；如果你得到的是一个红色的叉，那就好好检查一下哪儿出问题了吧！\nconfig Nginx server 最后想说的 为了一个百度收录大可不必这么麻烦，刚刚查到这些解决方案时心里也是烦的、虚的，但还是硬的头皮搞了。过程中已经不单单是为了百度收录自己的博客，而是变成学习了东西、思考问题。这些解决方案网上都有，也不是自己创造的，但是别人的东西自己不尝试，就还是别人的。\n现在百度已经收录我的博客了，imzyf.github.io 到 Server 也是自动部署的。解决问题后的快乐和信心，才是我这次最大的收获。\nReferences jerryzou-Webhook 实践 —— 自动部署 ","wordCount":"320","inLanguage":"en","datePublished":"2016-07-01T20:00:00Z","dateModified":"2016-07-01T20:00:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zyf.im/2016/07/01/github-webhook-example/"},"publisher":{"@type":"Organization","name":"ZYF.IM BLOG","logo":{"@type":"ImageObject","url":"https://zyf.im/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://zyf.im/ accesskey=h title="ZYF.IM (Alt + H)"><img src=https://zyf.im/apple-touch-icon.png alt aria-label=logo height=35>ZYF.IM</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://zyf.im/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://zyf.im/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://zyf.im/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://zyf.im/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://zyf.im/>Home</a>&nbsp;»&nbsp;<a href=https://zyf.im/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">GitHub Webhook 自动部署 Hexo</h1><div class=post-meta><span title='2016-07-01 20:00:00 +0000 UTC'>July 1, 2016</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;320 words&nbsp;·&nbsp;Me</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#webhook>Webhook</a></li><li><a href=#响应-webhook>响应 Webhook</a><ul><li><a href=#安装-git>安装 Git</a></li><li><a href=#clone-raziusgithub-webhook-handler>clone <a href=https://github.com/razius/github-webhook-handler>razius/github-webhook-handler</a></a></li><li><a href=#config-imzyfgithubio-webhooks>config imzyf.github.io Webhooks</a></li><li><a href=#config-nginx-server>config Nginx server</a></li></ul></li><li><a href=#最后想说的>最后想说的</a></li><li><a href=#references>References</a></li></ul></nav></div></details></div><div class=post-content><p>在 <a href=/2016/06/30/github-pages-forbidden-baiduspide-solution/>GitHub Pages 不被百度收录解决方案</a> 中，思路二是通过 Dnspod 的智能 DNS 服务。简而言之就是搭建一个 Server，做一个 Blog 的镜像站，专为百度收录使用。</p><p>但是每次将新建的博客文章 <code>PUSH</code> 到 GitHub 后，还要再登陆 Server <code>PULL</code> 一下，简直是太蠢了。那有什么解决办法吗？答：GitHub Webhook。</p><h2 id=webhook>Webhook<a hidden class=anchor aria-hidden=true href=#webhook>#</a></h2><p>Webhook，也就是人们常说的钩子，是一个很有用的工具。你可以通过定制 Webhook 来监测你在 Github.com 上的各种事件，最常见的莫过于 push 事件。</p><p>如果你设置了一个监测 push 事件的 Webhook，那么每当你的这个项目有了任何提交，这个 Webhook 都会被触发，这时 Github 就会发送一个 HTTP POST 请求到你配置好的地址。</p><p>如此一来，你就可以通过这种方式去自动完成一些重复性工作；比如，你可以用 Webhook 来自动触发一些持续集成（CI）工具的运作，比如 Travis CI；又或者是通过 Webhook 去部署你的线上服务器。</p><p>Github 开发者平台的文档中对 Webhook 的所能做的事是这样描述的：</p><blockquote><p>You’re only limited by your imagination.</p></blockquote><h2 id=响应-webhook>响应 Webhook<a hidden class=anchor aria-hidden=true href=#响应-webhook>#</a></h2><p>在参考文章里博主是使用 Node.js 编写的服务端响应代码，但考虑到自己对 Node.js 不熟悉，还要部署环境，所以改用 Python 语言编写响应代码。</p><p>自己在 GitHub 搜索下 <code>github webhook</code>，<code>language</code> 选择 <code>Python</code> 便找到了 Python 编写的：<a href=https://github.com/razius/github-webhook-handler>razius/github-webhook-handler</a></p><p>自己的 VPS 是在 <a href="https://bandwagonhost.com/aff.php?aff=5403">Bandwagon Host</a> 上购买的，最合适的配置：</p><ul><li>Self-managed service</li><li>SSD: 10 GB</li><li>RAM: 512 MB</li><li>CPU: 1x Intel Xeon</li><li>BW: 1000 GB/mo</li><li>Link speed: 1 Gigabit</li><li>VPS technology: OpenVZ/KiwiVM</li><li>Linux OS: 32-bit and 64-bit Centos, Debian, Ubuntu, Fedora</li></ul><p>费用：</p><ul><li>$2.99 USD Monthly</li><li>$7.99 USD Quarterly</li><li>$12.99 USD Semi-Annually</li><li>$19.99 USD Annually</li></ul><p>Bandwagon Host 支持支付宝付款很是方便，优惠码：<code>IAMSMART52J3NC</code> 再打个 9.5 折左右。这配置有时会 <code>(out of stock)</code> 等等随缘会有的。</p><h3 id=安装-git>安装 Git<a hidden class=anchor aria-hidden=true href=#安装-git>#</a></h3><pre tabindex=0><code>apt-get update
apt-get install git
</code></pre><h3 id=clone-raziusgithub-webhook-handler>clone <a href=https://github.com/razius/github-webhook-handler>razius/github-webhook-handler</a><a hidden class=anchor aria-hidden=true href=#clone-raziusgithub-webhook-handler>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git clone https://github.com/razius/github-webhook-handler.git
</span></span></code></pre></div><p>根据 github-webhook-handler Gettings started:</p><h4 id=installation-requirements>Installation Requirements<a hidden class=anchor aria-hidden=true href=#installation-requirements>#</a></h4><p>Install dependencies found in requirements.txt</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>pip install -r requirements.txt
</span></span></code></pre></div><h4 id=repository-configuration>Repository Configuration<a hidden class=anchor aria-hidden=true href=#repository-configuration>#</a></h4><p>Edit repos.json to configure repositories, each repository must be registered under the form <code>GITHUB_USER/REPOSITORY_NAME</code>.</p><pre tabindex=0><code>{
    &#34;razius/puppet&#34;: {
        &#34;path&#34;: &#34;/home/puppet&#34;,
        &#34;key&#34;: &#34;MyVerySecretKey&#34;,
        &#34;action&#34;: [[&#34;git&#34;, &#34;pull&#34;, &#34;origin&#34;, &#34;master&#34;]]
    },
    &#34;d3non/somerandomexample/branch:live&#34;: {
        &#34;path&#34;: &#34;/home/exampleapp&#34;,
        &#34;key&#34;: &#34;MyVerySecretKey&#34;,
        &#34;action&#34;: [[&#34;git&#34;, &#34;pull&#34;, &#34;origin&#34;, &#34;live&#34;],
            [&#34;echo&#34;, &#34;execute&#34;, &#34;some&#34;, &#34;commands&#34;, &#34;...&#34;]]
    }
}
</code></pre><p>过程如果出现：<code>pip: command not found</code> 可以执行：</p><pre tabindex=0><code>sudo apt-get install python-pip
</code></pre><h4 id=set-environment-variable-for-the-reposjson-config>Set environment variable for the repos.json config<a hidden class=anchor aria-hidden=true href=#set-environment-variable-for-the-reposjson-config>#</a></h4><pre tabindex=0><code>export REPOS_JSON_PATH=/path/to/repos.json
</code></pre><h4 id=start-the-server>Start the server<a hidden class=anchor aria-hidden=true href=#start-the-server>#</a></h4><pre tabindex=0><code>python index.py 80
</code></pre><h4 id=clone-and-pull-your-blog>clone and pull your Blog<a hidden class=anchor aria-hidden=true href=#clone-and-pull-your-blog>#</a></h4><pre tabindex=0><code>git clone git@github.com:imzyf/imzyf.github.io.git
git pull origin master
</code></pre><p>过程如果出现：<code>Permission denied (publickey).</code> 可以参考：</p><ul><li><a href=http://stackoverflow.com/questions/2643502/git-permission-denied-publickey>Stack Overflow-Git - Permission denied (publickey)</a></li></ul><pre tabindex=0><code>cd ~/.ssh &amp;&amp; ssh-keygen
cat id_rsa.pub | xclip
</code></pre><p>然后添加到你的 GitHub 账户：Settings -> SSH keys 中。</p><h3 id=config-imzyfgithubio-webhooks>config imzyf.github.io Webhooks<a hidden class=anchor aria-hidden=true href=#config-imzyfgithubio-webhooks>#</a></h3><p>首先进入你的 repo 主页，通过点击页面上的按钮 [settings] -> [Webhooks & service] 进入 Webhooks 配置主页面。也可以通过下面这个链接直接进入配置页面：</p><pre tabindex=0><code>https://github.com/[ 用户名 ]/[ 仓库名称 ]/settings/hooks
</code></pre><p>此处只需要配置 Webhook 所发出的 POST 请求发往何处即可，于是我们就配置我们所需要的路径：
<a href>http://104.236.xxx.xxx:9988/deploy/</a>。这个地址指向的就是那个能够响应 Webhook 所发出请求的服务器。</p><p>配置好 Webhook 后，Github 会发送一个 ping 来测试这个地址。如果成功了，那么这个 Webhook 前就会加上一个绿色的勾；如果你得到的是一个红色的叉，那就好好检查一下哪儿出问题了吧！</p><h3 id=config-nginx-server>config Nginx server<a hidden class=anchor aria-hidden=true href=#config-nginx-server>#</a></h3><h2 id=最后想说的>最后想说的<a hidden class=anchor aria-hidden=true href=#最后想说的>#</a></h2><p>为了一个百度收录大可不必这么麻烦，刚刚查到这些解决方案时心里也是烦的、虚的，但还是硬的头皮搞了。过程中已经不单单是为了百度收录自己的博客，而是变成学习了东西、思考问题。这些解决方案网上都有，也不是自己创造的，但是别人的东西自己不尝试，就还是别人的。</p><p>现在百度已经收录我的博客了，imzyf.github.io 到 Server 也是自动部署的。解决问题后的快乐和信心，才是我这次最大的收获。</p><h2 id=references>References<a hidden class=anchor aria-hidden=true href=#references>#</a></h2><ul><li><a href=http://jerryzou.com/posts/webhook-practice/>jerryzou-Webhook 实践 —— 自动部署</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://zyf.im/tags/github/>Github</a></li><li><a href=https://zyf.im/tags/hexo/>Hexo</a></li><li><a href=https://zyf.im/tags/git/>Git</a></li></ul><nav class=paginav><a class=prev href=https://zyf.im/2016/07/11/write-some-humanities-diary/><span class=title>« Prev</span><br><span>写一些人文的日志</span>
</a><a class=next href=https://zyf.im/2016/06/30/github-pages-forbidden-baiduspide-solution/><span class=title>Next »</span><br><span>GitHub Pages 不被百度收录解决方案</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://zyf.im/>ZYF.IM BLOG</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>