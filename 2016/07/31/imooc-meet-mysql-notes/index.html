<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>IMOOC 与MySQL的零距离接触 | ZYF.IM BLOG</title><meta name=keywords content="mysql"><meta name=description content='涵盖全部 MySQL 数据库的基础，MySQL 数据库的基础知识、数据表的常用操作及各种约束的使用，以及综合的运用各种命令实现记录进行 CURD 等操作。

MySQL 安装与配置
数据类型
流程控制与运算符
DDL、DCL、DQL、DML
常用函数
表类型（存储引擎）
图形化工具


修改 MySQL 提示符
MySQL 客户端的默认提示符是 mysql>，基本上没什么实际作用。其实可以修改这个提示符，让它显示一些有用的信息，例如当前所在的数据库等。修改方法有四种，其中前两种只对当前连接有效，后两种则对所有连接有效。
连接客户端时通过参数指定
mysql --prompt="(\u@\h) [\d]> "
my.cnf
[mysql]
prompt=mysql(\\u@\\h:\\d)>
这样提示符就会变成 (user@host) [database]>。其中常用的字符参数有：

\D 完整的日期
\d 当前数据库
\h 服务器名称
\u 当前用户

连接上客户端后，通过 prompt 命令修改
prompt (\u@\h) [\d]>
在 MySQL 的配置文件中配置。
prompt=(\\u@\\h) [\\d]>\\_
通过环境变量配置。
export MYSQL_PS1="(\u@\h) [\d]> "

参考：http://renial.iteye.com/blog/773675
MySQL 语法规范

关键字和函数名称全部 大写
数据库名称，表名称，字段名称全部 小写
SQL 语句必须以 分号结尾

数据库操作
数据库创建：CREATE

语法：CREATE {DATABASE SCHEMA} [IF NOT EXISTS] db_name [DEFAULT] CHARACTER SET [=] charset_name
DATABASE 和 SCHEMA 是相同的，任选其一
IF NOT EXISTS:如果创建的数据库存在，则不只报出 warning，不写会报错
CHRARCTER SET utf8:为表设置编码方式，如果不设置则用 mysql 默认的编码方式

查看数据库列表：SHOW

SHOW { DATABASE SCHEMAS } [LIKE &lsquo;pattern&rsquo; WHERE expr]
SHOW CREATE DATABASE xx：显示 xx 数据库信息

数据库的修改：ALTER

修改数据库编码方式：ALTER { DATABASE SCHEMAS } [db_name][default] CHARACTER SET [=] charset_name

删除数据库：DROP

删除数据库：DROP { DATABASE SCHEMAS } [IF EXISTS] db_name;

--修改mysql操作符为当前日期
mysql -uroot -proot prompt \D
--展示所有数据库
show databases;
--创建数据库
create database if not exists t1 character set gbk;
--展示数据库t1的创建命令和编码形式
show create database t1;
--修改数据库编码格式
alter database t2 character set = utf8;
--删除数据库
drop database if exists t1;
--展示警告信息
show warnings;
四、数据类型
'><meta name=author content="Me"><link rel=canonical href=https://zyf.im/2016/07/31/imooc-meet-mysql-notes/><link crossorigin=anonymous href=/assets/css/stylesheet.63618a0fd0c7dd946ad6f368012c097fc6e5a8464cefd289c140dd28c01ec58d.css integrity="sha256-Y2GKD9DH3ZRq1vNoASwJf8blqEZM79KJwUDdKMAexY0=" rel="preload stylesheet" as=style><link rel=icon href=https://zyf.im/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://zyf.im/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://zyf.im/favicon-32x32.png><link rel=apple-touch-icon href=https://zyf.im/apple-touch-icon.png><link rel=mask-icon href=https://zyf.im/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://zyf.im/2016/07/31/imooc-meet-mysql-notes/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-6DVZ6E58DG"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-6DVZ6E58DG")}</script><meta property="og:url" content="https://zyf.im/2016/07/31/imooc-meet-mysql-notes/"><meta property="og:site_name" content="ZYF.IM BLOG"><meta property="og:title" content="IMOOC 与MySQL的零距离接触"><meta property="og:description" content='涵盖全部 MySQL 数据库的基础，MySQL 数据库的基础知识、数据表的常用操作及各种约束的使用，以及综合的运用各种命令实现记录进行 CURD 等操作。
MySQL 安装与配置 数据类型 流程控制与运算符 DDL、DCL、DQL、DML 常用函数 表类型（存储引擎） 图形化工具 修改 MySQL 提示符 MySQL 客户端的默认提示符是 mysql>，基本上没什么实际作用。其实可以修改这个提示符，让它显示一些有用的信息，例如当前所在的数据库等。修改方法有四种，其中前两种只对当前连接有效，后两种则对所有连接有效。
连接客户端时通过参数指定 mysql --prompt="(\u@\h) [\d]> " my.cnf
[mysql] prompt=mysql(\\u@\\h:\\d)> 这样提示符就会变成 (user@host) [database]>。其中常用的字符参数有：
\D 完整的日期 \d 当前数据库 \h 服务器名称 \u 当前用户 连接上客户端后，通过 prompt 命令修改
prompt (\u@\h) [\d]> 在 MySQL 的配置文件中配置。
prompt=(\\u@\\h) [\\d]>\\_ 通过环境变量配置。
export MYSQL_PS1="(\u@\h) [\d]> " 参考：http://renial.iteye.com/blog/773675
MySQL 语法规范 关键字和函数名称全部 大写 数据库名称，表名称，字段名称全部 小写 SQL 语句必须以 分号结尾 数据库操作 数据库创建：CREATE 语法：CREATE {DATABASE SCHEMA} [IF NOT EXISTS] db_name [DEFAULT] CHARACTER SET [=] charset_name DATABASE 和 SCHEMA 是相同的，任选其一 IF NOT EXISTS:如果创建的数据库存在，则不只报出 warning，不写会报错 CHRARCTER SET utf8:为表设置编码方式，如果不设置则用 mysql 默认的编码方式 查看数据库列表：SHOW SHOW { DATABASE SCHEMAS } [LIKE ‘pattern’ WHERE expr] SHOW CREATE DATABASE xx：显示 xx 数据库信息 数据库的修改：ALTER 修改数据库编码方式：ALTER { DATABASE SCHEMAS } [db_name][default] CHARACTER SET [=] charset_name 删除数据库：DROP 删除数据库：DROP { DATABASE SCHEMAS } [IF EXISTS] db_name; --修改mysql操作符为当前日期 mysql -uroot -proot prompt \D --展示所有数据库 show databases; --创建数据库 create database if not exists t1 character set gbk; --展示数据库t1的创建命令和编码形式 show create database t1; --修改数据库编码格式 alter database t2 character set = utf8; --删除数据库 drop database if exists t1; --展示警告信息 show warnings; 四、数据类型 '><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2016-07-31T10:00:00+00:00"><meta property="article:modified_time" content="2016-07-31T10:00:00+00:00"><meta property="article:tag" content="Mysql"><meta name=twitter:card content="summary"><meta name=twitter:title content="IMOOC 与MySQL的零距离接触"><meta name=twitter:description content='涵盖全部 MySQL 数据库的基础，MySQL 数据库的基础知识、数据表的常用操作及各种约束的使用，以及综合的运用各种命令实现记录进行 CURD 等操作。

MySQL 安装与配置
数据类型
流程控制与运算符
DDL、DCL、DQL、DML
常用函数
表类型（存储引擎）
图形化工具


修改 MySQL 提示符
MySQL 客户端的默认提示符是 mysql>，基本上没什么实际作用。其实可以修改这个提示符，让它显示一些有用的信息，例如当前所在的数据库等。修改方法有四种，其中前两种只对当前连接有效，后两种则对所有连接有效。
连接客户端时通过参数指定
mysql --prompt="(\u@\h) [\d]> "
my.cnf
[mysql]
prompt=mysql(\\u@\\h:\\d)>
这样提示符就会变成 (user@host) [database]>。其中常用的字符参数有：

\D 完整的日期
\d 当前数据库
\h 服务器名称
\u 当前用户

连接上客户端后，通过 prompt 命令修改
prompt (\u@\h) [\d]>
在 MySQL 的配置文件中配置。
prompt=(\\u@\\h) [\\d]>\\_
通过环境变量配置。
export MYSQL_PS1="(\u@\h) [\d]> "

参考：http://renial.iteye.com/blog/773675
MySQL 语法规范

关键字和函数名称全部 大写
数据库名称，表名称，字段名称全部 小写
SQL 语句必须以 分号结尾

数据库操作
数据库创建：CREATE

语法：CREATE {DATABASE SCHEMA} [IF NOT EXISTS] db_name [DEFAULT] CHARACTER SET [=] charset_name
DATABASE 和 SCHEMA 是相同的，任选其一
IF NOT EXISTS:如果创建的数据库存在，则不只报出 warning，不写会报错
CHRARCTER SET utf8:为表设置编码方式，如果不设置则用 mysql 默认的编码方式

查看数据库列表：SHOW

SHOW { DATABASE SCHEMAS } [LIKE &lsquo;pattern&rsquo; WHERE expr]
SHOW CREATE DATABASE xx：显示 xx 数据库信息

数据库的修改：ALTER

修改数据库编码方式：ALTER { DATABASE SCHEMAS } [db_name][default] CHARACTER SET [=] charset_name

删除数据库：DROP

删除数据库：DROP { DATABASE SCHEMAS } [IF EXISTS] db_name;

--修改mysql操作符为当前日期
mysql -uroot -proot prompt \D
--展示所有数据库
show databases;
--创建数据库
create database if not exists t1 character set gbk;
--展示数据库t1的创建命令和编码形式
show create database t1;
--修改数据库编码格式
alter database t2 character set = utf8;
--删除数据库
drop database if exists t1;
--展示警告信息
show warnings;
四、数据类型
'><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://zyf.im/posts/"},{"@type":"ListItem","position":2,"name":"IMOOC 与MySQL的零距离接触","item":"https://zyf.im/2016/07/31/imooc-meet-mysql-notes/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"IMOOC 与MySQL的零距离接触","name":"IMOOC 与MySQL的零距离接触","description":"涵盖全部 MySQL 数据库的基础，MySQL 数据库的基础知识、数据表的常用操作及各种约束的使用，以及综合的运用各种命令实现记录进行 CURD 等操作。\nMySQL 安装与配置 数据类型 流程控制与运算符 DDL、DCL、DQL、DML 常用函数 表类型（存储引擎） 图形化工具 修改 MySQL 提示符 MySQL 客户端的默认提示符是 mysql\u0026gt;，基本上没什么实际作用。其实可以修改这个提示符，让它显示一些有用的信息，例如当前所在的数据库等。修改方法有四种，其中前两种只对当前连接有效，后两种则对所有连接有效。\n连接客户端时通过参数指定 mysql --prompt=\u0026#34;(\\u@\\h) [\\d]\u0026gt; \u0026#34; my.cnf\n[mysql] prompt=mysql(\\\\u@\\\\h:\\\\d)\u0026gt; 这样提示符就会变成 (user@host) [database]\u0026gt;。其中常用的字符参数有：\n\\D 完整的日期 \\d 当前数据库 \\h 服务器名称 \\u 当前用户 连接上客户端后，通过 prompt 命令修改\nprompt (\\u@\\h) [\\d]\u0026gt; 在 MySQL 的配置文件中配置。\nprompt=(\\\\u@\\\\h) [\\\\d]\u0026gt;\\\\_ 通过环境变量配置。\nexport MYSQL_PS1=\u0026#34;(\\u@\\h) [\\d]\u0026gt; \u0026#34; 参考：http://renial.iteye.com/blog/773675\nMySQL 语法规范 关键字和函数名称全部 大写 数据库名称，表名称，字段名称全部 小写 SQL 语句必须以 分号结尾 数据库操作 数据库创建：CREATE 语法：CREATE {DATABASE SCHEMA} [IF NOT EXISTS] db_name [DEFAULT] CHARACTER SET [=] charset_name DATABASE 和 SCHEMA 是相同的，任选其一 IF NOT EXISTS:如果创建的数据库存在，则不只报出 warning，不写会报错 CHRARCTER SET utf8:为表设置编码方式，如果不设置则用 mysql 默认的编码方式 查看数据库列表：SHOW SHOW { DATABASE SCHEMAS } [LIKE \u0026lsquo;pattern\u0026rsquo; WHERE expr] SHOW CREATE DATABASE xx：显示 xx 数据库信息 数据库的修改：ALTER 修改数据库编码方式：ALTER { DATABASE SCHEMAS } [db_name][default] CHARACTER SET [=] charset_name 删除数据库：DROP 删除数据库：DROP { DATABASE SCHEMAS } [IF EXISTS] db_name; --修改mysql操作符为当前日期 mysql -uroot -proot prompt \\D --展示所有数据库 show databases; --创建数据库 create database if not exists t1 character set gbk; --展示数据库t1的创建命令和编码形式 show create database t1; --修改数据库编码格式 alter database t2 character set = utf8; --删除数据库 drop database if exists t1; --展示警告信息 show warnings; 四、数据类型 ","keywords":["mysql"],"articleBody":"涵盖全部 MySQL 数据库的基础，MySQL 数据库的基础知识、数据表的常用操作及各种约束的使用，以及综合的运用各种命令实现记录进行 CURD 等操作。\nMySQL 安装与配置 数据类型 流程控制与运算符 DDL、DCL、DQL、DML 常用函数 表类型（存储引擎） 图形化工具 修改 MySQL 提示符 MySQL 客户端的默认提示符是 mysql\u003e，基本上没什么实际作用。其实可以修改这个提示符，让它显示一些有用的信息，例如当前所在的数据库等。修改方法有四种，其中前两种只对当前连接有效，后两种则对所有连接有效。\n连接客户端时通过参数指定 mysql --prompt=\"(\\u@\\h) [\\d]\u003e \" my.cnf\n[mysql] prompt=mysql(\\\\u@\\\\h:\\\\d)\u003e 这样提示符就会变成 (user@host) [database]\u003e。其中常用的字符参数有：\n\\D 完整的日期 \\d 当前数据库 \\h 服务器名称 \\u 当前用户 连接上客户端后，通过 prompt 命令修改\nprompt (\\u@\\h) [\\d]\u003e 在 MySQL 的配置文件中配置。\nprompt=(\\\\u@\\\\h) [\\\\d]\u003e\\\\_ 通过环境变量配置。\nexport MYSQL_PS1=\"(\\u@\\h) [\\d]\u003e \" 参考：http://renial.iteye.com/blog/773675\nMySQL 语法规范 关键字和函数名称全部 大写 数据库名称，表名称，字段名称全部 小写 SQL 语句必须以 分号结尾 数据库操作 数据库创建：CREATE 语法：CREATE {DATABASE SCHEMA} [IF NOT EXISTS] db_name [DEFAULT] CHARACTER SET [=] charset_name DATABASE 和 SCHEMA 是相同的，任选其一 IF NOT EXISTS:如果创建的数据库存在，则不只报出 warning，不写会报错 CHRARCTER SET utf8:为表设置编码方式，如果不设置则用 mysql 默认的编码方式 查看数据库列表：SHOW SHOW { DATABASE SCHEMAS } [LIKE ‘pattern’ WHERE expr] SHOW CREATE DATABASE xx：显示 xx 数据库信息 数据库的修改：ALTER 修改数据库编码方式：ALTER { DATABASE SCHEMAS } [db_name][default] CHARACTER SET [=] charset_name 删除数据库：DROP 删除数据库：DROP { DATABASE SCHEMAS } [IF EXISTS] db_name; --修改mysql操作符为当前日期 mysql -uroot -proot prompt \\D --展示所有数据库 show databases; --创建数据库 create database if not exists t1 character set gbk; --展示数据库t1的创建命令和编码形式 show create database t1; --修改数据库编码格式 alter database t2 character set = utf8; --删除数据库 drop database if exists t1; --展示警告信息 show warnings; 四、数据类型 char 型字符串有 0-255 之间的字节，通常被称作定长类型。所存字节不满 char 型所给它的字节，剩下的以空格补齐，仍会存储满你所给它的字节。 varchar 型的字符串是变长类型，存多少字节它就存储多少字节，不会在后面补上空格。字节长度在 0-65535 之间。 1 个字节等于 8 个 bit，L+ 几个字节后面的几个字节指的是他的最大存储范围。8 个 bit 等于就是 8 个 1，相当于 255，就是 2 的 8 次方。16 个 1 就相当于 2 的 16 次方。3 个字节四个字节依次类推。 ENUM 枚举值 就是给他几个选项，它从这几个选项中做选择，最多有 65535 个值。 SET 我们称之为集合，集合最多有 64 个成员，它在这些集合成员中做任意的排列组合。 YEAR：2 位或者 4 位，1970 到 2069 年，允许 70 到 69 TIME：-8385959 到 8385959 DATE：1000.01.01 到 9999.12.31 DATETIME：1000.01.01 00:00:00 到 9999.12.31 23:59:59 TIMESTAMP：1970.01.01 00 点起 到 2037 年之间的一个值 五、数据表操作 数据表（或表）是数据库最重要的组成部分之一，是其他对象的基础 表是一个二维表，行称为 记录，列称为 字段 创建数据表据表 1、打开数据库：USE db_name; 2、查看当前数据库：SELECT DATABASE(); 3、创建数据表：\nCREATE TABLE [IF NOT EXISTS] table_name( column_name data_type, ... column_name data_type ) CREATE TABLE tb1( username VARCHAR(20), userage TINYINT UNSIGNED, salary FLOAT(8,2) UNSIGNED, ); 查看数据表 SHOW TABLES [FROM db_name] [LIKE 'pattern' WHERE expr]; 查看当前选择的数据库的所有表\nSHOW TABLES; 查看 MYSQL 数据库中的所有表，当前选择数据库位置不变\nSHOW TABLES FROM MYSQL; 查看当前选择的数据库\nSELECT DATABASE(); 查看数据表结构\nSHOW COLUMNS FROM table_name; 插入与查找 插入记录\nINSERT [INTO] tb_name [(col_name,col_name,...)] VALUES (va1,...) 查找记录\nSELECT expr,.. FROM tb_name 空值与非空 NULL，字段值可以为空 NOT NULL，字段值禁止为空\nCREATE TABLE tb2( username VARCHAR(20) NOT NULL; age TINYINT UNSIGNE NULL; ); 自动编号 自动编号 AUTO_INCREMENT 自动编号，且必须与主键配合使用\n自动编号 AUTO_INCREMENT 作用 1、自动编号：保证记录的唯一性 2、类型必须为整型（可以是 FLOAT(5,0)等，小数点后必须为 0），必须和主键 PRIMARY KEY 组合使用 3、默认情况下，起始值为 1，每次的增量为 1\nCREATE TABLE tb3( id SMALLINT UNSIGNED AUTO_INCREMENT, username VARCHAR(30) NOT NULL); -- 报错，自动增量字段必须设置成主键 主键约束 PRIMARY KEY，也可以写成KEY 1、每张数据表只能存在一个主键 2、主键保证记录的唯一性 3、主键自动为NOT NULL，即必须要为主键赋值。但如果记录中添加了AUTO_INCREMENT，那么不需要手动赋值 4、auto_increment必须和主键primary key一起使用，但主键primary key不一定要和auto_increment一块使用\nCREATE TABLE tb3( id SMALLINT UNSIGNED AUTO_INCREMENT PRIMARY KEY, username VARCHAR(30) NOT NULL); 唯一约束 PRIMARE KEY 主键约束 一张表中只能有一个\nUNIQUE KEY 1、唯一约束 2、唯一约束可以保证记录的唯一性 3、唯一约束的字段可以为空值 4、每张数据表可以存在多个唯一约束\nCREATE TABLE tb3( id SMALLINT UNSIGNED AUTO_INCREMENT PRIMARY KEY, username VARCHAR(30) NOT NULL UNIQUE KEY, age tinyint UNSIGNED ); 在创建索引时也是有区别的 默认约束 DEFAULT 当插入记录时，如果没有明确为字段赋值，则自动赋予默认值。\nCREATE TABLE tb6( id SMALLINT UNSIGNED AUTO_INCREMENT PRIMARY KEY, username VARCHAR(20) NOT NULL UNIQUE KEY, sex ENUM('1','2','3') DEFAULT '3' ); 其中对性别字段默认选择3\n六、约束以及修改数据表 FOREIGN KEY：保持数据一致性，完整性；实现一对一或一对多关系。 要求：父表和子表必须使用相同的存储引擎,而且禁止使用临时表；数据表的存储引擎只能为 InnoDB；外键列和参照列必须具有类似的数据类型。其中数字的长度或是否有符号位必须相同；而字符的长度则可以不同；外键列和参照列必须创建索引。如果外键列不存在索引的话，MySQL 将自动创建索引。 在 MY.ini 文件中编辑默认的存储引擎：default-storage-engine=INNODB； 显示创建表的语句：SHOW CREATE TABLE table_name； 查看表是否有索引：SHOW INDEXS FROM table_name； 以网格查看表是否有索引：SHOW INDEXS FROM table_name\\G； CREATE TABLE table_name1( id SMALLINT UNSIGNED AUTO_INCREMENT PRIMARY KEY, name VARCHAR(20) NOT NULL ) CREATE TABLE table_name2( id SMALLINT UNSIGNED AUTO_INCREMENT PRIMARY KEY, username VARCHAR(20) NOT NULL, pid SMALLINT UNSIGNED, FOREIGN KEY (pid) REFERENCES table_name1(id) /* 外键 pid 参照 table_name1中的 id 字段 */ ) – EOF –\n","wordCount":"508","inLanguage":"en","datePublished":"2016-07-31T10:00:00Z","dateModified":"2016-07-31T10:00:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zyf.im/2016/07/31/imooc-meet-mysql-notes/"},"publisher":{"@type":"Organization","name":"ZYF.IM BLOG","logo":{"@type":"ImageObject","url":"https://zyf.im/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://zyf.im/ accesskey=h title="ZYF.IM (Alt + H)"><img src=https://zyf.im/apple-touch-icon.png alt aria-label=logo height=35>ZYF.IM</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://zyf.im/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://zyf.im/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://zyf.im/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://zyf.im/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://zyf.im/>Home</a>&nbsp;»&nbsp;<a href=https://zyf.im/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">IMOOC 与MySQL的零距离接触</h1><div class=post-meta><span title='2016-07-31 10:00:00 +0000 UTC'>July 31, 2016</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;508 words&nbsp;·&nbsp;Me</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#修改-mysql-提示符>修改 MySQL 提示符</a><ul><li><a href=#连接客户端时通过参数指定>连接客户端时通过参数指定</a></li></ul></li><li><a href=#mysql-语法规范>MySQL 语法规范</a></li><li><a href=#数据库操作>数据库操作</a><ul><li><a href=#数据库创建create>数据库创建：CREATE</a></li><li><a href=#查看数据库列表show>查看数据库列表：SHOW</a></li><li><a href=#数据库的修改alter>数据库的修改：ALTER</a></li><li><a href=#删除数据库drop>删除数据库：DROP</a></li></ul></li><li><a href=#四数据类型>四、数据类型</a></li><li><a href=#五数据表操作>五、数据表操作</a><ul><li><a href=#创建数据表据表>创建数据表据表</a></li><li><a href=#查看数据表>查看数据表</a></li><li><a href=#插入与查找>插入与查找</a></li><li><a href=#空值与非空>空值与非空</a></li><li><a href=#自动编号>自动编号</a></li><li><a href=#主键约束>主键约束</a></li><li><a href=#唯一约束>唯一约束</a></li><li><a href=#默认约束>默认约束</a></li></ul></li><li><a href=#六约束以及修改数据表>六、约束以及修改数据表</a></li></ul></nav></div></details></div><div class=post-content><p>涵盖全部 MySQL 数据库的基础，MySQL 数据库的基础知识、数据表的常用操作及各种约束的使用，以及综合的运用各种命令实现记录进行 CURD 等操作。</p><ul><li>MySQL 安装与配置</li><li>数据类型</li><li>流程控制与运算符</li><li>DDL、DCL、DQL、DML</li><li>常用函数</li><li>表类型（存储引擎）</li><li>图形化工具</li></ul><h2 id=修改-mysql-提示符>修改 MySQL 提示符<a hidden class=anchor aria-hidden=true href=#修改-mysql-提示符>#</a></h2><p>MySQL 客户端的默认提示符是 <code>mysql></code>，基本上没什么实际作用。其实可以修改这个提示符，让它显示一些有用的信息，例如当前所在的数据库等。修改方法有四种，其中前两种只对当前连接有效，后两种则对所有连接有效。</p><h3 id=连接客户端时通过参数指定>连接客户端时通过参数指定<a hidden class=anchor aria-hidden=true href=#连接客户端时通过参数指定>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>mysql --prompt<span class=o>=</span><span class=s2>&#34;(\u@\h) [\d]&gt; &#34;</span>
</span></span></code></pre></div><p><code>my.cnf</code></p><pre tabindex=0><code class=language-conf data-lang=conf>[mysql]
prompt=mysql(\\u@\\h:\\d)&gt;
</code></pre><p>这样提示符就会变成 <code>(user@host) [database]></code>。其中常用的字符参数有：</p><ul><li><code>\D</code> 完整的日期</li><li><code>\d</code> 当前数据库</li><li><code>\h</code> 服务器名称</li><li><code>\u</code> 当前用户</li></ul><p>连接上客户端后，通过 <code>prompt</code> 命令修改</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=n>prompt</span><span class=w> </span><span class=p>(</span><span class=err>\</span><span class=n>u</span><span class=o>@</span><span class=err>\</span><span class=n>h</span><span class=p>)</span><span class=w> </span><span class=p>[</span><span class=err>\</span><span class=n>d</span><span class=p>]</span><span class=o>&gt;</span><span class=w>
</span></span></span></code></pre></div><p>在 MySQL 的配置文件中配置。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=n>prompt</span><span class=o>=</span><span class=p>(</span><span class=err>\\</span><span class=n>u</span><span class=o>@</span><span class=err>\\</span><span class=n>h</span><span class=p>)</span><span class=w> </span><span class=p>[</span><span class=err>\\</span><span class=n>d</span><span class=p>]</span><span class=o>&gt;</span><span class=err>\\</span><span class=n>_</span><span class=w>
</span></span></span></code></pre></div><p>通过环境变量配置。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=n>export</span><span class=w> </span><span class=n>MYSQL_PS1</span><span class=o>=</span><span class=s2>&#34;(\u@\h) [\d]&gt; &#34;</span><span class=w>
</span></span></span></code></pre></div><blockquote><p>参考：<a href=http://renial.iteye.com/blog/773675>http://renial.iteye.com/blog/773675</a></p></blockquote><h2 id=mysql-语法规范>MySQL 语法规范<a hidden class=anchor aria-hidden=true href=#mysql-语法规范>#</a></h2><ul><li>关键字和函数名称全部 <strong>大写</strong></li><li>数据库名称，表名称，字段名称全部 <strong>小写</strong></li><li>SQL 语句必须以 <strong>分号结尾</strong></li></ul><h2 id=数据库操作>数据库操作<a hidden class=anchor aria-hidden=true href=#数据库操作>#</a></h2><h3 id=数据库创建create>数据库创建：CREATE<a hidden class=anchor aria-hidden=true href=#数据库创建create>#</a></h3><ul><li>语法：CREATE {DATABASE SCHEMA} [IF NOT EXISTS] db_name [DEFAULT] CHARACTER SET [=] charset_name</li><li>DATABASE 和 SCHEMA 是相同的，任选其一</li><li>IF NOT EXISTS:如果创建的数据库存在，则不只报出 warning，不写会报错</li><li>CHRARCTER SET utf8:为表设置编码方式，如果不设置则用 mysql 默认的编码方式</li></ul><h3 id=查看数据库列表show>查看数据库列表：SHOW<a hidden class=anchor aria-hidden=true href=#查看数据库列表show>#</a></h3><ul><li>SHOW { DATABASE SCHEMAS } [LIKE &lsquo;pattern&rsquo; WHERE expr]</li><li>SHOW CREATE DATABASE xx：显示 xx 数据库信息</li></ul><h3 id=数据库的修改alter>数据库的修改：ALTER<a hidden class=anchor aria-hidden=true href=#数据库的修改alter>#</a></h3><ul><li>修改数据库编码方式：ALTER { DATABASE SCHEMAS } [db_name][default] CHARACTER SET [=] charset_name</li></ul><h3 id=删除数据库drop>删除数据库：DROP<a hidden class=anchor aria-hidden=true href=#删除数据库drop>#</a></h3><ul><li>删除数据库：DROP { DATABASE SCHEMAS } [IF EXISTS] db_name;</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>--修改mysql操作符为当前日期
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>mysql</span><span class=w> </span><span class=o>-</span><span class=n>uroot</span><span class=w> </span><span class=o>-</span><span class=n>proot</span><span class=w> </span><span class=n>prompt</span><span class=w> </span><span class=err>\</span><span class=n>D</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>--展示所有数据库
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>show</span><span class=w> </span><span class=n>databases</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>--创建数据库
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>create</span><span class=w> </span><span class=k>database</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>exists</span><span class=w> </span><span class=n>t1</span><span class=w> </span><span class=nb>character</span><span class=w> </span><span class=k>set</span><span class=w> </span><span class=n>gbk</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>--展示数据库t1的创建命令和编码形式
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>show</span><span class=w> </span><span class=k>create</span><span class=w> </span><span class=k>database</span><span class=w> </span><span class=n>t1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>--修改数据库编码格式
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>alter</span><span class=w> </span><span class=k>database</span><span class=w> </span><span class=n>t2</span><span class=w> </span><span class=nb>character</span><span class=w> </span><span class=k>set</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>utf8</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>--删除数据库
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>drop</span><span class=w> </span><span class=k>database</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=k>exists</span><span class=w> </span><span class=n>t1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>--展示警告信息
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>show</span><span class=w> </span><span class=n>warnings</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><h2 id=四数据类型>四、数据类型<a hidden class=anchor aria-hidden=true href=#四数据类型>#</a></h2><p><img alt=160731-imooc-mysql-tutorials-notes-int loading=lazy src=https://user-images.githubusercontent.com/9289792/80199388-d5776280-8653-11ea-9182-29a23e53ba50.png></p><p><img alt=160731-imooc-mysql-tutorials-notes-float loading=lazy src=https://user-images.githubusercontent.com/9289792/80199384-d4decc00-8653-11ea-88ea-81e6e1f29f5a.png></p><p><img alt=160731-imooc-mysql-tutorials-notes-char loading=lazy src=https://user-images.githubusercontent.com/9289792/80199382-d3150880-8653-11ea-9c7c-2385530649ad.png></p><ul><li>char 型字符串有 0-255 之间的字节，通常被称作定长类型。所存字节不满 char 型所给它的字节，剩下的以空格补齐，仍会存储满你所给它的字节。</li><li>varchar 型的字符串是变长类型，存多少字节它就存储多少字节，不会在后面补上空格。字节长度在 0-65535 之间。</li><li>1 个字节等于 8 个 bit，L+ 几个字节后面的几个字节指的是他的最大存储范围。8 个 bit 等于就是 8 个 1，相当于 255，就是 2 的 8 次方。16 个 1 就相当于 2 的 16 次方。3 个字节四个字节依次类推。</li><li>ENUM 枚举值 就是给他几个选项，它从这几个选项中做选择，最多有 65535 个值。</li><li>SET 我们称之为集合，集合最多有 64 个成员，它在这些集合成员中做任意的排列组合。</li></ul><p><img alt=160731-imooc-mysql-tutorials-notes-time loading=lazy src=https://user-images.githubusercontent.com/9289792/80199391-d60ff900-8653-11ea-9836-4fa28ac1cb33.png></p><ul><li>YEAR：2 位或者 4 位，1970 到 2069 年，允许 70 到 69</li><li>TIME：-8385959 到 8385959</li><li>DATE：1000.01.01 到 9999.12.31</li><li>DATETIME：1000.01.01 00:00:00 到 9999.12.31 23:59:59</li><li>TIMESTAMP：1970.01.01 00 点起 到 2037 年之间的一个值</li></ul><h2 id=五数据表操作>五、数据表操作<a hidden class=anchor aria-hidden=true href=#五数据表操作>#</a></h2><ul><li>数据表（或表）是数据库最重要的组成部分之一，是其他对象的基础</li><li>表是一个二维表，行称为 <code>记录</code>，列称为 <code>字段</code></li></ul><h3 id=创建数据表据表>创建数据表据表<a hidden class=anchor aria-hidden=true href=#创建数据表据表>#</a></h3><p>1、打开数据库：<code>USE db_name;</code>
2、查看当前数据库：<code>SELECT DATABASE();</code>
3、创建数据表：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=p>[</span><span class=k>IF</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>EXISTS</span><span class=p>]</span><span class=w> </span><span class=k>table_name</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>column_name</span><span class=w> </span><span class=n>data_type</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>column_name</span><span class=w> </span><span class=n>data_type</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>tb1</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>username</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>userage</span><span class=w> </span><span class=n>TINYINT</span><span class=w> </span><span class=n>UNSIGNED</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>salary</span><span class=w> </span><span class=nb>FLOAT</span><span class=p>(</span><span class=mi>8</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span><span class=w> </span><span class=n>UNSIGNED</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><h3 id=查看数据表>查看数据表<a hidden class=anchor aria-hidden=true href=#查看数据表>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SHOW</span><span class=w> </span><span class=n>TABLES</span><span class=w> </span><span class=p>[</span><span class=k>FROM</span><span class=w> </span><span class=n>db_name</span><span class=p>]</span><span class=w> </span><span class=p>[</span><span class=k>LIKE</span><span class=w> </span><span class=s1>&#39;pattern&#39;</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>expr</span><span class=p>];</span><span class=w>
</span></span></span></code></pre></div><p>查看当前选择的数据库的所有表</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SHOW</span><span class=w> </span><span class=n>TABLES</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><p>查看 MYSQL 数据库中的所有表，当前选择数据库位置不变</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SHOW</span><span class=w> </span><span class=n>TABLES</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>MYSQL</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><p>查看当前选择的数据库</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=k>DATABASE</span><span class=p>();</span><span class=w>
</span></span></span></code></pre></div><p>查看数据表结构</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SHOW</span><span class=w> </span><span class=n>COLUMNS</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=k>table_name</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><h3 id=插入与查找>插入与查找<a hidden class=anchor aria-hidden=true href=#插入与查找>#</a></h3><p>插入记录</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>INSERT</span><span class=w> </span><span class=p>[</span><span class=k>INTO</span><span class=p>]</span><span class=w> </span><span class=n>tb_name</span><span class=w> </span><span class=p>[(</span><span class=n>col_name</span><span class=p>,</span><span class=n>col_name</span><span class=p>,...)]</span><span class=w> </span><span class=k>VALUES</span><span class=w> </span><span class=p>(</span><span class=n>va1</span><span class=p>,...)</span><span class=w>
</span></span></span></code></pre></div><p>查找记录</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=n>expr</span><span class=p>,..</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>tb_name</span><span class=w>
</span></span></span></code></pre></div><h3 id=空值与非空>空值与非空<a hidden class=anchor aria-hidden=true href=#空值与非空>#</a></h3><p>NULL，字段值可以为空
NOT NULL，字段值禁止为空</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>tb2</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>username</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>age</span><span class=w> </span><span class=n>TINYINT</span><span class=w> </span><span class=n>UNSIGNE</span><span class=w> </span><span class=k>NULL</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><h3 id=自动编号>自动编号<a hidden class=anchor aria-hidden=true href=#自动编号>#</a></h3><p>自动编号 <code>AUTO_INCREMENT</code>
自动编号，且必须与主键配合使用</p><p>自动编号 AUTO_INCREMENT 作用
1、自动编号：保证记录的唯一性
2、类型必须为整型（可以是 FLOAT(5,0)等，小数点后必须为 0），必须和主键 PRIMARY KEY 组合使用
3、默认情况下，起始值为 1，每次的增量为 1</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>tb3</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>id</span><span class=w> </span><span class=nb>SMALLINT</span><span class=w> </span><span class=n>UNSIGNED</span><span class=w> </span><span class=n>AUTO_INCREMENT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>username</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>30</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 报错，自动增量字段必须设置成主键
</span></span></span></code></pre></div><h3 id=主键约束>主键约束<a hidden class=anchor aria-hidden=true href=#主键约束>#</a></h3><p><code>PRIMARY KEY</code>，也可以写成<code>KEY</code>
1、每张数据表只能存在一个主键
2、主键保证记录的唯一性
3、主键自动为<code>NOT NULL</code>，即必须要为主键赋值。但如果记录中添加了<code>AUTO_INCREMENT</code>，那么不需要手动赋值
4、<code>auto_increment</code>必须和主键<code>primary key</code>一起使用，但主键<code>primary key</code>不一定要和<code>auto_increment</code>一块使用</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>tb3</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>id</span><span class=w> </span><span class=nb>SMALLINT</span><span class=w> </span><span class=n>UNSIGNED</span><span class=w> </span><span class=n>AUTO_INCREMENT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>username</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>30</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><h3 id=唯一约束>唯一约束<a hidden class=anchor aria-hidden=true href=#唯一约束>#</a></h3><p><code>PRIMARE KEY</code>
主键约束 一张表中只能有一个</p><p><code>UNIQUE KEY</code>
1、唯一约束
2、唯一约束可以保证记录的唯一性
3、唯一约束的字段可以为空值
4、每张数据表可以存在多个唯一约束</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>tb3</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>id</span><span class=w> </span><span class=nb>SMALLINT</span><span class=w> </span><span class=n>UNSIGNED</span><span class=w> </span><span class=n>AUTO_INCREMENT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>username</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>30</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>UNIQUE</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>age</span><span class=w> </span><span class=n>tinyint</span><span class=w> </span><span class=n>UNSIGNED</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><ul><li>在创建索引时也是有区别的</li></ul><h3 id=默认约束>默认约束<a hidden class=anchor aria-hidden=true href=#默认约束>#</a></h3><p><code>DEFAULT</code> 当插入记录时，如果没有明确为字段赋值，则自动赋予默认值。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>tb6</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>id</span><span class=w> </span><span class=nb>SMALLINT</span><span class=w> </span><span class=n>UNSIGNED</span><span class=w> </span><span class=n>AUTO_INCREMENT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>username</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>UNIQUE</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>sex</span><span class=w> </span><span class=n>ENUM</span><span class=p>(</span><span class=s1>&#39;1&#39;</span><span class=p>,</span><span class=s1>&#39;2&#39;</span><span class=p>,</span><span class=s1>&#39;3&#39;</span><span class=p>)</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=s1>&#39;3&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><p>其中对性别字段默认选择<code>3</code></p><h2 id=六约束以及修改数据表>六、约束以及修改数据表<a hidden class=anchor aria-hidden=true href=#六约束以及修改数据表>#</a></h2><ul><li>FOREIGN KEY：保持数据一致性，完整性；实现一对一或一对多关系。</li><li>要求：父表和子表必须使用相同的存储引擎,而且禁止使用临时表；数据表的存储引擎只能为 InnoDB；外键列和参照列必须具有类似的数据类型。其中数字的长度或是否有符号位必须相同；而字符的长度则可以不同；外键列和参照列必须创建索引。如果外键列不存在索引的话，MySQL 将自动创建索引。</li><li>在 MY.ini 文件中编辑默认的存储引擎：default-storage-engine=INNODB；</li><li>显示创建表的语句：SHOW CREATE TABLE table_name；</li><li>查看表是否有索引：SHOW INDEXS FROM table_name；</li><li>以网格查看表是否有索引：SHOW INDEXS FROM table_name\G；</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>table_name1</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>id</span><span class=w> </span><span class=nb>SMALLINT</span><span class=w> </span><span class=n>UNSIGNED</span><span class=w> </span><span class=n>AUTO_INCREMENT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>name</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>table_name2</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>id</span><span class=w> </span><span class=nb>SMALLINT</span><span class=w> </span><span class=n>UNSIGNED</span><span class=w> </span><span class=n>AUTO_INCREMENT</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>username</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>pid</span><span class=w> </span><span class=nb>SMALLINT</span><span class=w> </span><span class=n>UNSIGNED</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>pid</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>table_name1</span><span class=p>(</span><span class=n>id</span><span class=p>)</span><span class=w> </span><span class=cm>/* 外键 pid 参照 table_name1中的 id 字段 */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><p>&ndash; EOF &ndash;</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://zyf.im/tags/mysql/>Mysql</a></li></ul><nav class=paginav><a class=prev href=https://zyf.im/2016/08/11/leetcode-ransom-note-383/><span class=title>« Prev</span><br><span>LeetCode Ransom Note 383</span>
</a><a class=next href=https://zyf.im/2016/07/29/linux-ssh-key-login-without-password/><span class=title>Next »</span><br><span>Linux SSH 密钥登陆免密码</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://zyf.im/>ZYF.IM BLOG</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>