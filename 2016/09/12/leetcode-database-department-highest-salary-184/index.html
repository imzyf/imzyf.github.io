<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>LeetCode Database Department Highest Salary 184 | ZYF.IM BLOG</title><meta name=keywords content="leetcode"><meta name=description content="184. Department Highest Salary
  The Employee table holds all employees. Every employee has an Id, a salary, and there is also a column for the department Id.
+----+-------+--------+--------------+
| Id | Name  | Salary | DepartmentId |
+----+-------+--------+--------------+
| 1  | Joe   | 70000  | 1            |
| 2  | Henry | 80000  | 2            |
| 3  | Sam   | 60000  | 2            |
| 4  | Max   | 90000  | 1            |
+----+-------+--------+--------------+
  The Department table holds all departments of the company."><meta name=author content="Me"><link rel=canonical href=https://zyf.im/2016/09/12/leetcode-database-department-highest-salary-184/><link crossorigin=anonymous href=/assets/css/stylesheet.63618a0fd0c7dd946ad6f368012c097fc6e5a8464cefd289c140dd28c01ec58d.css integrity="sha256-Y2GKD9DH3ZRq1vNoASwJf8blqEZM79KJwUDdKMAexY0=" rel="preload stylesheet" as=style><link rel=icon href=https://zyf.im/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://zyf.im/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://zyf.im/favicon-32x32.png><link rel=apple-touch-icon href=https://zyf.im/apple-touch-icon.png><link rel=mask-icon href=https://zyf.im/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://zyf.im/2016/09/12/leetcode-database-department-highest-salary-184/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-6DVZ6E58DG"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-6DVZ6E58DG")}</script><meta property="og:url" content="https://zyf.im/2016/09/12/leetcode-database-department-highest-salary-184/"><meta property="og:site_name" content="ZYF.IM BLOG"><meta property="og:title" content="LeetCode Database Department Highest Salary 184"><meta property="og:description" content="184. Department Highest Salary The Employee table holds all employees. Every employee has an Id, a salary, and there is also a column for the department Id.
+----+-------+--------+--------------+ | Id | Name | Salary | DepartmentId | +----+-------+--------+--------------+ | 1 | Joe | 70000 | 1 | | 2 | Henry | 80000 | 2 | | 3 | Sam | 60000 | 2 | | 4 | Max | 90000 | 1 | +----+-------+--------+--------------+ The Department table holds all departments of the company."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2016-09-12T14:00:00+08:00"><meta property="article:modified_time" content="2016-09-12T14:00:00+08:00"><meta property="article:tag" content="Leetcode"><meta name=twitter:card content="summary"><meta name=twitter:title content="LeetCode Database Department Highest Salary 184"><meta name=twitter:description content="184. Department Highest Salary
  The Employee table holds all employees. Every employee has an Id, a salary, and there is also a column for the department Id.
+----+-------+--------+--------------+
| Id | Name  | Salary | DepartmentId |
+----+-------+--------+--------------+
| 1  | Joe   | 70000  | 1            |
| 2  | Henry | 80000  | 2            |
| 3  | Sam   | 60000  | 2            |
| 4  | Max   | 90000  | 1            |
+----+-------+--------+--------------+
  The Department table holds all departments of the company."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://zyf.im/posts/"},{"@type":"ListItem","position":2,"name":"LeetCode Database Department Highest Salary 184","item":"https://zyf.im/2016/09/12/leetcode-database-department-highest-salary-184/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"LeetCode Database Department Highest Salary 184","name":"LeetCode Database Department Highest Salary 184","description":"184. Department Highest Salary The Employee table holds all employees. Every employee has an Id, a salary, and there is also a column for the department Id.\n+----+-------+--------+--------------+ | Id | Name | Salary | DepartmentId | +----+-------+--------+--------------+ | 1 | Joe | 70000 | 1 | | 2 | Henry | 80000 | 2 | | 3 | Sam | 60000 | 2 | | 4 | Max | 90000 | 1 | +----+-------+--------+--------------+ The Department table holds all departments of the company.\n","keywords":["leetcode"],"articleBody":"184. Department Highest Salary The Employee table holds all employees. Every employee has an Id, a salary, and there is also a column for the department Id.\n+----+-------+--------+--------------+ | Id | Name | Salary | DepartmentId | +----+-------+--------+--------------+ | 1 | Joe | 70000 | 1 | | 2 | Henry | 80000 | 2 | | 3 | Sam | 60000 | 2 | | 4 | Max | 90000 | 1 | +----+-------+--------+--------------+ The Department table holds all departments of the company.\n+----+----------+ | Id | Name | +----+----------+ | 1 | IT | | 2 | Sales | +----+----------+ Write a SQL query to find employees who have the highest salary in each of the departments. For the above tables, Max has the highest salary in the IT department and Henry has the highest salary in the Sales department.\n+------------+----------+--------+ | Department | Employee | Salary | +------------+----------+--------+ | IT | Max | 90000 | | Sales | Henry | 80000 | +------------+----------+--------+ 大体意思 查询出每一个部门中收入最后的员工的信息\n自己的解法 一开始时自己没有考虑收入最高可能有并列的情况，就直接 MAX()，加 join in 了；同时也要考虑到：所属部门不存在的情况；修改后 SQL 为\nSELECT d.NAME Department, e.NAME Employee, e.Salary FROM Employee e JOIN ( SELECT max( salary ) salary, departmentId FROM Employee GROUP BY departmentId ) m USING ( salary, departmentId ) JOIN Department d ON e.departmentId = d.id 别人的解法 基本都是连表查询的套路，但是有一段总结还是有些意思的。\n1、聚合函数 max() 的效率不如嵌套子查询 2、in 与 exists 效率差不多，当时在网上查的是：\nin 和 not in 也要慎用，否则会导致全表扫描 很多时候用 exists 代替 in 是一个好的选择\n3、将 join on 代替了 where 判断，效率提升很多，后来有个看过 MYSQL 源码的大神说：\n在 MySQL 的 SELECT 查询当中，其核心算法就是 JOIN 查询算法。其他的查询语句都相应向 JOIN 靠拢：单表查询被当作 JOIN 的特例；子查询被尽量转换为 JOIN 查询\n4、将 join 替换为了 straight_join，还是源码大神说的：\n对于多表查询，如果可以确定表按照某一固定次序处理可以获得较好的效率，则建议加上 STRAIGHT_JOIN 子句，以减少优化器对表进行重排序优化的过程。 该子句一方面可以用于优化器无法给出最优排列的 SQL 语句；另一方面同样适用于优化器可以给出最优排列的 SQL 语句，因为 MySQL 算出最优排列也需要耗费较长的流程。 对于后一状况，可以根据 EXPLAIN 的提示选定表的顺序，并加上 STRAIGHT_JOIN 子句固定该顺序。该状况下的使用前提是几个表之间的数据量比例会一直保持在某一顺序，否则在各表数据此消彼长之后会适得其反。\n对于经常调用的 SQL 语句，这一方法效果较好；同时操作的表越多，效果越好。\nReference: leetcode-184-Department Highest Salary 优化记录 - M-zyh\n","wordCount":"281","inLanguage":"en","datePublished":"2016-09-12T14:00:00+08:00","dateModified":"2016-09-12T14:00:00+08:00","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zyf.im/2016/09/12/leetcode-database-department-highest-salary-184/"},"publisher":{"@type":"Organization","name":"ZYF.IM BLOG","logo":{"@type":"ImageObject","url":"https://zyf.im/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://zyf.im/ accesskey=h title="ZYF.IM (Alt + H)"><img src=https://zyf.im/apple-touch-icon.png alt aria-label=logo height=35>ZYF.IM</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://zyf.im/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://zyf.im/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://zyf.im/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://zyf.im/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://zyf.im/>Home</a>&nbsp;»&nbsp;<a href=https://zyf.im/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">LeetCode Database Department Highest Salary 184</h1><div class=post-meta><span title='2016-09-12 14:00:00 +0800 CST'>September 12, 2016</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;281 words&nbsp;·&nbsp;Me</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><ul><li><a href=#大体意思>大体意思</a></li><li><a href=#自己的解法>自己的解法</a></li><li><a href=#别人的解法>别人的解法</a></li></ul></li></ul></nav></div></details></div><div class=post-content><p><a href=https://leetcode.com/problems/department-highest-salary/>184. Department Highest Salary</a>
  The <code>Employee</code> table holds all employees. Every employee has an Id, a salary, and there is also a column for the department Id.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>----+-------+--------+--------------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>Id</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Name</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>Salary</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>DepartmentId</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>----+-------+--------+--------------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=mi>1</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>Joe</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=mi>70000</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>1</span><span class=w>            </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>Henry</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=mi>80000</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>2</span><span class=w>            </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>3</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>Sam</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=mi>60000</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>2</span><span class=w>            </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>4</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=k>Max</span><span class=w>   </span><span class=o>|</span><span class=w> </span><span class=mi>90000</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=mi>1</span><span class=w>            </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>----+-------+--------+--------------+
</span></span></span></code></pre></div><p>  The <code>Department</code> table holds all departments of the company.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>----+----------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>Id</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Name</span><span class=w>     </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>----+----------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=mi>1</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>IT</span><span class=w>       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=mi>2</span><span class=w>  </span><span class=o>|</span><span class=w> </span><span class=n>Sales</span><span class=w>    </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>----+----------+
</span></span></span></code></pre></div><p>  Write a SQL query to find employees who have the highest salary in each of the departments. For the above tables, Max has the highest salary in the IT department and Henry has the highest salary in the Sales department.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=o>+</span><span class=c1>------------+----------+--------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>Department</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Employee</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>Salary</span><span class=w> </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+----------+--------+
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>|</span><span class=w> </span><span class=n>IT</span><span class=w>         </span><span class=o>|</span><span class=w> </span><span class=k>Max</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=mi>90000</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w> </span><span class=n>Sales</span><span class=w>      </span><span class=o>|</span><span class=w> </span><span class=n>Henry</span><span class=w>    </span><span class=o>|</span><span class=w> </span><span class=mi>80000</span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>+</span><span class=c1>------------+----------+--------+
</span></span></span></code></pre></div><h3 id=大体意思>大体意思<a hidden class=anchor aria-hidden=true href=#大体意思>#</a></h3><p>查询出每一个部门中收入最后的员工的信息</p><h3 id=自己的解法>自己的解法<a hidden class=anchor aria-hidden=true href=#自己的解法>#</a></h3><p>一开始时自己没有考虑收入最高可能有并列的情况，就直接 MAX()，加 join in 了；同时也要考虑到：所属部门不存在的情况；修改后 SQL 为</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>d</span><span class=p>.</span><span class=n>NAME</span><span class=w> </span><span class=n>Department</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>e</span><span class=p>.</span><span class=n>NAME</span><span class=w> </span><span class=n>Employee</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>e</span><span class=p>.</span><span class=n>Salary</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>Employee</span><span class=w> </span><span class=n>e</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>JOIN</span><span class=w> </span><span class=p>(</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=k>max</span><span class=p>(</span><span class=w> </span><span class=n>salary</span><span class=w> </span><span class=p>)</span><span class=w> </span><span class=n>salary</span><span class=p>,</span><span class=w> </span><span class=n>departmentId</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>Employee</span><span class=w> </span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>departmentId</span><span class=w> </span><span class=p>)</span><span class=w> </span><span class=n>m</span><span class=w> </span><span class=k>USING</span><span class=w> </span><span class=p>(</span><span class=w> </span><span class=n>salary</span><span class=p>,</span><span class=w> </span><span class=n>departmentId</span><span class=w> </span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>JOIN</span><span class=w> </span><span class=n>Department</span><span class=w> </span><span class=n>d</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>e</span><span class=p>.</span><span class=n>departmentId</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>d</span><span class=p>.</span><span class=n>id</span><span class=w>
</span></span></span></code></pre></div><h3 id=别人的解法>别人的解法<a hidden class=anchor aria-hidden=true href=#别人的解法>#</a></h3><p>基本都是连表查询的套路，但是有一段总结还是有些意思的。</p><p>1、聚合函数 max() 的效率不如嵌套子查询
2、in 与 exists 效率差不多，当时在网上查的是：</p><blockquote><p>in 和 not in 也要慎用，否则会导致全表扫描
很多时候用 exists 代替 in 是一个好的选择</p></blockquote><p>3、将 join on 代替了 where 判断，效率提升很多，后来有个看过 MYSQL 源码的大神说：</p><blockquote><p>在 MySQL 的 SELECT 查询当中，其核心算法就是 JOIN 查询算法。其他的查询语句都相应向 JOIN 靠拢：单表查询被当作 JOIN 的特例；子查询被尽量转换为 JOIN 查询</p></blockquote><p>4、将 join 替换为了 straight_join，还是源码大神说的：</p><blockquote><p>对于多表查询，如果可以确定表按照某一固定次序处理可以获得较好的效率，则建议加上 STRAIGHT_JOIN 子句，以减少优化器对表进行重排序优化的过程。
该子句一方面可以用于优化器无法给出最优排列的 SQL 语句；另一方面同样适用于优化器可以给出最优排列的 SQL 语句，因为 MySQL 算出最优排列也需要耗费较长的流程。
对于后一状况，可以根据 EXPLAIN 的提示选定表的顺序，并加上 STRAIGHT_JOIN 子句固定该顺序。该状况下的使用前提是几个表之间的数据量比例会一直保持在某一顺序，否则在各表数据此消彼长之后会适得其反。</p></blockquote><p>对于经常调用的 SQL 语句，这一方法效果较好；同时操作的表越多，效果越好。</p><blockquote><p>Reference:
<a href=http://www.cnblogs.com/zhangyunhao/p/4896055.html>leetcode-184-Department Highest Salary 优化记录 - M-zyh</a></p></blockquote></div><footer class=post-footer><ul class=post-tags><li><a href=https://zyf.im/tags/leetcode/>Leetcode</a></li></ul><nav class=paginav><a class=prev href=https://zyf.im/2016/09/14/leetcode-database-trips-and-users-262/><span class=title>« Prev</span><br><span>LeetCode Database Trips and Users 262</span>
</a><a class=next href=https://zyf.im/2016/09/11/leetcode-database-consecutive-numbers-180/><span class=title>Next »</span><br><span>LeetCode Database Consecutive Numbers 180</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://zyf.im/>ZYF.IM BLOG</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>